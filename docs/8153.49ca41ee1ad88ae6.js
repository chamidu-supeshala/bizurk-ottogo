(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8153],{8153:(y,h,a)=>{"use strict";a.r(h),a.d(h,{HistoricalRecordsModule:()=>A});var w=a(6895),u=a(8008),R=a(3416),f=a(8854),v=a(3709),g=a(655),c=a(7154),x=a(4327),e=a(4650),t=a(6339),o=a(6065);const n=[{path:"",component:(()=>{class i extends c.H{constructor(r){super(),this.walletService=r}ngOnInit(){}generateCsv(){this.walletService.exportHistoryLog().pipe().subscribe(r=>(0,g.mG)(this,void 0,void 0,function*(){const p=r.headers.get("Content-Disposition"),E=/filename[^;=\n]*=(['"])?([^\n]*)(\1|;|$)/.exec(p||"");console.log("matches",decodeURIComponent("\xe5\u017d\u2020\xe5\x8f\xb2\xe8\xae\xb0\xe5\xbd\u2022"));const H=null!==E&&decodeURIComponent(E[2])?decodeURIComponent(E[2]):"\u5386\u53f2\u8bb0\u5f55\u6570\u636e.xlsx";(0,x.saveAs)(r.body,H)}))}}return i.\u0275fac=function(r){return new(r||i)(e.Y36(t.X))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-historical-records"]],features:[e.qOj],decls:14,vars:10,consts:[[1,"flex","flex-col","w-full","sm:px-5","py-4"],[1,"flex","flex-auto","items-center","sm:justify-between","w-full"],[1,"block","sm:hidden","mr-1","cursor-pointer","w-8","h-8",3,"routerLink"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"text-2xl","text-text-strong","font-medium"],[1,"flex","flex-col","items-center","sm:items-start","mt-6","text-lg",3,"click"],[1,"text-lg","text-text-strong","font-medium","mb-3"],["appRippleEffect","",1,"primary-btn","w-40","font-medium"]],template:function(r,p){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"ion-icon",3),e.qZA(),e.TgZ(4,"h1",4),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",5),e.NdJ("click",function(){return p.generateCsv()}),e.TgZ(8,"h4",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"button",7),e._uU(12),e.ALo(13,"translate"),e.qZA()()()),2&r&&(e.xp6(2),e.Q6J("routerLink","/settings"),e.xp6(3),e.hij(" ",e.lcZ(6,4,"historical-records")," "),e.xp6(4),e.hij(" ",e.lcZ(10,6,"download-account-data")," "),e.xp6(3),e.hij(" ",e.lcZ(13,8,"generate-csv")," "))},dependencies:[u.gu,u.YI,v.rH,o.R,R.X$]}),i})()}];let s=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[v.Bz.forChild(n),v.Bz]}),i})(),A=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[w.ez,u.Pc,R.aw,s,f.T]}),i})()},4327:function(y,h){var a,u;void 0!==(u="function"==typeof(a=function(){"use strict";function f(t,o,l){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){e(n.response,o,l)},n.onerror=function(){console.error("could not download file")},n.send()}function v(t){var o=new XMLHttpRequest;o.open("HEAD",t,!1);try{o.send()}catch(l){}return 200<=o.status&&299>=o.status}function g(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(l){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,x=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),e=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(t,o,l){var n=c.URL||c.webkitURL,s=document.createElement("a");s.download=o=o||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?g(s):v(s.href)?f(t,o,l):g(s,s.target="_blank")):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){g(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,o,l){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function R(t,o){return typeof o>"u"?o={autoBom:!1}:"object"!=typeof o&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,l),o);else if(v(t))f(t,o,l);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){g(n)})}}:function(t,o,l,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof t)return f(t,o,l);var s="application/octet-stream"===t.type,A=/constructor/i.test(c.HTMLElement)||c.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&A||x)&&typeof FileReader<"u"){var d=new FileReader;d.onloadend=function(){var m=d.result;m=i?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},d.readAsDataURL(t)}else{var r=c.URL||c.webkitURL,p=r.createObjectURL(t);n?n.location=p:location.href=p,n=null,setTimeout(function(){r.revokeObjectURL(p)},4e4)}});c.saveAs=e.saveAs=e,y.exports=e})?a.apply(h,[]):a)&&(y.exports=u)}}]);