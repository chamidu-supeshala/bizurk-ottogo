"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4011],{5915:(b,u,n)=>{n.d(u,{q:()=>d});var g=n(6895),e=n(4650),t=n(4006),m=n(8008),h=n(3416),f=n(7341),P=n(1169),p=n(8854),C=n(6065);function x(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"h2",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-icon",5),e.NdJ("click",function(){e.CHM(i);const _=e.oxw();return e.KtG(_.handleDismiss())}),e.qZA()()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"app-password-field",8),e.ALo(12,"translate"),e._UZ(13,"div",9),e.TgZ(14,"h4",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"app-password-field",10),e.ALo(18,"translate"),e._UZ(19,"app-password-field",11),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",12)(22,"button",13),e.NdJ("click",function(){e.CHM(i);const _=e.oxw();return e.KtG(_.handleDismiss())}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"button",14),e.NdJ("click",function(){e.CHM(i);const _=e.oxw();return e.KtG(_.onChangePassword())}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()}if(2&s){const i=e.oxw();e.Q6J("formGroup",i.changePasswordForm),e.xp6(4),e.hij(" ",e.lcZ(5,10,"change-password")," "),e.xp6(5),e.hij(" ",e.lcZ(10,12,"enter-current-password")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(12,14,"current-password")),e.xp6(4),e.hij(" ",e.lcZ(16,16,"enter-new-password")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,18,"new-password")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,20,"confirm-new-password")),e.xp6(4),e.hij(" ",e.lcZ(24,22,"cancel")," "),e.xp6(2),e.Q6J("disabled",i.changePasswordForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(27,24,"confirm")," ")}}let d=(()=>{class s extends f.u{constructor(i){super(),this.formBuilder=i,this.handleChangePassword=new e.vpe,this.isShowCurrentPassword=!1,this.isShowNewPassword=!1,this.isShowConfirmNewPassword=!1,this.confirmationValidator=a=>a.value?Object.is(a.value,this.changePasswordForm.controls.newPassword.value)?{}:{confirm:!0,error:!0}:{required:!0}}ngOnInit(){this.changePasswordForm=this.formBuilder.group({currentPassword:[null,[t.kI.required]],newPassword:[null,[t.kI.required]],confirmNewPassword:[null,[t.kI.required,this.confirmationValidator]]})}onChangePassword(){this.handleChangePassword.emit(this.changePasswordForm.value),this.changePasswordForm.reset()}}return s.\u0275fac=function(i){return new(i||s)(e.Y36(t.qu))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-change-password-modal"]],outputs:{handleChangePassword:"handleChangePassword"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full",3,"formGroup"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","mb-8","px-1","sm:px-3"],[1,"text-text-strong","text-xl","sm:text-2xl","font-medium","ml-1","mb-1.5"],["formControlName","currentPassword",3,"placeholder"],[1,"border-b","border-main-border","mt-5","mb-3","mx-1"],["customInputClass","mb-5","formControlName","newPassword",3,"placeholder"],["formControlName","confirmNewPassword",3,"placeholder"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],["appRippleEffect","",1,"btn-medium",3,"click"],["appRippleEffect","",1,"btn-blue","font-medium",3,"disabled","click"]],template:function(i,a){1&i&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return a.handleDismiss()}),e.YNc(1,x,28,26,"ng-template"),e.qZA()),2&i&&e.Q6J("isOpen",a.isOpen)},dependencies:[g.ez,t.u5,t._Y,t.JJ,t.JL,t.UX,t.sg,t.u,h.aw,h.X$,m.Pc,m.gu,m.ki,p.T,C.R,P.b],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}"]}),s})()},2738:(b,u,n)=>{n.d(u,{T:()=>x});var g=n(6895),e=n(4650),t=n(4006),m=n(8008),h=n(3416),f=n(8854),P=n(7341),p=n(6540);function C(d,s){if(1&d){const r=e.EpF();e.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"h2",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-icon",5),e.NdJ("click",function(){e.CHM(r);const a=e.oxw();return e.KtG(a.handleDismiss())}),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8),e._UZ(10,"ion-input",9),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",7)(13,"div",8),e._UZ(14,"ion-input",10),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",11),e.NdJ("click",function(){e.CHM(r);const a=e.oxw();return e.KtG(a.getEmailCode())}),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"div",12)(20,"button",13),e.NdJ("click",function(){e.CHM(r);const a=e.oxw();return e.KtG(a.handleDismiss())}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",14),e.NdJ("click",function(){e.CHM(r);const a=e.oxw();return e.KtG(a.onChangePhoneNumber())}),e._uU(24),e.ALo(25,"translate"),e.qZA()()()}if(2&d){const r=e.oxw();e.Q6J("formGroup",r.changePhoneNumberForm),e.xp6(4),e.hij(" ",e.lcZ(5,9,"set-up-email")," "),e.xp6(6),e.s9C("placeholder",e.lcZ(11,11,"email")),e.xp6(4),e.s9C("placeholder",e.lcZ(15,13,"verification-code")),e.xp6(2),e.Q6J("disabled",r.changePhoneNumberForm.controls.email.invalid||r.smsTimeRemaining>0),e.xp6(1),e.hij(" ",e.lcZ(18,15,"get-verification-code")," "),e.xp6(4),e.hij(" ",e.lcZ(22,17,"cancel")," "),e.xp6(2),e.Q6J("disabled",r.changePhoneNumberForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(25,19,"confirm")," ")}}let x=(()=>{class d extends P.u{constructor(r,i){super(),this.formBuilder=r,this.authService=i,this.handleChangeEmailNumber=new e.vpe,this.smsTimeRemaining=0}ngOnInit(){this.changePhoneNumberForm=this.formBuilder.group({email:[null,[t.kI.required]],verificationCode:[null,[t.kI.required]]})}onPhoneNumberChange(r){var i;null===(i=this.changePhoneNumberForm.get("phoneNumber"))||void 0===i||i.patchValue(r)}onChangePhoneNumber(){this.changePhoneNumberForm.invalid||this.handleChangeEmailNumber.emit(this.changePhoneNumberForm.value)}startTimeInterval(){this.timeInterval=setInterval(()=>{this.smsTimeRemaining-=1,this.smsTimeRemaining<1&&clearInterval(this.timeInterval)},1e3)}getEmailCode(){if(!this.changePhoneNumberForm.controls.email.valid)return this.changePhoneNumberForm.controls.email.markAsDirty(),void this.changePhoneNumberForm.controls.email.updateValueAndValidity({onlySelf:!0});this.authService.SendEmailVerifyCodeParam({email:this.changePhoneNumberForm.value.email,type:"modifyEmail"}).subscribe(r=>{console.log(r),1001006!==r.code?(this.toast.toastSuccess("\u90ae\u4ef6\u5df2\u53d1\u9001"),this.smsTimeRemaining=60):this.toast.toastError("\u90ae\u7bb1\u5df2\u5b58\u5728")})}}return d.\u0275fac=function(r){return new(r||d)(e.Y36(t.qu),e.Y36(p.e))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-edit-email-modal"]],outputs:{handleChangeEmailNumber:"handleChangeEmailNumber"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full",3,"formGroup"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","m-1","cursor-pointer",3,"click"],[1,"modal-content","px-1","sm:px-3"],[1,"sms-field","flex","w-full"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-l-lg","border","border-border-input","text-text-strong","text-xl"],["formControlName","email","required","",1,"sms-code",3,"placeholder"],["formControlName","verificationCode","required","",1,"sms-code",3,"placeholder"],[1,"btn-blue","sms-btn","border","border-border-input","rounded-r-lg","font-medium","text-text-strong","p-3","whitespace-nowrap",3,"disabled","click"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],[1,"btn-medium","text-text-strong",3,"click"],[1,"btn-blue","font-medium",3,"disabled","click"]],template:function(r,i){1&r&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return i.handleDismiss()}),e.YNc(1,C,26,21,"ng-template"),e.qZA()),2&r&&e.Q6J("isOpen",i.isOpen)},dependencies:[g.ez,t.u5,t._Y,t.JJ,t.JL,t.Q7,t.UX,t.sg,t.u,h.aw,h.X$,m.Pc,m.gu,m.pK,m.ki,m.j9,f.T],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto;--overflow: visible}ion-modal[_ngcontent-%COMP%]     .ion-page{overflow:visible}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-font-weight: 500;--padding-top: 4px;--padding-bottom: 4px}ion-input.sms-code[_ngcontent-%COMP%]{--padding-start: 10px}.sms-field[_ngcontent-%COMP%]{margin-top:1.2rem}@media (min-width: 640px){.sms-field[_ngcontent-%COMP%]{margin-top:1.7rem}}.sms-btn[_ngcontent-%COMP%]{font-size:1.16rem}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}"]}),d})()},3366:(b,u,n)=>{n.d(u,{N:()=>i});var g=n(6895),e=n(4650),t=n(4006),m=n(8008),h=n(3416),f=n(8854),P=n(7341),p=n(7312),C=n(1075),x=n(6540),d=n(6948),s=n(6065);function r(a,_){if(1&a){const o=e.EpF();e.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"h2",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-icon",5),e.NdJ("click",function(){e.CHM(o);const c=e.oxw();return e.KtG(c.handleDismiss())}),e.qZA()()(),e.TgZ(7,"div",6)(8,"app-phone-control",7),e.NdJ("onSelectPhoneCountry",function(c){e.CHM(o);const M=e.oxw();return e.KtG(M.onSelectPhoneCountry(c))})("onPhoneNumberChange",function(c){e.CHM(o);const M=e.oxw();return e.KtG(M.onPhoneNumberChange(c))}),e.qZA(),e.TgZ(9,"div",8)(10,"div",9),e._UZ(11,"ion-input",10),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){e.CHM(o);const c=e.oxw();return e.KtG(c.onSendVerificationCode())}),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"div",12)(17,"button",13),e.NdJ("click",function(){e.CHM(o);const c=e.oxw();return e.KtG(c.handleDismiss())}),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",14),e.NdJ("click",function(){e.CHM(o);const c=e.oxw();return e.KtG(c.onChangePhoneNumber())}),e._uU(21),e.ALo(22,"translate"),e.qZA()()()}if(2&a){const o=e.oxw();e.Q6J("formGroup",o.changePhoneNumberForm),e.xp6(4),e.hij(" ",e.lcZ(5,8,"set-up-phone-number")," "),e.xp6(7),e.s9C("placeholder",e.lcZ(12,10,"verification-code")),e.xp6(2),e.Q6J("disabled",o.changePhoneNumberForm.controls.phoneNumber.invalid||o.smsTimeRemaining>0),e.xp6(1),e.hij(" ",o.smsTimeRemaining>0?o.smsTimeRemaining:e.lcZ(15,12,"get-sms-code")," "),e.xp6(4),e.hij(" ",e.lcZ(19,14,"cancel")," "),e.xp6(2),e.Q6J("disabled",o.changePhoneNumberForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(22,16,"confirm")," ")}}let i=(()=>{class a extends P.u{constructor(o,l){super(),this.formBuilder=o,this.authService=l,this.handleChangePhoneNumber=new e.vpe,this.smsTimeRemaining=0}ngOnInit(){this.changePhoneNumberForm=this.formBuilder.group({countryCode:["+86",[t.kI.required]],phoneNumber:[null],verificationCode:[null,[t.kI.required]]})}onSelectPhoneCountry(o){var l;o&&(null===(l=this.changePhoneNumberForm.get("countryCode"))||void 0===l||l.patchValue(o))}onPhoneNumberChange(o){var l;null===(l=this.changePhoneNumberForm.get("phoneNumber"))||void 0===l||l.patchValue(o)}onChangePhoneNumber(){this.changePhoneNumberForm.invalid||(this.handleChangePhoneNumber.emit(this.changePhoneNumberForm.value),this.changePhoneNumberForm.reset({countryCode:"+86"}))}startTimeInterval(){this.timeInterval=setInterval(()=>{this.smsTimeRemaining-=1,this.smsTimeRemaining<1&&clearInterval(this.timeInterval)},1e3)}onSendVerificationCode(){const o=this.changePhoneNumberForm.getRawValue();console.log("onSendVerificationCode",o),this.authService.sendSmsCode({type:p.eo.ModifyTheMobilePhone,mobileArea:o.countryCode?o.countryCode:"+86",mobile:o.phoneNumber}).pipe().subscribe(l=>{(0,C.d8)(p._5,(Date.now()+6e4).toString()),0===l.code?(this.smsTimeRemaining=60,this.startTimeInterval(),this.toast.toastSuccess("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001")):this.toast.toastError(l.message)})}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(t.qu),e.Y36(x.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-edit-phone-modal"]],outputs:{handleChangePhoneNumber:"handleChangePhoneNumber"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full",3,"formGroup"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","m-1","cursor-pointer",3,"click"],[1,"modal-content","px-1","sm:px-3"],[3,"onSelectPhoneCountry","onPhoneNumberChange"],[1,"sms-field","flex","w-full"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-l-lg","border","border-border-input","text-text-strong","text-xl"],["formControlName","verificationCode","required","",1,"sms-code",3,"placeholder"],["appRippleEffect","",1,"btn-blue","sms-btn","border","border-border-input","rounded-r-lg","font-medium","text-text-strong","p-3","whitespace-nowrap",3,"disabled","click"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],["appRippleEffect","",1,"btn-medium","text-text-strong",3,"click"],["appRippleEffect","",1,"btn-blue","font-medium",3,"disabled","click"]],template:function(o,l){1&o&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return l.handleDismiss()}),e.YNc(1,r,23,18,"ng-template"),e.qZA()),2&o&&e.Q6J("isOpen",l.isOpen)},dependencies:[g.ez,t.u5,t._Y,t.JJ,t.JL,t.Q7,t.UX,t.sg,t.u,h.aw,h.X$,m.Pc,m.gu,m.pK,m.ki,m.j9,f.T,d.b,s.R],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto;--overflow: visible}ion-modal[_ngcontent-%COMP%]     .ion-page{overflow:visible}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-font-weight: 500;--padding-top: 4px;--padding-bottom: 4px}ion-input.sms-code[_ngcontent-%COMP%]{--padding-start: 10px}.sms-field[_ngcontent-%COMP%]{margin-top:1.2rem}@media (min-width: 640px){.sms-field[_ngcontent-%COMP%]{margin-top:1.7rem}}.sms-btn[_ngcontent-%COMP%]{font-size:1.16rem}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}"]}),a})()}}]);