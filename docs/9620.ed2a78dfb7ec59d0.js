(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9620],{9710:(V,F,i)=>{"use strict";i.d(F,{e:()=>G});var A=i(6895),n=i(4650),e=i(4006),b=i(8008),T=i(3416),x=i(7341),Q=i(8854),k=i(7102),H=i(5433),E=i(5182),J=i(6065);function $(Y,q){1&Y&&n._UZ(0,"app-success-checkmark",19)}function t(Y,q){if(1&Y){const I=n.EpF();n.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"ion-icon",6),n.NdJ("click",function(){n.CHM(I);const C=n.oxw();return n.KtG(C.handleDismiss())}),n.qZA()()(),n.TgZ(7,"ng-scrollbar",7)(8,"div",8),n.YNc(9,$,1,0,"app-success-checkmark",9),n.TgZ(10,"div",10)(11,"span"),n._uU(12),n.ALo(13,"number"),n.qZA(),n._UZ(14,"img",11),n.qZA(),n.TgZ(15,"div",12),n._uU(16),n.ALo(17,"translate"),n.qZA(),n.TgZ(18,"div",13),n.NdJ("click",function(){n.CHM(I);const C=n.oxw(),f=n.MAs(1);return n.KtG(C.convertMore(f))}),n.O4$(),n.TgZ(19,"svg",14),n._UZ(20,"path",15),n.qZA(),n.kcU(),n.TgZ(21,"span"),n._uU(22),n.ALo(23,"translate"),n.qZA()(),n.TgZ(24,"div",16),n.NdJ("click",function(){n.CHM(I);const C=n.oxw(),f=n.MAs(1);return n.KtG(C.navigateToWallet(f))}),n._UZ(25,"i",17),n.TgZ(26,"span"),n._uU(27),n.ALo(28,"translate"),n.qZA()(),n.TgZ(29,"button",18),n.NdJ("click",function(){n.CHM(I);const C=n.oxw(),f=n.MAs(1);return n.KtG(C.onFinish(f))}),n._uU(30),n.ALo(31,"translate"),n.qZA()()()}if(2&Y){const I=n.oxw();n.xp6(4),n.hij(" ",n.lcZ(5,10,"convert-success")," "),n.xp6(3),n.Q6J("autoHeightDisabled",!1),n.xp6(2),n.Q6J("ngIf",I.isOpen),n.xp6(3),n.hij("+",n.xi3(13,12,I.amount,"1.2-2"),""),n.xp6(2),n.Q6J("src",I.logo,n.LSH)("ngClass",I.isCredits?"h-6":"h-8"),n.xp6(2),n.hij(" ",n.lcZ(17,15,"convert-success-desc")," "),n.xp6(6),n.Oqu(n.lcZ(23,17,"convert-more")),n.xp6(5),n.Oqu(n.lcZ(28,19,"my-wallet")),n.xp6(3),n.hij(" ",n.lcZ(31,21,"finished")," ")}}let G=(()=>{class Y extends x.u{constructor(){super(),this.onConvertMore=new n.vpe,this.onCloseAll=new n.vpe}get isCredits(){return this.convertType===k.nC.Credits}get logo(){return this.convertType===k.nC.Credits?"assets/icon/wallet/ottopoints-green.png":"assets/icon/wallet/otto-options.png"}convertMore(I){I.dismiss().then(()=>{this.onConvertMore.emit(!0)})}navigateToWallet(I){this.onCloseAll.emit(!0),I.dismiss().then(()=>{this.router.navigateByUrl("/member/store-credits")})}onFinish(I){this.onCloseAll.emit(!0),I.dismiss()}onModalOpen(){}}return Y.\u0275fac=function(I){return new(I||Y)},Y.\u0275cmp=n.Xpm({type:Y,selectors:[["app-convert-success-modal"]],inputs:{amount:"amount",convertType:"convertType"},outputs:{onConvertMore:"onConvertMore",onCloseAll:"onCloseAll"},standalone:!0,features:[n.qOj,n.jDz],decls:3,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],["modal",""],[1,"modal-header","flex","flex-col","items-center","sm:mb-5","absolute","w-full","px-2","pt-2","z-1"],[1,"flex","items-start","xs:items-center","w-full"],[1,"flex-1","text-2xl","sm:text-3xl","text-text-strong","font-medium"],[1,"xs:ml-7","xs:text-center","fade-in-from-right","modal-title",2,"--duration","200ms"],["name","close-outline",1,"w-7","xs:w-10","h-7","xs:h-10","cursor-pointer",3,"click"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"px-6","pb-8","flex","flex-col","items-center","justify-center","text-base","xs:text-xl","text-text-strong","font-bold","mt-10"],["class","h-40 xs:h-48 -mt-3 sm:-mt-4",4,"ngIf"],[1,"fade-in-from-right","flex","items-center","justify-center","justify-center","-mt-2","text-2xl",2,"--duration","200ms","--delay","100ms"],[1,"ml-1",3,"src","ngClass"],[1,"fade-in-from-top","flex","mt-2.5","text-center",2,"--duration","200ms","--delay","100ms","--distance","-50px"],[1,"fade-in-from-top","text-main-blue","action-btn","flex","text-primary","items-center","justify-center","py-2.5","px-4","mt-2.5","rounded-lg","cursor-pointer",2,"--duration","200ms","--delay","150ms","--distance","-50px",3,"click"],["viewBox","0 0 512 512",1,"h-5","mr-2","text-primary","convert-more"],["fill","currentColor","d","M371.6 132.3c-31.5-29.5-72.4-45.7-115.8-45.6-78.1.1-145.5 53.6-164.1 127.9-1.4 5.4-6.2 9.2-11.7 9.2H22.2c-7.6 0-13.3-6.9-11.9-14.3C32.1 93.6 133.8 6 256 6c67 0 127.8 26.3 172.7 69.2l36-36C479.9 24 506 34.8 506 56.3v135.1c0 13.4-10.8 24.2-24.2 24.2H346.7c-21.6 0-32.3-26.1-17.1-41.3l42-42zm-341.4 164h135.1c21.6 0 32.3 26.1 17.1 41.3l-42.1 42.1c31.5 29.5 72.4 45.7 115.8 45.6 78-.1 145.5-53.6 164.1-127.9 1.4-5.4 6.2-9.2 11.7-9.2h57.8c7.6 0 13.3 6.9 11.9 14.3C479.9 418.4 378.2 506 256 506c-67 0-127.8-26.3-172.7-69.2l-36 36C32.1 488 6 477.2 6 455.7V320.5c0-13.3 10.8-24.2 24.2-24.2z"],[1,"fade-in","text-main-blue","flex","action-btn","text-primary","items-center","justify-center","py-2.5","px-4","rounded-lg","cursor-pointer",2,"--duration","200ms","--delay","150ms",3,"click"],[1,"icon-wallet","font-bold","mr-2","text-xl"],["appRippleEffect","",1,"fade-in-from-bottom","rounded-md","border","btn-medium","border-solid","rounded-md","h-12","px-7","mt-6",2,"--duration","300ms","--delay","150ms","--distance","50px",3,"click"],[1,"h-40","xs:h-48","-mt-3","sm:-mt-4"]],template:function(I,w){1&I&&(n.TgZ(0,"ion-modal",0,1),n.NdJ("didDismiss",function(){return w.handleDismiss()}),n.YNc(2,t,32,23,"ng-template"),n.qZA()),2&I&&n.Q6J("isOpen",w.isOpen)},dependencies:[A.ez,A.mk,A.O5,A.JJ,e.UX,e.u5,T.aw,T.X$,b.Pc,b.gu,b.ki,Q.T,J.R,H.kb,H.KC,E.C],styles:["ion-modal[_ngcontent-%COMP%]{--max-width: 500px;--height: auto;--backdrop-opacity: .32 !important}.convert-more[_ngcontent-%COMP%]{transform:rotateX(180deg)}.action-btn[_ngcontent-%COMP%]:hover{background-color:var(--main-blue-transparent)}"]}),Y})()},7134:(V,F,i)=>{"use strict";i.d(F,{M:()=>I});var A=i(655),n=i(6895),e=i(4650),b=i(3709),T=i(4006),x=i(8008),Q=i(3416),k=i(8854),H=i(9116),E=i(7341),J=i(5433),$=i(9808),t=i(2805),G=i(6065),Y=i(609);function q(w,C){if(1&w){const f=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._UZ(3,"img",4),e.TgZ(4,"div",5)(5,"h2",6),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"ion-icon",7),e.NdJ("click",function(){e.CHM(f);const c=e.oxw();return e.KtG(c.handleDismiss())}),e.qZA()()(),e.TgZ(9,"ng-scrollbar",8)(10,"div",9)(11,"p",10),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",11)(15,"div",12)(16,"div",13),e.NdJ("click",function(){e.CHM(f);const c=e.oxw();return e.KtG(c.openRewardsPointsModal())}),e._UZ(17,"img",14),e.TgZ(18,"div",15)(19,"p"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"div",16),e._UZ(23,"app-odometer",17),e.qZA()()()()(),e.TgZ(24,"div",18)(25,"button",19),e.NdJ("click",function(){e.CHM(f);const c=e.oxw();return e.KtG(c.handleDismiss())}),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"button",20),e.NdJ("click",function(){e.CHM(f);const c=e.oxw();return e.KtG(c.openRewardsPointsModal())}),e.TgZ(29,"div",21),e._uU(30," + "),e.qZA(),e.TgZ(31,"span",22),e._uU(32),e.ALo(33,"translate"),e.qZA()()()()()}if(2&w){const f=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,8,"otto-options")," "),e.xp6(3),e.Q6J("autoHeightDisabled",!1),e.xp6(3),e.hij(" ",e.lcZ(13,10,"otto-options-modal-description3")," "),e.xp6(8),e.Oqu(e.lcZ(21,12,"otto-options")),e.xp6(3),e.Q6J("disabled",!0)("input",f.ottoOptions),e.xp6(3),e.hij(" ",e.lcZ(27,14,"close")," "),e.xp6(6),e.hij(" ",e.lcZ(33,16,"get-options")," ")}}let I=(()=>{class w extends E.u{constructor(){super(...arguments),this.ottoOptions=0,this.handleOpenRewardsPointsModal=new e.vpe}ngOnInit(){}openRewardsPointsModal(){return(0,A.mG)(this,void 0,void 0,function*(){this.handleDismiss(),yield(0,$.n)((0,t.H)(200)),this.handleOpenRewardsPointsModal.emit()})}}return w.\u0275fac=function(){let C;return function(m){return(C||(C=e.n5z(w)))(m||w)}}(),w.\u0275cmp=e.Xpm({type:w,selectors:[["app-otto-options-modal"]],inputs:{ottoOptions:"ottoOptions"},outputs:{handleOpenRewardsPointsModal:"handleOpenRewardsPointsModal"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal","settings-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"flex","items-start","w-full"],["src","assets/icon/wallet/otto-options.png","alt","Otto Options",1,"fade-in-from-right","h-6","sm:h-9","mr-1","mt-1","sm:mt-0",2,"--duration","200ms"],[1,"fade-in-from-right","flex-1","text-text-strong","font-medium",2,"--duration","200ms"],[1,"text-2xl","sm:text-3xl"],["name","close-outline",1,"w-8","h-8","sm:w-10","sm:h-10","cursor-pointer",3,"click"],["visibility","hover",2,"max-height","80vh",3,"autoHeightDisabled"],[1,"fade-in-from-bottom","flex-1","text-text-strong","font-medium","ml-5","sm:ml-8","mb-6","sm:mb-8","mt-1","sm:mt-0","px-2",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"p-0","mt-2","text-base","sm:text-lg","font-medium","text-text-strong"],[1,"modal-content","flex","flex-col","flex-auto","w-full","px-1","sm:px-4","mt-1.5","sm:mt-0"],[1,"flex","flex-col","gap-3","sm:gap-0","sm:flex-row","items-center","justify-center","mb-16","sm:mb-44","w-full","text-text-strong","font-medium"],[1,"fade-in-from-right","otto-options-btn","flex","items-center","justify-center","cursor-pointer","relative","py-1","rounded-lg","border-2","border-accent-blue","bg-pro-switch",2,"--duration","200ms","--delay","100ms",3,"click"],["src","assets/icon/wallet/otto-options.png","alt","Otto Options",1,"left-3","h-11","mr-1","absolute"],[1,"flex","flex-col","items-center","justify-center"],[1,"flex","items-center"],["format","(,ddd).dd",3,"disabled","input"],[1,"modal-footer","flex","w-full","sm:justify-between","px-1","sm:px-3","justify-between"],["appRippleEffect","",1,"fade-in-from-right","block","btn-medium","w-24","xs:w-32","sm:w-44","border","border-solid",2,"--duration","300ms","--delay","200ms",3,"click"],[1,"fade-in-from-left","block","get-option-btn","text-2xl","rounded-md","font-medium","relative","text-white","bg-accent-blue","h-full","ml-2",2,"--duration","300ms","--delay","300ms",3,"click"],[1,"hidden","xs:block","button-icon","absolute","left-4","sm:left-6","top-1","sm:top-2.5","font-bold","text-4xl"],[1,"xs:ml-5"]],template:function(f,m){1&f&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return m.handleDismiss()}),e.YNc(1,q,34,18,"ng-template"),e.qZA()),2&f&&e.Q6J("isOpen",m.isOpen)},dependencies:[n.ez,b.Bz,T.UX,T.u5,Q.aw,Q.X$,x.Pc,x.gu,x.ki,k.T,G.R,Y.D,H.Q,J.kb,J.KC],styles:["ion-modal[_ngcontent-%COMP%]{--height: auto}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-content[_ngcontent-%COMP%]   .otto-options-btn[_ngcontent-%COMP%]{width:244px}@media (min-width: 340px){.modal-content[_ngcontent-%COMP%]   .otto-options-btn[_ngcontent-%COMP%]{width:260px}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;border-radius:.375rem;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;height:60px}}.modal-footer[_ngcontent-%COMP%]   button.get-option-btn[_ngcontent-%COMP%]{width:140px}@media (min-width: 340px){.modal-footer[_ngcontent-%COMP%]   button.get-option-btn[_ngcontent-%COMP%]{width:200px}}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button.get-option-btn[_ngcontent-%COMP%]{width:260px}}"]}),w})()},2211:(V,F,i)=>{"use strict";i.d(F,{p:()=>w});var A=i(6895),n=i(4650),e=i(3709),b=i(4006),T=i(8008),x=i(3416),Q=i(7341),k=i(8854),H=i(7102);const E=["container"];let J=(()=>{class C{constructor(){this.text="",this.cssClass="",this.innerHtml=""}ngOnChanges(m){m.text.currentValue!==m.text.previousValue&&(this.innerHtml=m.text.currentValue.replace(/\S/g,"<span>$&</span>"),setTimeout(()=>{this.div.nativeElement.querySelectorAll("span").forEach((c,g)=>{c.style.setProperty("--delay",.05*g+"s")})},100))}}return C.\u0275fac=function(m){return new(m||C)},C.\u0275cmp=n.Xpm({type:C,selectors:[["app-text-jumping"]],viewQuery:function(m,c){if(1&m&&n.Gf(E,5),2&m){let g;n.iGM(g=n.CRH())&&(c.div=g.first)}},inputs:{text:"text",cssClass:"cssClass"},standalone:!0,features:[n.TTD,n.jDz],decls:2,vars:2,consts:[[3,"ngClass","innerHTML"],["container",""]],template:function(m,c){1&m&&n._UZ(0,"div",0,1),2&m&&n.Q6J("ngClass",c.cssClass)("innerHTML",c.innerHtml,n.oJD)},dependencies:[A.ez,A.mk],styles:["div[_ngcontent-%COMP%]     span{display:inline-block;animation:_ngcontent-%COMP%_textjump 2s infinite;animation-timing-function:ease-in-out;animation-delay:var(--delay)}@keyframes _ngcontent-%COMP%_textjump{0%,20%{transform:translateY(0)}10%{transform:translateY(-15%)}to{transform:translateY(0)}}"]}),C})();var $=i(5433),t=i(6065),G=i(609);let Y=(()=>{class C{constructor(m,c){this.el=m,this.i18n=c,this.myValue=!0,this.backToTopText="",this.elem=m}onMouseMove(m){let g=(m instanceof MouseEvent?[m.clientX,m.clientY]:[m.touches[0].clientX,m.touches[0].clientY]).concat([this.elem.nativeElement]);window.requestAnimationFrame(()=>{this.transformElement(this.elem.nativeElement,g)})}onMouseLeave(m){setTimeout(()=>{this.elem.nativeElement.style.transform="perspective(50px) rotateX(0deg) rotateY(0deg)"},100)}onMouseEnter(m){this.elem.nativeElement.style.transition="transform 0.3s cubic-bezier(.25,.8,.25,1)"}transforms(m,c,g){let W=g.getBoundingClientRect();return"perspective(50px)    rotateX("+(c-W.y-W.height/2)/150+"deg)    rotateY("+-(m-W.x-W.width/2)/150+"deg) "}transformElement(m,c){m.style.transform=this.transforms.apply(null,c)}}return C.\u0275fac=function(m){return new(m||C)(n.Y36(n.SBq),n.Y36(x.sK))},C.\u0275dir=n.lG2({type:C,selectors:[["","hover3d",""]],hostVars:1,hostBindings:function(m,c){1&m&&n.NdJ("mousemove",function(W){return c.onMouseMove(W)})("touchmove",function(W){return c.onMouseMove(W)})("mouseleave",function(W){return c.onMouseLeave(W)})("touchend",function(W){return c.onMouseLeave(W)})("mouseenter",function(W){return c.onMouseEnter(W)}),2&m&&n.Ikx("overflow-scroll",c.myValue)}}),C})();const q=function(C){return{hidden:C}};function I(C,f){if(1&C){const m=n.EpF();n.TgZ(0,"div",1)(1,"div",2)(2,"div",3),n._UZ(3,"img",4),n.TgZ(4,"div",5)(5,"h2",6),n._uU(6),n.ALo(7,"translate"),n.qZA()(),n.TgZ(8,"ion-icon",7),n.NdJ("click",function(){n.CHM(m);const g=n.oxw();return n.KtG(g.handleDismiss())}),n.qZA()()(),n.TgZ(9,"ng-scrollbar",8)(10,"div",9)(11,"span",10),n._uU(12),n.ALo(13,"translate"),n.qZA(),n.TgZ(14,"span",11),n.NdJ("click",function(){n.CHM(m);const g=n.oxw();return n.KtG(g.onClickLearnMore())}),n._uU(15),n.ALo(16,"translate"),n.TgZ(17,"span",12),n._UZ(18,"ion-icon",13),n.qZA()()(),n.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17),n._UZ(23,"img",18),n.TgZ(24,"div",19)(25,"p"),n._uU(26),n.ALo(27,"translate"),n.qZA(),n.TgZ(28,"div",12),n._UZ(29,"app-odometer",20),n.qZA()()()(),n.TgZ(30,"button",21),n.NdJ("click",function(){n.CHM(m);const g=n.oxw();return n.KtG(g.onOpenSendAssetsModal())}),n._UZ(31,"i",22),n.TgZ(32,"span",23),n._uU(33),n.ALo(34,"translate"),n.qZA()()(),n._UZ(35,"div",24),n.TgZ(36,"h2",25),n._uU(37),n.ALo(38,"translate"),n.qZA(),n.TgZ(39,"div",26)(40,"div",27),n.NdJ("click",function(){n.CHM(m);const g=n.oxw();return n.KtG(g.onConvertCreditsModal())}),n.TgZ(41,"div",28)(42,"h2",29),n._uU(43),n.ALo(44,"translate"),n.qZA(),n.TgZ(45,"p",30),n._uU(46),n.ALo(47,"translate"),n.qZA(),n.TgZ(48,"button",31),n._uU(49),n.ALo(50,"translate"),n.qZA(),n._UZ(51,"img",32),n.qZA()(),n.TgZ(52,"div",33),n.NdJ("click",function(){n.CHM(m);const g=n.oxw();return n.KtG(g.onConvertOptionsModal())}),n.TgZ(53,"div",34)(54,"h2",29),n._uU(55),n.ALo(56,"translate"),n.qZA(),n.TgZ(57,"p",30),n._uU(58),n.ALo(59,"translate"),n.qZA(),n.TgZ(60,"button",35),n._UZ(61,"app-text-jumping",36),n.ALo(62,"translate"),n.qZA(),n._UZ(63,"img",37),n.qZA()()()()()()}if(2&C){const m=n.oxw();n.xp6(6),n.hij(" ",n.lcZ(7,16,"rewards-points")," "),n.xp6(3),n.Q6J("autoHeightDisabled",!1),n.xp6(3),n.hij(" ",n.lcZ(13,18,"rewards-points-subtitle")," "),n.xp6(2),n.Q6J("ngClass",n.VKq(40,q,m.router.url.startsWith("/invite"))),n.xp6(1),n.hij(" ",n.lcZ(16,20,"learn-more")," "),n.xp6(11),n.Oqu(n.lcZ(27,22,"rewards-points")),n.xp6(3),n.Q6J("disabled",!0)("input",m.rewardsPoints),n.xp6(4),n.hij(" ",n.lcZ(34,24,"send")," "),n.xp6(4),n.hij(" ",n.lcZ(38,26,"claim-your-rewards")," "),n.xp6(6),n.hij(" ",n.lcZ(44,28,"account-credits")," "),n.xp6(3),n.hij(" ",n.lcZ(47,30,"account-credits-description")," "),n.xp6(3),n.hij(" ",n.lcZ(50,32,"convert-now")," "),n.xp6(6),n.hij(" ",n.lcZ(56,34,"otto-options")," "),n.xp6(3),n.hij(" ",n.lcZ(59,36,"otto-options-description")," "),n.xp6(3),n.Q6J("text",n.lcZ(62,38,"coming-soon-text"))}}let w=(()=>{class C extends Q.u{constructor(){super(...arguments),this.rewardsPoints=0,this.handleOpenConvertModal=new n.vpe,this.handleOpenOttoOptionsModal=new n.vpe,this.handleOpenSendAssetsModal=new n.vpe,this.bypassComingSoonMode=!1}onShiftKeydownHandler(m){this.bypassComingSoonMode||(this.bypassComingSoonMode=!0)}onShiftKeyupHandler(m){this.bypassComingSoonMode&&(this.bypassComingSoonMode=!1)}ngOnInit(){}onConvertCreditsModal(){this.handleOpenConvertModal.emit(H.nC.Credits)}onConvertOptionsModal(){this.bypassComingSoonMode&&this.handleOpenConvertModal.emit(H.nC.Options)}onOpenSendAssetsModal(){this.handleOpenSendAssetsModal.emit(H.pz.Points)}onClickLearnMore(){this.modalRef.dismiss(),this.router.navigateByUrl("/invite")}}return C.\u0275fac=function(){let f;return function(c){return(f||(f=n.n5z(C)))(c||C)}}(),C.\u0275cmp=n.Xpm({type:C,selectors:[["app-rewards-points-modal"]],hostBindings:function(m,c){1&m&&n.NdJ("keydown.shift",function(){return c.onShiftKeydownHandler()},!1,n.evT)("keyup.shift",function(){return c.onShiftKeyupHandler()},!1,n.evT)},inputs:{rewardsPoints:"rewardsPoints"},outputs:{handleOpenConvertModal:"handleOpenConvertModal",handleOpenOttoOptionsModal:"handleOpenOttoOptionsModal",handleOpenSendAssetsModal:"handleOpenSendAssetsModal"},standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:1,consts:[[1,"theme-modal","settings-modal","responsive-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","h-full","responsive-modal-content"],[1,"modal-header","p-2","sm:pb-0","flex","flex-col","items-center","responsive-modal-header"],[1,"flex","items-start","w-full"],["src","assets/images/rewards-points.png","alt","Rewards Point",1,"fade-in-from-right","h-6","w-6","sm:h-9","sm:w-9","mr-1","mt-1","sm:mt-0",2,"--duration","200ms"],[1,"fade-in-from-right","flex-1","text-text-strong","font-medium",2,"--duration","200ms"],[1,"text-2xl","sm:text-3xl"],["name","close-outline",1,"w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:mr-1",3,"click"],["visibility","hover",3,"autoHeightDisabled"],[1,"fade-in-from-bottom","flex-1","text-text-strong","font-medium","ml-5","sm:ml-9","mt-1","sm:mt-0","px-2","sm:px-3.5","text-base","sm:text-lg","responsive-modal-body",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"inline-flex","mr-2"],[1,"cursor-pointer","inline-flex","text-main-blue","mr-2",3,"ngClass","click"],[1,"flex","items-center"],["name","help-circle-outline",1,"w-6","h-6"],[1,"modal-content","pt-5","sm:pt-7","pb-6","sm:pt-6","sm:pb-12","px-3","sm:px-5"],[1,"flex","flex-col","gap-3","items-center","justify-center","mb-5","sm:mb-7","w-full","text-text-strong","font-medium"],[1,"fade-in-from-right","points-balance","gradient-border","relative","flex","items-center","justify-center","rounded-lg","text-text-strong","bg-pro-switch",2,"--duration","200ms","--delay","100ms"],[1,"flex","items-center","justify-center","pointer-events-none","bg-pro-switch","w-full","h-full","py-1","rounded-lg"],["src","assets/images/rewards-points.png","alt","Rewards",1,"absolute","left-3","h-11","mr-1","ml-0.5"],[1,"flex","flex-col","items-center","justify-center"],["format","(,ddd).dd",3,"disabled","input"],["appRippleEffect","",1,"fade-in-from-top","send-button","bg-main-blue-transparent","text-main-blue","relative","font-medium","m-0","h-14","border-2","border-solid","border-main-blue","rounded-md",2,"--duration","200ms","--delay","150ms",3,"click"],[1,"icon-arrow","absolute","left-7","text-2xl"],[1,"text-xl","xs:text-2xl","sm:ml-7"],[1,"fade-in","seperator","border-main-border","mt-7","sm:mt-10","mb-4",2,"--duration","200ms","--delay","200ms"],[1,"fade-in-from-left","text-left","text-xl","sm:text-2xl","text-text-strong","font-medium","mb-3",2,"--duration","200ms","--delay","150ms"],[1,"grid","grid-rows-2","sm:grid-rows-1","sm:grid-cols-2","sm:gap-x-3","gap-y-3","sm:gap-y-0","justify-center"],[1,"fade-in-from-right","w-full","h-full","cursor-pointer",2,"--duration","300ms","--delay","200ms",3,"click"],["hover3d","",1,"credits-convert-card","relative","flex","flex-col","w-full","overflow-hidden","rounded-xl","p-3","md:py-3","md:px-4","text-white"],[1,"text-xl","sm:text-2xl","font-medium","z-10"],[1,"ml-1","my-2","z-10"],["appRippleEffect","",1,"convert-btn","font-medium","text-lg","sm:text-xl","rounded-md","w-fit","px-5","py-2.5","z-10"],["src","assets/icon/wallet/ottopoints-green-512.png","alt","Account Credit",1,"absolute"],[1,"fade-in-from-left","w-full","h-full",2,"--duration","300ms","--delay","200ms",3,"click"],["hover3d","",1,"options-convert-card","relative","flex","flex-col","w-full","overflow-hidden","rounded-xl","p-3","md:py-3","md:px-4","text-white"],["appRippleEffect","",1,"convert-btn","coming-soon","font-medium","text-lg","sm:text-xl","rounded-md","w-fit","px-5","py-2.5","z-10","!opacity-100"],[3,"text"],["src","assets/icon/wallet/otto-options-512.png","alt","Otto Options",1,"absolute"]],template:function(m,c){1&m&&(n.TgZ(0,"ion-modal",0),n.NdJ("didDismiss",function(){return c.handleDismiss()}),n.YNc(1,I,64,42,"ng-template"),n.qZA()),2&m&&n.Q6J("isOpen",c.isOpen)},dependencies:[A.ez,A.mk,e.Bz,b.UX,b.u5,x.aw,x.X$,T.Pc,T.gu,T.ki,k.T,t.R,G.D,Y,J,$.kb,$.KC],styles:['ion-modal[_ngcontent-%COMP%]{--height: auto;--max-width: 730px;--width: 730px}ion-modal[_ngcontent-%COMP%]   .account-balance[_ngcontent-%COMP%]{background-color:var(--bg-balance-box)}.modal-content[_ngcontent-%COMP%]   .credits-convert-card[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .options-convert-card[_ngcontent-%COMP%]{max-width:380px;max-height:220px;justify-self:center}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]   .credits-convert-card[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .options-convert-card[_ngcontent-%COMP%]{aspect-ratio:none}}.modal-content[_ngcontent-%COMP%]   .credits-convert-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .options-convert-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100% - 24px);aspect-ratio:1;right:-15%}.modal-content[_ngcontent-%COMP%]   .credits-convert-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .options-convert-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{max-width:65%;font-size:16px}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]   .credits-convert-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .options-convert-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:18px;line-height:22px}}@media (min-width: 768px){.modal-content[_ngcontent-%COMP%]   .credits-convert-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .options-convert-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{max-width:60%}}.modal-content[_ngcontent-%COMP%]   .credits-convert-card[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,rgb(25,134,76),rgb(20,208,134))}.modal-content[_ngcontent-%COMP%]   .options-convert-card[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,rgb(32,69,199),rgb(1,160,242))}.modal-content[_ngcontent-%COMP%]   button.convert-btn[_ngcontent-%COMP%]{background-color:#1d1d1d}.modal-content[_ngcontent-%COMP%]   button.convert-btn.coming-soon[_ngcontent-%COMP%]{background-color:#45416a;color:#eee;border-color:#45416a;cursor:default;outline:0}.modal-content[_ngcontent-%COMP%]   .points-balance[_ngcontent-%COMP%]{width:244px}@media (min-width: 340px){.modal-content[_ngcontent-%COMP%]   .points-balance[_ngcontent-%COMP%]{width:260px}}.modal-content[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{width:244px}@media (min-width: 340px){.modal-content[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{width:260px}}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{width:12rem}}.modal-content[_ngcontent-%COMP%]   .seperator[_ngcontent-%COMP%]{border-bottom-width:3px}.gradient-border[_ngcontent-%COMP%]{position:relative;padding:2px;height:60px;z-index:1}.gradient-border[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:-1;inset:0;border-radius:10px;background:linear-gradient(45deg,#0014ff,#042fff,#044dff,#ff00f7,#fd8aff,#002bff,#7a00ff,#ff00c8,#e400ff);background-position:0 50%;background-size:200% 200%;animation:_ngcontent-%COMP%_changeBg 2.5s linear infinite}@keyframes _ngcontent-%COMP%_changeBg{50%{background-position:100% 50%}}']}),C})()},5330:(V,F,i)=>{"use strict";i.d(F,{d:()=>Mt});var A=i(655),n=i(6895),e=i(4650),b=i(4006),T=i(8008),x=i(3416),Q=i(5433),k=i(8854),H=i(7341),E=i(7154),J=i(4950),$=i(7579),t=i(8372),G=i(1884),Y=i(3900),q=i(2722),I=i(9116),w=i(5939),C=i(8201),f=i(9067);function m(a,U){1&a&&(e.TgZ(0,"ion-label",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"send-to")," "))}function c(a,U){1&a&&e._UZ(0,"app-three-dots-loader",18)}function g(a,U){if(1&a&&e._UZ(0,"img",21),2&a){const o=e.oxw(2);e.Q6J("src",o.recipient.avatar,e.LSH)}}function W(a,U){1&a&&e._UZ(0,"app-profile-icon",22)}function tt(a,U){if(1&a&&(e.ynx(0),e.YNc(1,g,1,1,"img",19),e.YNc(2,W,1,0,"ng-template",null,20,e.W1O),e.BQk()),2&a){const o=e.MAs(3),s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.recipient.avatar)("ngIfElse",o)}}function Z(a,U){1&a&&e._UZ(0,"div",23)}function _(a,U){1&a&&(e.TgZ(0,"ion-label",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"amount")," "))}const l=function(a){return{amount:a}},v=function(a){return[a]};let p=(()=>{class a extends E.H{constructor(o){super(),this.userService=o,this.recipient={address:"",transferAmount:null},this.canRemove=!0,this.readonly=!1,this.showLabels=!0,this.assetImage="assets/icon/wallet/ottopoints-green.png",this.minAmount=0,this.handleRemove=new e.vpe,this.validateUser=new $.x,this.validateAmount=new $.x}ngOnInit(){this.validateWhileTyping()}validateWhileTyping(){this.validateUser.pipe((0,t.b)(1e3),(0,G.x)(),(0,Y.w)(o=>(this.recipient.validStatus="validating",this.userService.isUserExists(o).pipe((0,q.R)(this.validateUser))))).subscribe(o=>{o?(this.recipient.validStatus=o.exist?"valid":"invalid",this.recipient.avatar=o.avatar):this.recipient.validStatus=""}),this.validateAmount.pipe((0,t.b)(1e3),(0,G.x)()).subscribe(o=>{var s;this.recipient.amountInvalid=parseFloat(`${null!==(s=this.recipient.transferAmount)&&void 0!==s?s:0}`)<this.minAmount})}onClickRemoveBtn(){this.canRemove&&this.handleRemove.emit(!0)}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(w.K))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-recipient-form-field"]],inputs:{recipient:"recipient",canRemove:"canRemove",readonly:"readonly",showLabels:"showLabels",assetImage:"assetImage",minAmount:"minAmount"},outputs:{handleRemove:"handleRemove"},standalone:!0,features:[e.qOj,e.jDz],decls:23,vars:36,consts:[[1,"flex","items-end","w-full","overflow-hidden"],[1,"flex-1","grid","grid-cols-11","sm:grid-cols-2","gap-1","sm:gap-3"],[1,"fade-in-from-right","col-span-6","sm:col-span-1",2,"--duration","300ms","--delay","100ms","--distance","50px"],["class","text-sm text-grey-1 font-medium ml-1",4,"ngIf"],[1,"wrap","relative","flex","items-center","bg-bg-input","rounded-lg","border","border-border-input","text-xl","overflow-hidden",3,"ngClass"],["class","ml-2 sm:ml-2.5 mr-px",4,"ngIf"],[4,"ngIf"],["class","h-5 w-5 sm:h-7 sm:w-7 ml-1.5 sm:ml-2 my-2 sm:my-0 rounded-full default-avatar",4,"ngIf"],[1,"recipient-form-field","text-xs","xs:text-base","sm:text-xl","h-9","font-medium",3,"placeholder","ngModel","ngModelChange"],[1,"error","text-xs","h-4","mt-px","font-bold"],[1,"fade-in-from-left","col-span-5","sm:col-span-1",2,"--duration","300ms","--delay","100ms","--distance","-50px"],["placeholder","0.00",1,"mt-0.5","text-base","sm:text-xl","block",3,"min","digits","ngModel","readonly","allowNull","ngModelChange"],["alt","Transfer type","slot","start",1,"h-5","sm:h-7","ml-2","my-2","sm:my-0",3,"src"],[1,"error","text-xs","h-4","mt-px","font-bold","whitespace-nowrap"],[1,"flex","h-full","ml-1","sm:mr-1","mb-5",3,"ngClass"],[1,"remove-btn","flex","items-center","justify-center","rounded-full","w-4","h-4","sm:w-6","sm:h-6","cursor-pointer","mb-2","sm:mb-1",3,"click"],[1,"icon-close"],[1,"text-sm","text-grey-1","font-medium","ml-1"],[1,"ml-2","sm:ml-2.5","mr-px"],["class","h-5 w-5 sm:h-7 sm:w-7 ml-1.5 sm:ml-2 my-2 sm:my-0 rounded-full",3,"src",4,"ngIf","ngIfElse"],["defaultAvatar",""],[1,"h-5","w-5","sm:h-7","sm:w-7","ml-1.5","sm:ml-2","my-2","sm:my-0","rounded-full",3,"src"],[1,"h-5","w-5","sm:h-7","sm:w-7","ml-1.5","sm:ml-2","my-2","sm:my-0","rounded-full","overflow-hidden"],[1,"h-5","w-5","sm:h-7","sm:w-7","ml-1.5","sm:ml-2","my-2","sm:my-0","rounded-full","default-avatar"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,m,3,3,"ion-label",3),e.TgZ(4,"div",4),e.YNc(5,c,1,0,"app-three-dots-loader",5),e.YNc(6,tt,4,2,"ng-container",6),e.YNc(7,Z,1,0,"div",7),e.TgZ(8,"ion-input",8),e.NdJ("ngModelChange",function(j){return s.recipient.address=j})("ngModelChange",function(j){return s.validateUser.next(j)}),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",9),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",10),e.YNc(14,_,3,3,"ion-label",3),e.TgZ(15,"app-number-field",11),e.NdJ("ngModelChange",function(j){return s.recipient.transferAmount=j})("ngModelChange",function(j){return s.validateAmount.next(j)}),e._UZ(16,"img",12),e.qZA(),e.TgZ(17,"div",13),e._uU(18),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"div",14)(21,"div",15),e.NdJ("click",function(){return s.onClickRemoveBtn()}),e._UZ(22,"i",16),e.qZA()()()),2&o&&(e.xp6(3),e.Q6J("ngIf",s.showLabels),e.xp6(1),e.ekj("error-field","invalid"===s.recipient.validStatus),e.Q6J("ngClass",s.showLabels?"mt-0.5":"mt-px"),e.xp6(1),e.Q6J("ngIf","validating"===s.recipient.validStatus),e.xp6(1),e.Q6J("ngIf","valid"===s.recipient.validStatus),e.xp6(1),e.Q6J("ngIf","validating"!==s.recipient.validStatus&&"valid"!==s.recipient.validStatus),e.xp6(1),e.Q6J("placeholder",e.lcZ(9,25,"enter-username-or-userID"))("ngModel",s.recipient.address),e.xp6(2),e.ekj("invisible","invalid"!==s.recipient.validStatus),e.xp6(1),e.Oqu(e.lcZ(12,27,"user-not-found")),e.xp6(3),e.Q6J("ngIf",s.showLabels),e.xp6(1),e.ekj("error-field",s.recipient.amountInvalid),e.Q6J("min",0)("digits",2)("ngModel",s.recipient.transferAmount)("readonly",s.readonly)("allowNull",!0),e.xp6(1),e.Q6J("src",s.assetImage,e.LSH),e.xp6(1),e.ekj("invisible",!s.recipient.amountInvalid),e.xp6(1),e.Oqu(e.xi3(19,29,"minimum-send-amount",e.VKq(32,l,s.minAmount.toFixed(2)))),e.xp6(2),e.Q6J("ngClass",e.VKq(34,v,s.canRemove?"visible":"invisible")))},dependencies:[n.ez,n.mk,n.O5,T.Pc,T.pK,T.Q$,T.j9,x.aw,x.X$,b.u5,b.JJ,b.On,b.UX,J.E,I.Q,C.m,f.x],styles:["ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--grey-1);--placeholder-font-weight: 500;--padding-top: 4px;--padding-bottom: 4px;--padding-left: 0px;color:var(--text-strong)}@media (min-width: 640px){ion-input[_ngcontent-%COMP%]{--padding-left: 4px}}app-number-field[_ngcontent-%COMP%]     ion-input{font-size:1rem;line-height:1.5rem;--padding-top: 4px;--padding-bottom: 4px;--placeholder-color: var(--grey-1);--placeholder-font-weight: 500}app-number-field[_ngcontent-%COMP%]     ion-input input{font-weight:500!important}@media (min-width: 640px){app-number-field[_ngcontent-%COMP%]     ion-input{font-size:1.25rem;line-height:1.75rem}}app-number-field[_ngcontent-%COMP%]     ion-icon{height:.75rem;width:.75rem}app-number-field.error-field[_ngcontent-%COMP%]     .border-border-input{border-color:red}.remove-btn[_ngcontent-%COMP%]{background-color:rgba(238,68,17,.15);color:#ff0024}.remove-btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]{font-size:10px}@media (min-width: 340px){.remove-btn[_ngcontent-%COMP%]   .icon-close[_ngcontent-%COMP%]{font-size:13px}}.error-field[_ngcontent-%COMP%]{border-color:red}.error[_ngcontent-%COMP%]{color:red;font-size:12px}@media (min-width: 340px){.error[_ngcontent-%COMP%]{font-size:.79rem;line-height:1rem}}app-three-dots-loader[_ngcontent-%COMP%]     .knight-rider-loader{font-size:7.4px;line-height:15px}@media (min-width: 640px){app-three-dots-loader[_ngcontent-%COMP%]     .knight-rider-loader{font-size:12.8px;line-height:20px}}app-three-dots-loader[_ngcontent-%COMP%]     .knight-rider-loader .knight-rider-bar{height:1em;width:.5em;margin:0 1px 12px}@media (min-width: 640px){app-three-dots-loader[_ngcontent-%COMP%]     .knight-rider-loader .knight-rider-bar{margin-bottom:0}}  .light-mode app-recipient-form-field .default-avatar{background:#dcdcdc}  .dark-mode app-recipient-form-field .default-avatar{background:#a7a8b4}"]}),a})();var O=i(7102),P=i(9808),B=i(2805),N=i(6339),z=i(6065),h=i(8222);const L=function(a){return{count:a}};function u(a,U){if(1&a&&(e.TgZ(0,"span",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const o=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,"confirm-send-desc-1",e.VKq(4,L,o.recipients.length)))}}function S(a,U){1&a&&(e.TgZ(0,"span",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"confirm-send-desc-2")," "))}function r(a,U){1&a&&e._UZ(0,"app-loading-spinner",20)}function M(a,U){1&a&&(e._uU(0),e.ALo(1,"translate")),2&a&&e.hij(" ",e.lcZ(1,1,"confirm")," ")}function d(a,U){if(1&a){const o=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"ion-icon",5),e.NdJ("click",function(){e.CHM(o);const y=e.oxw();return e.KtG(y.handleDismiss())}),e.qZA(),e.TgZ(4,"div",6)(5,"h2",7),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"ion-icon",8),e.NdJ("click",function(){e.CHM(o);const y=e.oxw();return e.KtG(y.handleDismiss())}),e.qZA()()(),e.TgZ(9,"ng-scrollbar",9)(10,"div",10)(11,"div",11)(12,"span"),e._uU(13),e.ALo(14,"number"),e.qZA(),e._UZ(15,"img",12),e.YNc(16,u,3,6,"span",13),e.YNc(17,S,3,3,"span",13),e.qZA()(),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){e.CHM(o);const y=e.oxw(),j=e.MAs(1);return e.KtG(y.handleConfirm(j))}),e.YNc(20,r,1,0,"app-loading-spinner",16),e.YNc(21,M,2,3,"ng-template",null,17,e.W1O),e.qZA(),e.TgZ(23,"ion-button",18),e.NdJ("click",function(){e.CHM(o);const y=e.oxw();return e.KtG(y.handleDismiss())}),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()}if(2&a){const o=e.MAs(22),s=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,9,"confirm-send")," "),e.xp6(3),e.Q6J("autoHeightDisabled",!1),e.xp6(4),e.Oqu(e.xi3(14,11,s.amount,"1.2-2")),e.xp6(2),e.Q6J("src",s.logo,e.LSH),e.xp6(1),e.Q6J("ngIf",s.recipients.length>1),e.xp6(1),e.Q6J("ngIf",1===s.recipients.length),e.xp6(3),e.Q6J("ngIf",s.isLoading)("ngIfElse",o),e.xp6(4),e.hij(" ",e.lcZ(25,14,"go-back")," ")}}let D=(()=>{class a extends H.u{constructor(o,s,y){super(),this.userService=o,this.walletService=s,this.i18n=y,this.onSendSuccess=new e.vpe,this.isLoading=!1}get amount(){return this.recipients.reduce((o,s)=>parseFloat(s.transferAmount?`${s.transferAmount}`:"0")+o,0)}handleConfirm(o){return(0,A.mG)(this,void 0,void 0,function*(){if(this.isLoading)return;const s={recipients:this.recipients.length,amount:this.recipients.reduce((j,st)=>parseFloat(st.transferAmount?`${st.transferAmount}`:"0")+j,0)};this.isLoading=!0,(this.assetType===O.pz.Credits?this.walletService.sendCredits({type:2,userList:this.recipients.map(j=>({user:j.address,balance:`${j.transferAmount}`}))}):this.assetType===O.pz.Points?this.walletService.sendPoints({userList:this.recipients.map(j=>({user:j.address,point:`${j.transferAmount}`}))}):this.walletService.sendHashPower({userList:this.recipients.map(j=>({user:j.address,hashPower:`${j.transferAmount}`}))})).pipe((0,q.R)(this.onDestroy$)).subscribe(j=>{if(0===j.code)this.userService.updateUserInfo(),this.walletService.onWalletUpdate.next(!0),o.dismiss().then(()=>{this.isLoading=!1}),this.onSendSuccess.emit(s);else{this.isLoading=!1;const st=j.i18nKey?this.i18n.instant(j.i18nKey):j.message;o.dismiss().then(()=>{this.toast.toastError(st)})}})})}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(w.K),e.Y36(N.X),e.Y36(x.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-send-confirm-modal"]],inputs:{recipients:"recipients",assetType:"assetType",logo:"logo"},outputs:{onSendSuccess:"onSendSuccess"},standalone:!0,features:[e.qOj,e.jDz],decls:3,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],["modal",""],[1,"flex","flex-col","pt-2","sm:p-2","h-full"],[1,"modal-header","flex","flex-col","items-center","sm:mb-5"],[1,"flex","items-start","xs:items-center","w-full"],["name","chevron-back-outline",1,"w-7","xs:w-10","h-7","xs:h-10","cursor-pointer",3,"click"],[1,"flex-1","text-2xl","sm:text-3xl","text-text-strong","font-medium"],[1,"fade-in-from-right","modal-title",2,"--duration","200ms"],["name","close-outline",1,"w-7","xs:w-10","h-7","xs:h-10","pr-1","sm:pr-0","cursor-pointer",3,"click"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"modal-content","flex","flex-col","flex-auto","items-center","w-full","px-2","sm:px-6","my-8","text-text-strong","font-medium","sm:pt-2"],[1,"fade-in-from-right","w-full","flex","items-center","justify-center","py-2","text-base","sm:text-2xl",2,"--duration","200ms","--delay","100ms"],[1,"ml-1","mr-1","mb-1","h-5",3,"src"],["class","whitespace-nowrap",4,"ngIf"],[1,"modal-footer","w-full","flex-col","items-center","px-2","sm:px-6","mb-2","sm:mb-5"],["appRippleEffect","",1,"fade-in-from-bottom","btn-blue","w-full","uppercase","text-3xl","font-medium","rounded-md","h-16","flex","items-center","justify-center",2,"--duration","200ms","--delay","200ms",3,"click"],["size","30px","thick","3px",4,"ngIf","ngIfElse"],["notLoading",""],["expand","block","fill","clear","size","large",1,"fade-in-from-bottom","go-back","w-full","text-2xl","font-medium","mt-2",2,"--duration","200ms","--delay","300ms",3,"click"],[1,"whitespace-nowrap"],["size","30px","thick","3px"]],template:function(o,s){1&o&&(e.TgZ(0,"ion-modal",0,1),e.NdJ("didDismiss",function(){return s.handleDismiss()}),e.YNc(2,d,26,16,"ng-template"),e.qZA()),2&o&&e.Q6J("isOpen",s.isOpen)},dependencies:[n.ez,n.O5,n.JJ,b.UX,b.u5,x.aw,x.X$,T.Pc,T.YG,T.gu,T.ki,k.T,z.R,I.Q,h.T,Q.kb,Q.KC],styles:["ion-modal[_ngcontent-%COMP%]{--max-width: 500px;--height: auto;--backdrop-opacity: .32 !important}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-width:1px;border-style:solid}"]}),a})();var R=i(9787),K=i(8798);const X=["popover"];function nt(a,U){if(1&a&&(e.TgZ(0,"p",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const o=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,o.selectedAsset.description)," ")}}function ot(a,U){}function et(a,U){}function at(a,U){1&a&&(e.TgZ(0,"div",45),e._uU(1,"1"),e.qZA())}function rt(a,U){if(1&a){const o=e.EpF();e.TgZ(0,"div",46)(1,"div",45),e._uU(2),e.qZA(),e.TgZ(3,"div",25)(4,"app-recipient-form-field",47),e.NdJ("handleRemove",function(){const j=e.CHM(o).index,st=e.oxw(2);return e.KtG(st.onRemoveRecipient(j))}),e.qZA()()()}if(2&a){const o=U.$implicit,s=U.index,y=e.oxw(2);e.xp6(2),e.Oqu(s+2),e.xp6(2),e.Q6J("recipient",o)("assetImage",y.selectedAsset.logo)("showLabels",!1)("minAmount",y.minAmount)}}function it(a,U){if(1&a){const o=e.EpF();e.TgZ(0,"div",48),e.NdJ("click",function(){e.CHM(o);const y=e.oxw(2);return e.KtG(y.onAddRecipient())}),e.TgZ(1,"div",49),e._UZ(2,"ion-icon",50),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()}2&a&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"add-recipient")," "))}function lt(a,U){if(1&a&&(e.TgZ(0,"div",51)(1,"div",52),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",53),e._uU(5),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,2,"recipients")," "),e.xp6(3),e.Oqu(o.recipients.length)}}function dt(a,U){if(1&a){const o=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"ion-icon",8),e.NdJ("click",function(){e.CHM(o);const y=e.oxw();return e.KtG(y.handleDismiss())}),e.qZA(),e._UZ(4,"i",9),e.TgZ(5,"div",10)(6,"h2",11),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,nt,3,3,"p",12),e.qZA(),e.TgZ(10,"div",13),e.YNc(11,ot,0,0,"ng-template",14),e.qZA(),e.TgZ(12,"i",15),e.NdJ("click",function(){e.CHM(o);const y=e.oxw();return e.KtG(y.handleDismiss())}),e.qZA()()(),e.TgZ(13,"ng-scrollbar",16)(14,"div",17)(15,"span",18),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19),e.YNc(19,et,0,0,"ng-template",14),e.qZA(),e.TgZ(20,"div",20)(21,"div",21)(22,"ng-scrollbar",22)(23,"div",23),e.YNc(24,at,2,0,"div",24),e.TgZ(25,"div",25),e._UZ(26,"app-recipient-form-field",26),e.qZA()(),e.YNc(27,rt,5,5,"div",27),e.qZA(),e.TgZ(28,"div",28),e.YNc(29,it,5,3,"div",29),e.qZA()()(),e.TgZ(30,"p",30),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._UZ(33,"div",31),e.TgZ(34,"div",32),e.YNc(35,lt,6,4,"div",33),e.TgZ(36,"div",34)(37,"div",35),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div",36),e._UZ(41,"img",37),e.ALo(42,"translate"),e._uU(43),e.ALo(44,"number"),e.qZA()(),e.TgZ(45,"div",38)(46,"button",39),e.NdJ("click",function(){e.CHM(o);const y=e.oxw();return e.KtG(y.handleDismiss())}),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",40)(50,"button",41),e.NdJ("click",function(){e.CHM(o);const y=e.oxw();return e.KtG(y.onSend())}),e.TgZ(51,"div",42),e._UZ(52,"i",43),e._uU(53),e.ALo(54,"translate"),e.qZA()()()()()()()}if(2&a){const o=e.oxw(),s=e.MAs(3);e.xp6(7),e.hij(" ",e.lcZ(8,28,o.selectedAsset.title)," "),e.xp6(2),e.Q6J("ngIf",!o.giftSend),e.xp6(2),e.Q6J("ngTemplateOutlet",s),e.xp6(2),e.Q6J("autoHeightDisabled",!1),e.xp6(3),e.hij(" ",e.lcZ(17,30,o.selectedAsset.description)," "),e.xp6(3),e.Q6J("ngTemplateOutlet",s),e.xp6(3),e.Q6J("autoHeightDisabled",!1),e.xp6(2),e.Q6J("ngIf",!o.giftSend),e.xp6(2),e.Q6J("recipient",o.recipients[0])("canRemove",!1)("readonly",o.giftSend)("assetImage",o.selectedAsset.logo)("minAmount",o.minAmount),e.xp6(1),e.Q6J("ngForOf",o.recipients.slice(1)),e.xp6(2),e.Q6J("ngIf",!o.giftSend),e.xp6(1),e.ekj("invisible",!o.sendAmountExceedsBalance),e.xp6(1),e.Oqu(e.lcZ(32,32,"send-amount-exceeds-balance")),e.xp6(4),e.Q6J("ngIf",!o.giftSend),e.xp6(3),e.hij(" ",e.lcZ(39,34,"total-to-send")," "),e.xp6(2),e.ekj("exceeds-balance",o.sendAmountExceedsBalance),e.xp6(1),e.Q6J("src",o.selectedAsset.logo,e.LSH)("alt",e.lcZ(42,36,o.selectedAsset.name)),e.xp6(2),e.hij(" ",e.xi3(44,38,o.totalTransferAmount,"0.2-2")," "),e.xp6(4),e.hij(" ",e.lcZ(48,41,"go-back")," "),e.xp6(3),e.Q6J("disabled",o.isInvalidSendForm||o.sendAmountExceedsBalance),e.xp6(3),e.hij(" ",e.lcZ(54,43,"send")," ")}}function ct(a,U){if(1&a&&(e.TgZ(0,"div",60),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&a){const o=e.oxw(2);let s;e.xp6(1),e.hij(" ",e.lcZ(2,1,null!==(s=null==o.walletInfo?null:o.walletInfo.balance)&&void 0!==s?s:0)," ")}}function mt(a,U){if(1&a&&(e.TgZ(0,"div",60),e._uU(1),e.ALo(2,"number"),e.qZA()),2&a){const o=e.oxw(2);let s;e.xp6(1),e.hij(" ",e.xi3(2,1,null!==(s=null==o.walletInfo?null:o.walletInfo.point)&&void 0!==s?s:0,"0.2-2")," ")}}function pt(a,U){if(1&a&&(e.TgZ(0,"div",60),e._uU(1),e.ALo(2,"number"),e.qZA()),2&a){const o=e.oxw(2);let s;e.xp6(1),e.hij(" ",e.xi3(2,1,null!==(s=null==o.walletInfo?null:o.walletInfo.hashPower)&&void 0!==s?s:0,"0.2-2")," ")}}const _t=function(a){return{"mr-0.5":a}};function ut(a,U){if(1&a&&e._UZ(0,"ion-icon",61),2&a){const o=e.oxw(2);e.Q6J("ngClass",e.VKq(1,_t,o.assetType===o.assetTypes.Points))}}const gt=function(a){return{"ml-0.5":a}};function ft(a,U){if(1&a){const o=e.EpF();e.TgZ(0,"div",54),e.NdJ("click",function(y){e.CHM(o);const j=e.oxw();return e.KtG(j.handleSelectOpen(y))}),e.TgZ(1,"div",55),e._UZ(2,"img",56),e.ALo(3,"translate"),e.TgZ(4,"div",57)(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,ct,3,3,"div",58),e.YNc(9,mt,3,4,"div",58),e.YNc(10,pt,3,4,"div",58),e.qZA(),e.YNc(11,ut,1,3,"ion-icon",59),e.qZA()()}if(2&a){const o=e.oxw();e.Q6J("ngClass",o.assetType===o.assetTypes.Points?"gradient-border":o.assetType===o.assetTypes.HashPower?"border-2 border-accent-blue":"border-2 border-main-green"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,gt,o.assetType===o.assetTypes.Points))("src",o.selectedAsset.logo,e.LSH)("alt",e.lcZ(3,9,o.selectedAsset.name)),e.xp6(4),e.Oqu(e.lcZ(7,11,o.selectedAsset.name)),e.xp6(2),e.Q6J("ngIf",o.assetType===o.assetTypes.Credits),e.xp6(1),e.Q6J("ngIf",o.assetType===o.assetTypes.Points),e.xp6(1),e.Q6J("ngIf",o.assetType===o.assetTypes.HashPower),e.xp6(1),e.Q6J("ngIf",!o.giftSend)}}function ht(a,U){1&a&&e._UZ(0,"img",69)}const xt=function(a){return{"border-b border-main-border":a}};function vt(a,U){if(1&a){const o=e.EpF();e.TgZ(0,"div",64),e.NdJ("click",function(){const j=e.CHM(o).$implicit,st=e.oxw(2);return e.KtG(st.selectAsset(j))}),e.TgZ(1,"div",65)(2,"div",60),e._UZ(3,"img",66),e.TgZ(4,"div",67),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.YNc(7,ht,1,0,"img",68),e.qZA()()}if(2&a){const o=U.$implicit,s=U.index,y=e.oxw(2);e.Q6J("ngClass",e.VKq(7,xt,s<y.assets.length-1)),e.xp6(3),e.Q6J("src",o.logo,e.LSH)("alt",o.name),e.xp6(2),e.Oqu(e.lcZ(6,5,o.name)),e.xp6(2),e.Q6J("ngIf",y.selectedAsset.type===o.type)}}function Ct(a,U){if(1&a&&(e.TgZ(0,"div",62),e.YNc(1,vt,8,9,"div",63),e.qZA()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.dropdownAssets)}}let Mt=(()=>{class a extends H.u{constructor(o,s){super(),this.walletService=o,this.i18n=s,this.assetType=O.pz.Credits,this.giftSend=!1,this.giftAmount=0,this.assetTypeChange=new e.vpe,this.onSuccess=new e.vpe,this.isMenuOpen=!1,this.walletInfo={},this.recipients=[{address:"",transferAmount:this.giftSend?this.giftAmount:null}],this.assetTypes=O.pz,this.isOpenConfirmModal=!1,this.minAmount=0,this.assetsList=[{type:O.pz.Credits,name:"account-credits",logo:"assets/icon/wallet/ottopoints-green.png",title:"send-credits",description:"send-credits-description"},{type:O.pz.Points,name:"rewards-points",logo:"assets/images/rewards-points.png",title:"send-rewards-points",description:"send-rewards-points-description"}],this.hashPowerAsset={type:O.pz.HashPower,name:"hashpower",logo:"assets/icon/wallet/hash-power.png",title:"send-hashpower",description:"send-hashpower-description"},this.showHiddenOptions=!1}get dropdownAssets(){return this.showHiddenOptions?[...this.assetsList,this.hashPowerAsset]:this.assetsList}get assets(){return[...this.assetsList,this.hashPowerAsset]}onShiftKeydownHandler(o){this.showHiddenOptions||(this.showHiddenOptions=!0)}onShiftKeyupHandler(o){this.showHiddenOptions&&(this.showHiddenOptions=!1)}get selectedAsset(){var o;return null!==(o=this.assets.find(s=>s.type===this.assetType))&&void 0!==o?o:this.assets[0]}get sendAmountExceedsBalance(){var o,s,y;return this.totalTransferAmount>parseFloat(`${null!==(y=this.assetType==this.assetTypes.Credits?null===(o=this.walletInfo)||void 0===o?void 0:o.balance:null===(s=this.walletInfo)||void 0===s?void 0:s.point)&&void 0!==y?y:0}`)}ngOnInit(){this.walletService.walletInfo$.pipe((0,q.R)(this.onDestroy$)).subscribe(o=>{this.walletInfo=o}),this.walletService.getExchangeToBalanceConfig().pipe((0,q.R)(this.onDestroy$)).subscribe(o=>{var s;null!=o&&o.data&&(this.minAmount=parseFloat(null!==(s=o.data.minAmount)&&void 0!==s?s:"0"))})}ngOnChanges(o){null!=o&&o.giftAmount&&this.giftSend&&(this.recipients=[{address:"",transferAmount:o.giftAmount.currentValue}])}get totalTransferAmount(){if(!this.recipients)return 0;let o=0;for(let s=0;s<this.recipients.length;s++)o+=parseFloat(this.recipients[s].transferAmount?`${this.recipients[s].transferAmount}`:"0");return o}get isInvalidSendForm(){var o;for(let s=0;s<this.recipients.length;s++)if(""===this.recipients[s].address||!this.recipients[s].transferAmount||parseFloat(`${null!==(o=this.recipients[s].transferAmount)&&void 0!==o?o:0}`)<this.minAmount||"valid"!==this.recipients[s].validStatus)return!0;return!1}onResetValue(){this.recipients=[{address:"",transferAmount:null}]}onSend(){this.isOpenConfirmModal=!0}onSendSuccess(o){this.walletService.walletInfo().subscribe(),this.modal.dismiss().then(()=>{this.onSuccess.emit(o)})}onAddRecipient(){this.recipients.push({address:"",transferAmount:null})}onRemoveRecipient(o){this.recipients.splice(o+1,1)}handleSelectOpen(o){this.giftSend||(this.popover.event=o,this.isMenuOpen=!0)}selectAsset(o){return(0,A.mG)(this,void 0,void 0,function*(){yield(0,P.n)((0,B.H)(150)),this.assetType=o.type,this.assetTypeChange.emit(this.assetType)})}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(N.X),e.Y36(x.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-send-credits-modal"]],viewQuery:function(o,s){if(1&o&&(e.Gf(T.ki,5),e.Gf(X,5)),2&o){let y;e.iGM(y=e.CRH())&&(s.modal=y.first),e.iGM(y=e.CRH())&&(s.popover=y.first)}},hostBindings:function(o,s){1&o&&e.NdJ("keydown.shift",function(){return s.onShiftKeydownHandler()},!1,e.evT)("keyup.shift",function(){return s.onShiftKeyupHandler()},!1,e.evT)},inputs:{assetType:"assetType",giftSend:"giftSend",giftAmount:"giftAmount"},outputs:{assetTypeChange:"assetTypeChange",onSuccess:"onSuccess"},standalone:!0,features:[e.qOj,e.TTD,e.jDz],decls:8,vars:10,consts:[[1,"theme-modal","settings-modal","responsive-modal",3,"isOpen","backdropDismiss","keepContentsMounted","didDismiss","willDismiss"],["accountCreditsBox",""],["side","bottom","alignment","start","showBackdrop","false",1,"theme-popover",3,"isOpen","dismissOnSelect","size","didDismiss"],["popover",""],[3,"isOpen","recipients","assetType","logo","isOpenChange","onSendSuccess"],[1,"flex","flex-col","h-full"],[1,"modal-header","p-2","flex","flex-col","items-center"],[1,"flex","items-start","w-full"],["name","chevron-back-outline",1,"hidden","sm:block","w-10","h-10","cursor-pointer","-ml-px","mr-px",3,"click"],[1,"sm:hidden","fade-in-from-right","text-text-strong","icon-arrow","text-2xl","sm:text-3xl","mr-1",2,"--duration","200ms"],[1,"flex-1","text-text-strong","font-medium"],[1,"fade-in-from-right","text-2xl","sm:text-3xl",2,"--duration","200ms"],["class","hidden sm:block fade-in-from-bottom p-0 mt-1 text-base sm:text-lg font-medium text-grey-1","style","--duration: 200ms; --delay: 100ms; --distance: 50px",4,"ngIf"],[1,"fade-in-from-left","hidden","sm:block","mt-1","mr-3",2,"--duration","300ms","--delay","100ms","--distance","-50px"],[3,"ngTemplateOutlet"],[1,"sm:hidden","icon-close","text-base","sm:text-xl","mr-1","cursor-pointer","mt-1","sm:mt-0",3,"click"],["visibility","hover",1,"content-container",3,"autoHeightDisabled"],[1,"sm:hidden","mb-2","fade-in-from-bottom","flex-1","text-text-strong","font-medium","mt-1","px-2","text-base",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"inline-flex","mr-2"],[1,"fade-in-from-right","flex","sm:hidden","justify-center","mb-2",2,"--duration","200ms","--delay","100ms"],[1,"modal-content","flex","flex-1","flex-col","flex-auto","items-center","justify-center","w-full","p-2"],[1,"flex","flex-col","gap-y-1","md:gap-y-0.5","w-full","sm:pl-8","sm:pr-4"],["scrollShadow","","backToTopBtn","",1,"recipient-list",3,"autoHeightDisabled"],[1,"flex","items-end","sm:px-1.5"],["class","mb-6 mr-1 sm:mr-2",4,"ngIf"],[1,"flex-1"],[3,"recipient","canRemove","readonly","assetImage","minAmount"],["class","flex items-end mt-px sm:px-1.5",4,"ngFor","ngForOf"],[1,"fade-in-from-top","flex","items-center","w-full",2,"--duration","200ms","--delay","200ms","--distance","-50px"],["class","animate-border w-full sm:mr-10 sm:ml-6 flex items-center justify-center bg-main-blue-transparent rounded-md text-text-strong text-xl py-2 mt-4 sm:mt-8 select-none cursor-pointer",3,"click",4,"ngIf"],[1,"exceeds-balance","py-1.5","text-center","font-bold","text-lg"],[1,"border-b-2","border-main-border","mb-4","mx-2"],[1,"modal-footer","flex","flex-col","px-2","sm:px-5","pb-2"],["class","flex justify-between text-lg sm:text-xl text-grey-1",4,"ngIf"],[1,"flex","justify-between","text-2xl","sm:text-3xl","uppercase","font-medium","text-text-strong","mb-2.5"],[1,"fade-in",2,"--duration","200ms","--delay","300ms"],[1,"fade-in","flex","items-center",2,"--duration","200ms","--delay","300ms"],[1,"h-6","sm:h-7","mr-1",3,"src","alt"],[1,"flex","justify-between","flex-col-reverse","xs:flex-row","gap-2","xs:gap-0"],["appRippleEffect","",1,"fade-in-from-right","btn-medium","w-full","xs:w-32","sm:w-44",2,"--duration","300ms","--delay","250ms",3,"click"],[1,"fade-in-from-left",2,"--duration","300ms","--delay","350ms"],["appRippleEffect","",1,"btn-blue","w-full","xs:w-32","sm:w-44","rounded-lg","font-medium","relative",3,"disabled","click"],[1,"flex","items-center","justify-center"],[1,"icon-arrow","text-2xl","mr-2"],[1,"hidden","sm:block","fade-in-from-bottom","p-0","mt-1","text-base","sm:text-lg","font-medium","text-grey-1",2,"--duration","200ms","--delay","100ms","--distance","50px"],[1,"mb-6","mr-1","sm:mr-2"],[1,"flex","items-end","mt-px","sm:px-1.5"],[3,"recipient","assetImage","showLabels","minAmount","handleRemove"],[1,"animate-border","w-full","sm:mr-10","sm:ml-6","flex","items-center","justify-center","bg-main-blue-transparent","rounded-md","text-text-strong","text-xl","py-2","mt-4","sm:mt-8","select-none","cursor-pointer",3,"click"],[1,"flex","items-center","justify-center","w-5","h-5","rounded-full","bg-main-blue","mr-1"],["name","add",1,"text-white"],[1,"flex","justify-between","text-lg","sm:text-xl","text-grey-1"],[1,"fade-in-from-top",2,"--duration","200ms","--delay","250ms","--distance","-50px"],[1,"fade-in",2,"--duration","200ms","--delay","200ms"],["id","asset-select-button",1,"account-credits","relative","flex","items-center","justify-center","rounded-lg","text-text-strong","bg-pro-switch","cursor-pointer",3,"ngClass","click"],[1,"flex","items-center","justify-center","pointer-events-none","bg-pro-switch","w-full","h-full","py-1","rounded-lg"],[1,"absolute","left-3","h-11","mr-1",3,"ngClass","src","alt"],[1,"flex","flex-col","items-center","justify-center","font-medium"],["class","flex items-center",4,"ngIf"],["class","absolute right-3 w-4 h-4 sm:w-6 sm:h-6 text-text-strong","name","chevron-down-outline",3,"ngClass",4,"ngIf"],[1,"flex","items-center"],["name","chevron-down-outline",1,"absolute","right-3","w-4","h-4","sm:w-6","sm:h-6","text-text-strong",3,"ngClass"],[1,"font-medium"],["class","px-4 py-3 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-4","py-3","cursor-pointer",3,"ngClass","click"],[1,"flex","items-center","justify-between"],[1,"h-10","w-10","mr-3.5",3,"src","alt"],[1,"text-text-strong"],["class","h-9 w-9 ml-2","src","assets/images/check-mark-blue.png","alt","Selected",4,"ngIf"],["src","assets/images/check-mark-blue.png","alt","Selected",1,"h-9","w-9","ml-2"]],template:function(o,s){1&o&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return s.onResetValue()})("willDismiss",function(){return s.handleDismiss()}),e.YNc(1,dt,55,45,"ng-template"),e.qZA(),e.YNc(2,ft,12,15,"ng-template",null,1,e.W1O),e.TgZ(4,"ion-popover",2,3),e.NdJ("didDismiss",function(){return s.isMenuOpen=!1}),e.YNc(6,Ct,2,1,"ng-template"),e.qZA(),e.TgZ(7,"app-send-confirm-modal",4),e.NdJ("isOpenChange",function(j){return s.isOpenConfirmModal=j})("onSendSuccess",function(j){return s.onSendSuccess(j)}),e.qZA()),2&o&&(e.Q6J("isOpen",s.isOpen)("backdropDismiss",!1)("keepContentsMounted",!0),e.xp6(4),e.Q6J("isOpen",s.isMenuOpen)("dismissOnSelect",!0)("size","cover"),e.xp6(3),e.Q6J("isOpen",s.isOpenConfirmModal)("recipients",s.recipients)("assetType",s.assetType)("logo",s.selectedAsset.logo))},dependencies:[n.ez,n.mk,n.sg,n.O5,n.tP,n.JJ,n.H9,b.UX,b.u5,x.aw,x.X$,Q.kb,Q.KC,T.Pc,T.gu,T.ki,T.d8,k.T,R.E,K.B,z.R,p,I.Q,D],styles:['ion-modal[_ngcontent-%COMP%]{--width: 720px;--max-width: 720px;--height: auto}.modal-header[_ngcontent-%COMP%]{margin-bottom:5px;border-bottom-width:1px;border-style:solid;border-color:var(--main-border)}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem;border-style:none}}.content-container[_ngcontent-%COMP%]{max-height:calc(100% - 50px)}@media (min-width: 640px){.content-container[_ngcontent-%COMP%]{max-height:unset}}@media (min-width: 768px){.modal-content[_ngcontent-%COMP%]{min-height:300px}}.modal-content[_ngcontent-%COMP%]   .recipient-list[_ngcontent-%COMP%]{min-height:64px}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]   .recipient-list[_ngcontent-%COMP%]{max-height:calc(100vh - 450px)}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;font-size:1.5rem;line-height:2rem}}.account-credits[_ngcontent-%COMP%]{background:var(--bg-balance-box);width:260px}.exceeds-balance[_ngcontent-%COMP%]{color:red}.animate-border[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--main-blue) 50%,transparent 50%),linear-gradient(90deg,var(--main-blue) 50%,transparent 50%),linear-gradient(0deg,var(--main-blue) 50%,transparent 50%),linear-gradient(0deg,var(--main-blue) 50%,transparent 50%);background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;background-size:16px 2px,16px 2px,2px 16px,2px 16px;background-position:0px 0px,0 100%,0 0,100% 0px;padding:10px}.animate-border[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_border-dance .3s infinite linear}@keyframes _ngcontent-%COMP%_border-dance{to{background-position:16px 0,-16px 100%,0 -16px,100% 16px}}.gradient-border[_ngcontent-%COMP%]{position:relative;padding:2px;height:60px;z-index:1}.gradient-border[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:-1;inset:0;border-radius:10px;background:linear-gradient(45deg,#0014ff,#042fff,#044dff,#ff00f7,#fd8aff,#002bff,#7a00ff,#ff00c8,#e400ff);background-position:0 50%;background-size:200% 200%;animation:_ngcontent-%COMP%_changeBg 2.5s linear infinite}@keyframes _ngcontent-%COMP%_changeBg{50%{background-position:100% 50%}}']}),a})()},2256:(V,F,i)=>{"use strict";i.d(F,{e:()=>I});var A=i(6895),n=i(4650),e=i(4006),b=i(8008),T=i(3416),x=i(7341),Q=i(8854),k=i(7102),H=i(5433),E=i(5182),J=i(6065);function $(w,C){1&w&&n._UZ(0,"app-success-checkmark",22)}const t=function(w){return{count:w}};function G(w,C){if(1&w&&(n.TgZ(0,"span",23),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&w){const f=n.oxw(2);n.xp6(1),n.Oqu(n.xi3(2,1,"send-success-desc-2-a",n.VKq(4,t,f.recipients)))}}function Y(w,C){1&w&&(n.TgZ(0,"span",23),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&w&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"send-success-desc-2-b")," "))}function q(w,C){if(1&w){const f=n.EpF();n.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"ion-icon",6),n.NdJ("click",function(){n.CHM(f);const c=n.oxw();return n.KtG(c.handleDismiss())}),n.qZA()()(),n.TgZ(7,"ng-scrollbar",7)(8,"div",8),n.YNc(9,$,1,0,"app-success-checkmark",9),n.TgZ(10,"div",10)(11,"span"),n._uU(12),n.ALo(13,"number"),n.qZA(),n._UZ(14,"img",11),n.qZA(),n.TgZ(15,"div",12)(16,"span",13),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"span"),n._uU(20),n.ALo(21,"number"),n.qZA(),n._UZ(22,"img",14),n.YNc(23,G,3,6,"span",15),n.YNc(24,Y,3,3,"span",15),n.qZA(),n.TgZ(25,"div",16),n.NdJ("click",function(){n.CHM(f);const c=n.oxw(),g=n.MAs(1);return n.KtG(c.sendMore(g))}),n.O4$(),n.TgZ(26,"svg",17),n._UZ(27,"path",18),n.qZA(),n.kcU(),n.TgZ(28,"span"),n._uU(29),n.ALo(30,"translate"),n.qZA()(),n.TgZ(31,"div",19),n.NdJ("click",function(){n.CHM(f);const c=n.oxw(),g=n.MAs(1);return n.KtG(c.navigateToWallet(g))}),n._UZ(32,"i",20),n.TgZ(33,"span"),n._uU(34),n.ALo(35,"translate"),n.qZA()(),n.TgZ(36,"button",21),n.NdJ("click",function(){n.CHM(f);const c=n.oxw(),g=n.MAs(1);return n.KtG(c.onFinish(g))}),n._uU(37),n.ALo(38,"translate"),n.qZA()()()}if(2&w){const f=n.oxw();n.xp6(4),n.hij(" ",n.lcZ(5,14,"send-success")," "),n.xp6(3),n.Q6J("autoHeightDisabled",!1),n.xp6(2),n.Q6J("ngIf",f.isOpen),n.xp6(3),n.hij("+",n.xi3(13,16,f.amount,"1.2-2"),""),n.xp6(2),n.Q6J("src",f.logo,n.LSH)("ngClass",f.isCredits?"h-6":"h-8"),n.xp6(3),n.Oqu(n.lcZ(18,19,"send-success-desc-1")),n.xp6(3),n.Oqu(n.xi3(21,21,f.amount,"1.2-2")),n.xp6(2),n.Q6J("src",f.logo,n.LSH),n.xp6(1),n.Q6J("ngIf",f.recipients>1),n.xp6(1),n.Q6J("ngIf",1===f.recipients),n.xp6(5),n.Oqu(n.lcZ(30,24,"send-more")),n.xp6(5),n.Oqu(n.lcZ(35,26,"my-wallet")),n.xp6(3),n.hij(" ",n.lcZ(38,28,"finished")," ")}}let I=(()=>{class w extends x.u{constructor(){super(),this.recipientName=null,this.onSendMore=new n.vpe,this.onCloseAll=new n.vpe}get isCredits(){return this.assetType===k.pz.Credits}get logo(){return this.assetType===k.pz.Credits?"assets/icon/wallet/ottopoints-green.png":this.assetType===k.pz.Points?"assets/images/rewards-points.png":"assets/icon/wallet/hash-power.png"}sendMore(f){f.dismiss().then(()=>{this.onSendMore.emit(!0)})}navigateToWallet(f){this.onCloseAll.emit(!0),f.dismiss().then(()=>{this.router.navigateByUrl("/member/store-credits")})}onFinish(f){this.onCloseAll.emit(!0),f.dismiss()}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275cmp=n.Xpm({type:w,selectors:[["app-send-success-modal"]],inputs:{amount:"amount",recipients:"recipients",recipientName:"recipientName",assetType:"assetType"},outputs:{onSendMore:"onSendMore",onCloseAll:"onCloseAll"},standalone:!0,features:[n.qOj,n.jDz],decls:3,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],["modal",""],[1,"modal-header","flex","flex-col","items-center","sm:mb-5","absolute","w-full","px-2","pt-2","z-1"],[1,"flex","items-start","xs:items-center","w-full"],[1,"flex-1","text-2xl","sm:text-3xl","text-text-strong","font-medium"],[1,"xs:ml-7","xs:text-center","fade-in-from-right","modal-title",2,"--duration","200ms"],["name","close-outline",1,"w-7","xs:w-10","h-7","xs:h-10","cursor-pointer",3,"click"],["visibility","hover",2,"max-height","85vh",3,"autoHeightDisabled"],[1,"px-6","pb-8","flex","flex-col","items-center","justify-center","text-base","xs:text-xl","text-text-strong","font-bold","mt-10"],["class","h-40 xs:h-48 -mt-3 sm:-mt-4",4,"ngIf"],[1,"fade-in-from-right","flex","items-center","justify-center","justify-center","-mt-2","text-2xl",2,"--duration","200ms","--delay","100ms"],[1,"ml-1",3,"src","ngClass"],[1,"fade-in-from-right","w-full","flex","items-center","justify-center","py-2","text-base","sm:text-2xl",2,"--duration","200ms","--delay","100ms"],[1,"mr-1.5"],[1,"ml-1","mr-1","mb-1","h-5",3,"src"],["class","whitespace-nowrap",4,"ngIf"],[1,"fade-in-from-top","text-main-blue","action-btn","flex","text-primary","items-center","justify-center","py-2.5","px-4","mt-2.5","rounded-lg","cursor-pointer",2,"--duration","200ms","--delay","150ms","--distance","-50px",3,"click"],["viewBox","0 0 512 512",1,"h-5","mr-2","text-primary","convert-more"],["fill","currentColor","d","M371.6 132.3c-31.5-29.5-72.4-45.7-115.8-45.6-78.1.1-145.5 53.6-164.1 127.9-1.4 5.4-6.2 9.2-11.7 9.2H22.2c-7.6 0-13.3-6.9-11.9-14.3C32.1 93.6 133.8 6 256 6c67 0 127.8 26.3 172.7 69.2l36-36C479.9 24 506 34.8 506 56.3v135.1c0 13.4-10.8 24.2-24.2 24.2H346.7c-21.6 0-32.3-26.1-17.1-41.3l42-42zm-341.4 164h135.1c21.6 0 32.3 26.1 17.1 41.3l-42.1 42.1c31.5 29.5 72.4 45.7 115.8 45.6 78-.1 145.5-53.6 164.1-127.9 1.4-5.4 6.2-9.2 11.7-9.2h57.8c7.6 0 13.3 6.9 11.9 14.3C479.9 418.4 378.2 506 256 506c-67 0-127.8-26.3-172.7-69.2l-36 36C32.1 488 6 477.2 6 455.7V320.5c0-13.3 10.8-24.2 24.2-24.2z"],[1,"fade-in","text-main-blue","flex","action-btn","text-primary","items-center","justify-center","py-2.5","px-4","rounded-lg","cursor-pointer",2,"--duration","200ms","--delay","150ms",3,"click"],[1,"icon-wallet","font-bold","mr-2","text-xl"],["appRippleEffect","",1,"fade-in-from-bottom","rounded-md","border","btn-medium","border-solid","rounded-md","h-12","px-7","mt-6",2,"--duration","300ms","--delay","150ms","--distance","50px",3,"click"],[1,"h-40","xs:h-48","-mt-3","sm:-mt-4"],[1,"whitespace-nowrap"]],template:function(f,m){1&f&&(n.TgZ(0,"ion-modal",0,1),n.NdJ("didDismiss",function(){return m.handleDismiss()}),n.YNc(2,q,39,30,"ng-template"),n.qZA()),2&f&&n.Q6J("isOpen",m.isOpen)},dependencies:[A.ez,A.mk,A.O5,A.JJ,e.UX,e.u5,T.aw,T.X$,b.Pc,b.gu,b.ki,Q.T,J.R,H.kb,H.KC,E.C],styles:["ion-modal[_ngcontent-%COMP%]{--max-width: 500px;--height: auto;--backdrop-opacity: .32 !important}.convert-more[_ngcontent-%COMP%]{transform:rotateX(180deg)}.action-btn[_ngcontent-%COMP%]:hover{background-color:var(--main-blue-transparent)}"]}),w})()},7135:(V,F,i)=>{"use strict";i.d(F,{A:()=>S});var A=i(655),n=i(8008),e=i(3416),b=i(7154),T=i(1150),x=i(6895),Q=i(8854),k=i(9116),H=i(4006),E=i(1597),J=i(7102),$=i(2722),t=i(4650),G=i(6339),Y=i(6109),q=i(2635);const I=["mobileFilter"],w=["desktopFilter"];function C(r,M){1&r&&(t.TgZ(0,"div",23)(1,"div")(2,"p",24),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&r&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"no-otto-history")," "))}function f(r,M){}function m(r,M){}function c(r,M){if(1&r&&(t.ynx(0),t.YNc(1,m,0,0,"ng-template",28),t.BQk()),2&r){t.oxw();const d=t.MAs(13);t.xp6(1),t.Q6J("ngTemplateOutlet",d)}}function g(r,M){}function W(r,M){}const tt=function(r){return{"text-main-yellow":r}};function Z(r,M){if(1&r&&(t.TgZ(0,"td",35),t.ALo(1,"translate"),t.TgZ(2,"div",36),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"td",37),t.ALo(6,"translate"),t.TgZ(7,"div",38)(8,"span",39),t._uU(9),t.qZA(),t.TgZ(10,"span",40),t._UZ(11,"img",41),t.qZA()()(),t.TgZ(12,"td",42),t.ALo(13,"translate"),t._uU(14),t.ALo(15,"date"),t.qZA()),2&r){const d=t.oxw().$implicit;t.uIk("data-label",t.lcZ(1,7,"type")),t.xp6(2),t.Q6J("ngClass",t.VKq(18,tt,"Convert"===d.type)),t.xp6(1),t.hij(" ",t.lcZ(4,9,d.type)," "),t.xp6(2),t.uIk("data-label",t.lcZ(6,11,"amount")),t.xp6(4),t.hij(" ",("Swap"===d.type?"-":"+")+d.ottoAmount," "),t.xp6(3),t.uIk("data-label",t.lcZ(13,13,"date-time")),t.xp6(2),t.hij(" ",t.xi3(15,15,d.dateTime,"MM/dd/yy HH:mm")," ")}}function _(r,M){1&r&&t._UZ(0,"app-copy",46)}const l=function(r){return{"md:truncate":r}},v=function(r){return{"rotate-180":r}};function p(r,M){if(1&r){const d=t.EpF();t.TgZ(0,"td",43),t.ALo(1,"translate"),t.TgZ(2,"div",44),t.NdJ("copied",function(R){t.CHM(d);const K=t.oxw(4);return t.KtG(K.onCopied(R))}),t.TgZ(3,"p",45),t._uU(4),t.qZA(),t._UZ(5,"app-copy",46)(6,"i",47),t.qZA()(),t.TgZ(7,"td",48),t.ALo(8,"translate"),t.TgZ(9,"div",49)(10,"div",50,51),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",52),t.NdJ("click",function(){t.CHM(d);const R=t.oxw().index,K=t.oxw(3);return t.KtG(K.memoExpanded[R]=!K.memoExpanded[R])}),t._UZ(15,"ion-icon",53),t.qZA(),t.YNc(16,_,1,0,"app-copy",54),t._UZ(17,"i",47),t.qZA()()}if(2&r){const d=t.MAs(11),D=t.oxw(),R=D.$implicit,K=D.index,X=t.oxw(3);t.uIk("data-label",t.lcZ(1,10,"id")),t.xp6(2),t.Q6J("appCopying",R.ID),t.xp6(2),t.Oqu(R.ID),t.xp6(3),t.uIk("data-label",t.lcZ(8,12,"memo")),t.xp6(3),t.Q6J("ngClass",t.VKq(17,l,!X.memoExpanded[K])),t.xp6(2),t.hij(" ",t.xi3(13,14,R.i18nKey,R.i18nParam)," "),t.xp6(2),t.ekj("invisible",!X.isOverflowing(d,K)),t.xp6(1),t.Q6J("ngClass",t.VKq(19,v,X.memoExpanded[K])),t.xp6(1),t.Q6J("ngIf","Deposit"===R.type)}}const O=function(r){return{"expanded-row":r}};function P(r,M){if(1&r){const d=t.EpF();t.ynx(0),t.TgZ(1,"tr",27),t.NdJ("click",function(){const K=t.CHM(d).index,X=t.oxw(3);return t.KtG(X.onClickTableRow(K))}),t.YNc(2,f,0,0,"ng-template",28),t.TgZ(3,"td",29)(4,"div",30),t._UZ(5,"ion-icon",31),t.qZA()(),t.YNc(6,c,2,1,"ng-container",26),t.qZA(),t.TgZ(7,"tr",32),t.YNc(8,g,0,0,"ng-template",28),t.YNc(9,W,0,0,"ng-template",28),t.qZA(),t.YNc(10,Z,16,20,"ng-template",null,33,t.W1O),t.YNc(12,p,18,21,"ng-template",null,34,t.W1O),t.BQk()}if(2&r){const d=M.index,D=t.MAs(11),R=t.MAs(13),K=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(7,O,K.expanded[d])),t.xp6(1),t.Q6J("ngTemplateOutlet",D),t.xp6(3),t.Q6J("ngClass",t.VKq(9,v,K.expanded[d])),t.xp6(1),t.Q6J("ngIf",!K.isMobile),t.xp6(1),t.Q6J("@collapseExpand",!(K.expanded[d]&&K.isMobile)),t.xp6(1),t.Q6J("ngTemplateOutlet",D),t.xp6(1),t.Q6J("ngTemplateOutlet",R)}}function B(r,M){1&r&&(t.ynx(0),t.TgZ(1,"td",57),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td",58),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()),2&r&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"no-more-otto-history")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"no-more-otto-history")," "))}function N(r,M){1&r&&(t.TgZ(0,"td",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-more-otto-history")," "))}function z(r,M){if(1&r&&(t.TgZ(0,"tr"),t.YNc(1,B,7,6,"ng-container",55),t.YNc(2,N,3,3,"ng-template",null,56,t.W1O),t.qZA()),2&r){const d=t.MAs(3),D=t.oxw(3);t.xp6(1),t.Q6J("ngIf",D.isMobile)("ngIfElse",d)}}function h(r,M){if(1&r&&(t.YNc(0,P,14,11,"ng-container",25),t.YNc(1,z,4,2,"tr",26)),2&r){const d=t.oxw().rows,D=t.oxw();t.Q6J("ngForOf",d),t.xp6(1),t.Q6J("ngIf",D.isLastPage)}}function L(r,M){if(1&r&&(t.TgZ(0,"table",11)(1,"thead")(2,"tr",12)(3,"th",13)(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"th",14)(8,"div",15),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"th",16)(12,"div"),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"th",17)(16,"div"),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"th",18)(20,"div"),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t._UZ(23,"th",19),t.qZA()(),t.TgZ(24,"tbody",20),t.YNc(25,C,5,3,"div",21),t.YNc(26,h,2,2,"ng-template",null,22,t.W1O),t.qZA()()),2&r){const d=M.total,D=M.isInitialized,R=t.MAs(27);t.xp6(5),t.hij(" ",t.lcZ(6,7,"type")," "),t.xp6(4),t.hij(" ",t.lcZ(10,9,"amount")," "),t.xp6(4),t.hij(" ",t.lcZ(14,11,"date-time")," "),t.xp6(4),t.hij(" ",t.lcZ(18,13,"id")," "),t.xp6(4),t.hij(" ",t.lcZ(22,15,"memo")," "),t.xp6(4),t.Q6J("ngIf",D&&!d)("ngIfElse",R)}}const u=function(){return{alignment:"start"}};let S=(()=>{class r extends b.H{constructor(d,D,R){super(),this.platform=d,this.i18n=D,this.walletService=R,this.isHistory=!1,this.isLastPage=!1,this.expanded=[],this.filterType=null,this.filterText="",this.memoExpanded=[],this.fetchFn=({page:K,pageSize:X})=>(0,A.mG)(this,void 0,void 0,function*(){let ot=[],et=0,at="";this.filterType&&(at=this.filterType===J.OO.Convert?"0":"");const rt=yield this.walletService.ottoOptionsLog(K,X,at).toPromise();return 0===rt.code&&(ot=rt.data.rows.map(it=>Object.assign(Object.assign({},it),{dateTime:it.gmtCreate,ID:it.id,memo:it.description,ottoAmount:it.amount,type:J.OO.Convert})),et=rt.data.total,this.isLastPage=Math.floor(et/X)===K),{rows:ot,total:et}}),this.isMobile=window.innerWidth<768,this.walletService.onWalletUpdate.pipe((0,$.R)(this.onDestroy$)).subscribe(()=>{this.historyTable.fetchData(0)})}onResize(){this.isMobile=window.innerWidth<768}ngOnInit(){}onClickTableRow(d){this.isMobile&&(this.expanded[d]=!this.expanded[d])}onCopied(d){this.toast.toastSuccess(this.i18n.instant("copied"))}onChangeType(d){this.filterType=d.detail.value,this.historyTable.handlePageClick(1)}clearSearch(){this.filterText=""}onMobileSelectHover(d){this.filterMobileSelect.open(d)}onDesktopSelectHover(d){this.filterDesktopSelect.open(d)}isOverflowing(d,D){return this.memoExpanded[D]||d.offsetWidth<d.scrollWidth}}return r.\u0275fac=function(d){return new(d||r)(t.Y36(n.t4),t.Y36(e.sK),t.Y36(G.X))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-otto-options-tab"]],viewQuery:function(d,D){if(1&d&&(t.Gf(T.K,5),t.Gf(I,5),t.Gf(w,5)),2&d){let R;t.iGM(R=t.CRH())&&(D.historyTable=R.first),t.iGM(R=t.CRH())&&(D.filterMobileSelect=R.first),t.iGM(R=t.CRH())&&(D.filterDesktopSelect=R.first)}},hostBindings:function(d,D){1&d&&t.NdJ("resize",function(){return D.onResize()},!1,t.Jf7)},inputs:{isHistory:"isHistory"},standalone:!0,features:[t.qOj,t.jDz],decls:25,vars:28,consts:[[1,"flex","flex-col","flex-1","text-left",3,"fetchFn","pageSize"],["slot","title",1,"flex","items-center","justify-between","px-2","py-5","sm:py-2","w-full"],[1,"otto-history-title","text-2xl","text-text-strong","font-medium","whitespace-nowrap"],["slot","mobileFilter",1,"select-wrapper"],["interface","popover","mode","md",1,"flex","sm:hidden","otto-history-select","text-text-strong","border","border-border-input","rounded-md",3,"placeholder","value","interfaceOptions","ionChange"],["mobileFilter",""],[3,"value"],["value","Convert"],["slot","desktopFilter",1,"select-wrapper"],["interface","popover",1,"hidden","sm:flex","otto-history-select","text-text-strong","border","border-border-input","rounded-md","bg-transparent","py-1.5","outline-none",3,"interfaceOptions","value","ionChange"],["desktopFilter",""],[1,"table-auto","text-[15px]"],[1,"text-base","text-grey-1"],["scope","col",1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","pl-2","md:pl-4","font-medium","w-[84px]","sm:w-20","2xl:w-24"],["scope","col",1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","pr-5","font-medium","sm:w-32"],[1,"mr-6","ml-11"],["scope","col",1,"hidden","2xs:table-cell","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-right","md:text-left","py-2","sm:py-1","font-medium","sm:w-36"],["scope","col",1,"pad-hidden","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","font-medium","sm:w-20"],["scope","col",1,"pad-hidden","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","font-medium","sm:w-48"],[1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","w-8","md:hidden"],[1,"text-grey-2","font-medium"],["class","overlay-container flex items-center justify-center",4,"ngIf","ngIfElse"],["dataTable",""],[1,"overlay-container","flex","items-center","justify-center"],[1,"font-medium","text-sm","opacity-70"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"cursor-pointer","sm:cursor-default","mx-1","sm:mx-2",3,"ngClass","click"],[3,"ngTemplateOutlet"],[1,"md:hidden"],[1,"flex","justify-center","w-full"],["name","chevron-down-outline",1,"transition-transform","text-xl",3,"ngClass"],[1,"data-container","md:hidden","bg-grey-4","overflow-hidden"],["showCells",""],["hiddenCells",""],["scope","row",1,"wallet-table-cell","pl-2","md:pl-4","md:align-top"],[1,"inlin-block","align-bottom","whitespace-nowrap",3,"ngClass"],[1,"wallet-table-cell","amount-cell","truncate","md:align-top"],[1,"flex","items-center","justify-start","text-text-strong"],[1,"text-right","amount"],[1,"w-5","h-5","ml-1"],["src","assets/icon/wallet/otto-options.png","alt","Otto Token",1,"w-full","h-full"],[1,"hidden","2xs:table-cell","wallet-table-cell","text-right","md:text-left","whitespace-nowrap","truncate","text-text-strong","md:align-top"],[1,"wallet-table-cell","md:pr-5","md:align-top"],[1,"copy-cell","flex","items-center",3,"appCopying","copied"],[1,"history-id","truncate"],[1,"w-4","min-w-[16px]","ml-1"],[1,"icon-checkmark","ml-1"],[1,"wallet-table-cell","memo-cell","md:pr-2","md:align-top"],[1,"copy-cell","relative","flex","items-start","justify-end","md:justify-start"],[1,"text-right","md:text-left","flex-1","break-keep",3,"ngClass"],["memo",""],[1,"justify-center","w-fit","hidden","md:flex","cursor-pointer",3,"click"],["name","chevron-down-outline",1,"transition-transform","text-xl","mx-0.5",3,"ngClass"],["class","w-4 min-w-[16px] ml-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["desktopTempalte",""],["colspan","4",1,"hidden","2xs:table-cell","text-center","py-8"],["colspan","3",1,"table-cell","2xs:hidden","text-center","py-8"],["colspan","5",1,"text-center","py-8"]],template:function(d,D){1&d&&(t.TgZ(0,"app-base-table",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3)(6,"ion-select",4,5),t.NdJ("ionChange",function(K){return D.onChangeType(K)}),t.ALo(8,"translate"),t.TgZ(9,"ion-select-option",6),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"ion-select-option",7),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",8)(16,"ion-select",9,10),t.NdJ("ionChange",function(K){return D.onChangeType(K)}),t.TgZ(18,"ion-select-option",6),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"ion-select-option",7),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.YNc(24,L,28,17,"ng-template"),t.qZA()),2&d&&(t.Q6J("fetchFn",D.fetchFn)("pageSize",10),t.xp6(3),t.hij(" ",t.lcZ(4,14,"otto-options")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(8,16,"select-type")),t.Q6J("value",D.filterType)("interfaceOptions",t.DdM(26,u)),t.xp6(3),t.Q6J("value",null),t.xp6(1),t.hij(" ",t.lcZ(11,18,"select-all")," "),t.xp6(3),t.hij(" ",t.lcZ(14,20,"Convert")," "),t.xp6(3),t.Q6J("interfaceOptions",t.DdM(27,u))("value",D.filterType),t.xp6(2),t.Q6J("value",null),t.xp6(1),t.hij(" ",t.lcZ(20,22,"select-all")," "),t.xp6(3),t.hij(" ",t.lcZ(23,24,"Convert")," "))},dependencies:[x.ez,x.mk,x.sg,x.O5,x.tP,x.uU,e.aw,e.X$,n.Pc,n.gu,n.t9,n.n0,n.QI,Q.T,Y.p,k.Q,q.T,H.u5,H.UX,T.K],styles:["table[_ngcontent-%COMP%]{border-collapse:separate!important}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--bg-table)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child)   td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:1px;border-color:var(--main-border)}h2.balance-history-title[_ngcontent-%COMP%]{display:none}@media (min-width: 520px){h2.balance-history-title[_ngcontent-%COMP%]{display:flex}}.copied[_ngcontent-%COMP%]{color:var(--accent-blue)!important}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1.25rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{min-width:80px}tbody[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:flex-end}h2.otto-history-title[_ngcontent-%COMP%]{display:none}@media (min-width: 520px){h2.otto-history-title[_ngcontent-%COMP%]{display:flex}}.otto-history-search[_ngcontent-%COMP%]{max-width:180px}@media (min-width: 640px){.otto-history-search[_ngcontent-%COMP%]{max-width:auto;min-width:240px}}@media (min-width: 1024px){.otto-history-search[_ngcontent-%COMP%]{max-width:auto;min-width:350px}}.otto-history-search[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--placeholder-opacity: 1;--placeholder-color: var(--input-placeholder);--padding-start: 6px;--color: var(--text-strong)}.wallet-table-cell[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}@media (min-width: 640px){.wallet-table-cell[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}}@media (min-width: 768px){.wallet-table-cell.memo-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}.wallet-table-cell.memo-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:240px}@media (min-width: 768px){.wallet-table-cell.memo-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:initial}}.wallet-table-cell[_ngcontent-%COMP%]   .history-id[_ngcontent-%COMP%]{width:100%}@media (min-width: 768px){.wallet-table-cell[_ngcontent-%COMP%]   .history-id[_ngcontent-%COMP%]{width:initial}}table[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]{width:100vw}table[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:0}@media (min-width: 640px){table[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]{width:calc(100vw - 40px)}}ion-select.otto-history-select[_ngcontent-%COMP%]{--color: var(--text-strong);--placeholder-color: var(--input-placeholder);--placeholder-opacity: 1;--padding-top: 6px;--padding-bottom: 6px;min-width:100px}"],data:{animation:[E.YV]}}),r})()},2635:(V,F,i)=>{"use strict";i.d(F,{T:()=>n});var A=i(4650);let n=(()=>{class e{}return e.\u0275fac=function(T){return new(T||e)},e.\u0275cmp=A.Xpm({type:e,selectors:[["app-copy"]],decls:6,vars:0,consts:[["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 1000 1000","enable-background","new 0 0 1000 1000",0,"xml","space","preserve",1,"fill-current"],["d","M796,10H384.2c-59.8,0-108.5,48.7-108.5,108.5v13.3H204c-59.8,0-108.5,48.7-108.5,108.5v641.3C95.6,941.3,144.2,990,204,990h411.7c59.8,0,108.5-48.7,108.5-108.5v-13.3H796c59.8,0,108.5-48.7,108.5-108.5V118.5C904.4,58.7,855.8,10,796,10z M654.3,881.5c0,21.2-17.3,38.5-38.5,38.5H204c-21.2,0-38.5-17.3-38.5-38.5V240.2c0-21.2,17.3-38.5,38.5-38.5h411.7c21.2,0,38.5,17.3,38.5,38.5L654.3,881.5L654.3,881.5z M834.5,759.8c0,21.2-17.3,38.5-38.5,38.5h-71.7v-558c0-59.8-48.7-108.5-108.5-108.5h-270v-13.3c0-21.2,17.3-38.5,38.5-38.5H796c21.2,0,38.5,17.3,38.5,38.5L834.5,759.8L834.5,759.8z"]],template:function(T,x){1&T&&(A.O4$(),A.TgZ(0,"svg",0)(1,"metadata"),A._uU(2,"Svg Vector Icons : http://www.onlinewebfonts.com/icon"),A.qZA(),A.TgZ(3,"g")(4,"g"),A._UZ(5,"path",1),A.qZA()()())},encapsulation:2}),e})()},9067:(V,F,i)=>{"use strict";i.d(F,{x:()=>n});var A=i(4650);let n=(()=>{class e{}return e.\u0275fac=function(T){return new(T||e)},e.\u0275cmp=A.Xpm({type:e,selectors:[["app-three-dots-loader"]],decls:4,vars:0,consts:[[1,"knight-rider-loader"],[1,"knight-rider-bar"]],template:function(T,x){1&T&&(A.TgZ(0,"div",0),A._UZ(1,"i",1)(2,"i",1)(3,"i",1),A.qZA())},styles:["[_nghost-%COMP%]{--loader-size: var(--size, 8px)}.knight-rider-loader[_ngcontent-%COMP%]{display:inline-flex;font-size:var(--loader-size);line-height:calc(var(--loader-size) * 1.4);flex-direction:row}.knight-rider-bar[_ngcontent-%COMP%]{display:block;height:1em;width:1em;margin:0 .15em;border-radius:20%;opacity:.5;background-color:currentColor;animation:_ngcontent-%COMP%_knight-rider-oscillate ease-in-out .3s infinite alternate}.knight-rider-bar[_ngcontent-%COMP%]:first-child{margin-left:0}.knight-rider-bar[_ngcontent-%COMP%]:last-child{margin-right:0}.knight-rider-bar[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.2s}.knight-rider-bar[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.1s}@keyframes _ngcontent-%COMP%_knight-rider-oscillate{0%{opacity:.5;transform:scaleY(1)}to{opacity:1;transform:scaleY(1.4)}}"]}),e})()},609:(V,F,i)=>{"use strict";i.d(F,{D:()=>Q});var A=i(655),n=i(7341),e=i(4392),b=i(4650),T=i(5379);const x=["container"];window.odometerOptions={auto:!1,duration:500,theme:"default"};let Q=(()=>{class k extends n.u{constructor(E){super(),this.themeService=E,this.input="",this.format="",this.duration=500,this.disableHover=!0,this.disabled=!1,this.disableInitialAnimation=!1,this.isMouseEnter=!1}ngAfterViewInit(){return(0,A.mG)(this,void 0,void 0,function*(){(0,e.Z)({odometer:"assets/script/odometer.js"}).onLoad(()=>{const{Odometer:J}=window;this.od=new J({el:this.container.nativeElement,value:this.input,duration:this.duration,format:this.format,theme:"default"}),!this.disableInitialAnimation&&!this.disabled&&setTimeout(()=>{this.od.update(null),this.od.update(this.input)},300)})})}ngOnChanges(E){var J,$,t,G;if((null===(J=E.input)||void 0===J||!J.isFirstChange())&&(null===($=E.input)||void 0===$?void 0:$.currentValue)!==(null===(t=E.input)||void 0===t?void 0:t.previousValue)){if(this.disabled)return;null===(G=this.od)||void 0===G||G.update(this.input)}}handleMouseEnter(){this.disableHover||this.od&&!this.isMouseEnter&&(this.disabled||(this.od.update(null),this.od.update(this.input)),this.isMouseEnter=!0)}handleMouseLeave(){this.disableHover||(this.isMouseEnter=!1)}}return k.\u0275fac=function(E){return new(E||k)(b.Y36(T.f))},k.\u0275cmp=b.Xpm({type:k,selectors:[["app-odometer"]],viewQuery:function(E,J){if(1&E&&b.Gf(x,5),2&E){let $;b.iGM($=b.CRH())&&(J.container=$.first)}},inputs:{input:"input",format:"format",duration:"duration",disableHover:"disableHover",disabled:"disabled",disableInitialAnimation:"disableInitialAnimation"},features:[b.qOj,b.TTD],decls:2,vars:0,consts:[[3,"mouseenter","mouseleave"],["container",""]],template:function(E,J){1&E&&(b.TgZ(0,"span",0,1),b.NdJ("mouseenter",function(){return J.handleMouseEnter()})("mouseleave",function(){return J.handleMouseLeave()}),b.qZA())},styles:[".odometer.odometer-auto-theme,   .odometer.odometer-theme-default{display:-moz-inline-box;display:inline-block;position:relative}  .odometer.odometer-auto-theme .odometer-digit,   .odometer.odometer-theme-default .odometer-digit{display:-moz-inline-box;display:inline-block;position:relative}  .odometer.odometer-auto-theme .odometer-digit .odometer-digit-spacer,   .odometer.odometer-theme-default .odometer-digit .odometer-digit-spacer{display:-moz-inline-box;display:inline-block;visibility:hidden}  .odometer.odometer-auto-theme .odometer-digit .odometer-digit-inner,   .odometer.odometer-theme-default .odometer-digit .odometer-digit-inner{text-align:left;display:block;position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}  .odometer.odometer-auto-theme .odometer-digit .odometer-ribbon,   .odometer.odometer-theme-default .odometer-digit .odometer-ribbon{display:block}  .odometer.odometer-auto-theme .odometer-digit .odometer-ribbon-inner,   .odometer.odometer-theme-default .odometer-digit .odometer-ribbon-inner{display:block;-webkit-backface-visibility:hidden}  .odometer.odometer-auto-theme .odometer-digit .odometer-value,   .odometer.odometer-theme-default .odometer-digit .odometer-value{display:block;-webkit-transform:translateZ(0)}  .odometer.odometer-auto-theme .odometer-digit .odometer-value.odometer-last-value,   .odometer.odometer-theme-default .odometer-digit .odometer-value.odometer-last-value{position:absolute}  .odometer.odometer-auto-theme.odometer-animating-up .odometer-ribbon-inner,   .odometer.odometer-theme-default.odometer-animating-up .odometer-ribbon-inner{transition:transform 1s}  .odometer.odometer-auto-theme.odometer-animating-up.odometer-animating .odometer-ribbon-inner,   .odometer.odometer-theme-default.odometer-animating-up.odometer-animating .odometer-ribbon-inner{transform:translateY(-100%)}  .odometer.odometer-auto-theme.odometer-animating-down .odometer-ribbon-inner,   .odometer.odometer-theme-default.odometer-animating-down .odometer-ribbon-inner{transform:translateY(-100%)}  .odometer.odometer-auto-theme.odometer-animating-down.odometer-animating .odometer-ribbon-inner,   .odometer.odometer-theme-default.odometer-animating-down.odometer-animating .odometer-ribbon-inner{transition:transform 1s;transform:translateY(0)}  .odometer.odometer-auto-theme,   .odometer.odometer-theme-default{line-height:inherit}  .odometer.odometer-auto-theme .odometer-value,   .odometer.odometer-theme-default .odometer-value{text-align:center}"]}),k})()},7911:(V,F,i)=>{"use strict";i.d(F,{K:()=>z});var A=i(655),n=i(8008),e=i(3416),b=i(7154),T=i(1150),x=i(6895),Q=i(9116),k=i(8854),H=i(4006),E=i(7102),J=i(1597),$=i(2722),t=i(4650),G=i(6339),Y=i(5939);const q=["mobileFilter"],I=["desktopFilter"];function w(h,L){1&h&&(t.TgZ(0,"p",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&h&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-rewards-points-history")," "))}function C(h,L){1&h&&(t.TgZ(0,"p",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&h&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"top-nav-login-register")," "))}function f(h,L){if(1&h&&(t.TgZ(0,"div",22)(1,"div"),t.YNc(2,w,3,3,"p",23),t.ALo(3,"async"),t.YNc(4,C,3,3,"ng-template",null,24,t.W1O),t.qZA()()),2&h){const u=t.MAs(5),S=t.oxw(2);t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,S.userService.userInfo$))("ngIfElse",u)}}function m(h,L){}const c=function(h){return{"md:truncate":h}},g=function(h){return{"rotate-180":h}};function W(h,L){if(1&h){const u=t.EpF();t.TgZ(0,"td",38),t.ALo(1,"translate"),t.TgZ(2,"div",39),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"td",40),t.ALo(6,"translate"),t.TgZ(7,"div",41),t._uU(8),t.ALo(9,"number"),t.qZA()(),t.TgZ(10,"td",42),t.ALo(11,"translate"),t.TgZ(12,"div",43)(13,"div",44,45),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",46),t.NdJ("click",function(){t.CHM(u);const r=t.oxw().index,M=t.oxw(3);return t.KtG(M.memoExpanded[r]=!M.memoExpanded[r])}),t._UZ(18,"ion-icon",47),t.qZA()()(),t.TgZ(19,"td",48),t.ALo(20,"translate"),t._uU(21),t.qZA()}if(2&h){const u=t.MAs(14),S=t.oxw(),r=S.$implicit,M=S.index,d=t.oxw(3);t.uIk("data-label",t.lcZ(1,13,"user")),t.xp6(2),t.Q6J("ngClass",r.type),t.xp6(1),t.hij(" ",t.lcZ(4,15,r.type)," "),t.xp6(2),t.uIk("data-label",t.lcZ(6,17,"subscription-fees")),t.xp6(3),t.hij(" ",t.xi3(9,19,r.amount,"0.2-2")," "),t.xp6(2),t.uIk("data-label",t.lcZ(11,22,"memo")),t.xp6(3),t.Q6J("ngClass",t.VKq(29,c,!d.memoExpanded[M])),t.xp6(2),t.hij(" ",t.xi3(16,24,r.i18nKey,r.i18nParam)," "),t.xp6(2),t.ekj("invisible",!d.isOverflowing(u,M)),t.xp6(1),t.Q6J("ngClass",t.VKq(31,g,d.memoExpanded[M])),t.xp6(1),t.uIk("data-label",t.lcZ(20,27,"id")),t.xp6(2),t.hij(" ",r.id," ")}}const tt=function(h){return{"expanded-row":h}};function Z(h,L){if(1&h){const u=t.EpF();t.ynx(0),t.TgZ(1,"tr",27),t.NdJ("click",function(){const M=t.CHM(u).index,d=t.oxw(3);return t.KtG(d.onClickTableRow(M))}),t.YNc(2,m,0,0,"ng-template",7),t.TgZ(3,"td",28)(4,"div",29),t._UZ(5,"ion-icon",30),t.qZA()()(),t.TgZ(6,"tr",31)(7,"td",32)(8,"div",33)(9,"div"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",34),t._uU(13),t.qZA()(),t.TgZ(14,"div",33)(15,"div"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",35),t._uU(19),t.ALo(20,"number"),t.qZA()(),t.TgZ(21,"div",33)(22,"div"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",36),t._uU(26),t.ALo(27,"translate"),t.qZA()()()(),t.YNc(28,W,22,33,"ng-template",null,37,t.W1O),t.BQk()}if(2&h){const u=L.$implicit,S=L.index,r=t.MAs(29),M=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(23,tt,M.expanded[S])),t.xp6(1),t.Q6J("ngTemplateOutlet",r),t.xp6(3),t.Q6J("ngClass",t.VKq(25,g,M.expanded[S])),t.xp6(1),t.Q6J("@collapseExpand",!(M.expanded[S]&&M.isMobile)),t.xp6(4),t.hij(" ",t.lcZ(11,11,"type")," "),t.xp6(2),t.Q6J("ngClass",u.type),t.xp6(1),t.hij(" ",u.type," "),t.xp6(3),t.hij(" ",t.lcZ(17,13,"amount")," "),t.xp6(3),t.hij(" ",t.xi3(20,15,u.amount,"0.2-2")," "),t.xp6(4),t.hij(" ",t.lcZ(24,18,"Memo")," "),t.xp6(3),t.hij(" ",t.xi3(27,20,u.i18nKey,u.i18nParam)," ")}}function _(h,L){if(1&h&&t.YNc(0,Z,30,27,"ng-container",26),2&h){const u=t.oxw().rows;t.Q6J("ngForOf",u)}}function l(h,L){if(1&h&&(t.TgZ(0,"table",12)(1,"thead")(2,"tr",13)(3,"th",14)(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"th",15),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",16)(11,"div"),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"th",17)(15,"div"),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t._UZ(18,"th",18),t.qZA()(),t.TgZ(19,"tbody",19),t.YNc(20,f,6,4,"div",20),t.YNc(21,_,1,1,"ng-template",null,21,t.W1O),t.qZA()()),2&h){const u=L.total,S=L.isInitialized,r=t.MAs(22);t.xp6(5),t.hij(" ",t.lcZ(6,6,"type")," "),t.xp6(3),t.hij(" ",t.lcZ(9,8,"amount")," "),t.xp6(4),t.hij(" ",t.lcZ(13,10,"memo")," "),t.xp6(4),t.hij(" ",t.lcZ(17,12,"id")," "),t.xp6(4),t.Q6J("ngIf",S&&!u)("ngIfElse",r)}}const v=function(){return{alignment:"start"}};function p(h,L){if(1&h){const u=t.EpF();t.TgZ(0,"ion-select",49,50),t.NdJ("ionChange",function(r){t.CHM(u);const M=t.oxw();return t.KtG(M.onChangeType(r))}),t.TgZ(2,"ion-select-option",51),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ion-select-option",52),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"ion-select-option",53),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"ion-select-option",54),t._uU(12),t.ALo(13,"translate"),t.qZA()()}if(2&h){const u=t.oxw();t.Q6J("interfaceOptions",t.DdM(15,v))("value",u.filterType),t.xp6(2),t.Q6J("value",null),t.xp6(1),t.hij(" ",t.lcZ(4,7,"select-all")," "),t.xp6(3),t.hij(" ",t.lcZ(7,9,"Reward")," "),t.xp6(3),t.hij(" ",t.lcZ(10,11,"Convert")," "),t.xp6(3),t.hij(" ",t.lcZ(13,13,"Receive")," ")}}function O(h,L){if(1&h){const u=t.EpF();t.TgZ(0,"ion-datetime",60),t.NdJ("ngModelChange",function(r){t.CHM(u);const M=t.oxw(2);return t.KtG(M.startDate=r)}),t.qZA(),t.TgZ(1,"div",61)(2,"button",62),t.NdJ("click",function(r){t.CHM(u),t.oxw();const M=t.MAs(6),d=t.oxw();return M.dismiss(),t.KtG(d.onChangeDate(r))}),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&h){const u=t.oxw(2);t.Q6J("ngModel",u.startDate)("preferWheel",!1)("min",u.minDate)("max",u.maxDate),t.xp6(3),t.hij(" ",t.lcZ(4,5,"close")," ")}}function P(h,L){if(1&h&&(t.TgZ(0,"div",55),t._UZ(1,"ion-icon",56),t.TgZ(2,"div",57),t._uU(3),t.ALo(4,"date"),t.qZA()(),t.TgZ(5,"ion-popover",58,59),t.YNc(7,O,5,7,"ng-template"),t.qZA()),2&h){const u=L.id,S=t.oxw();t.Q6J("id",u),t.xp6(3),t.hij(" ",t.xi3(4,3,S.startDate,"MM/dd/y")," "),t.xp6(2),t.Q6J("trigger",u)}}const B=function(){return{id:"mobile-datetime"}},N=function(){return{id:"desktop-datetime"}};let z=(()=>{class h extends b.H{constructor(u,S,r,M){super(),this.platform=u,this.i18n=S,this.walletService=r,this.userService=M,this.isLogin=!1,this.isLastPage=!1,this.expanded=[],this.filterType=null,this.filterText="",this.memoExpanded=[],this.startDate=new Date(Date.now()-10368e6).toISOString(),this.minDate=new Date(Date.now()-3456e7).toISOString(),this.maxDate=(new Date).toISOString(),this.fetchFn=({page:d,pageSize:D})=>(0,A.mG)(this,void 0,void 0,function*(){let K=[],X=0,nt="";if(this.filterType)switch(this.filterType){case E.XC.Receive:nt="0";break;case E.XC.Swap:nt="1";break;case E.XC.Reward:nt="2";break;default:nt=""}const ot=yield this.walletService.pointLog(d,D,nt,new Date(this.startDate).toISOString()).toPromise();return 0===ot.code&&(K=ot.data.rows.map(et=>Object.assign(Object.assign({},et),{type:0===et.type?E.XC.Receive:1===et.type?E.XC.Swap:E.XC.Reward})),X=ot.data.total,this.isLastPage=Math.floor(X/D)===d),{rows:K,total:X}}),this.isMobile=window.innerWidth<768,this.walletService.onWalletUpdate.pipe((0,$.R)(this.onDestroy$)).subscribe(()=>{this.historyTable.fetchData(0)})}onResize(){this.isMobile=window.innerWidth<768}ngOnInit(){}onClickTableRow(u){this.isMobile&&(this.expanded[u]=!this.expanded[u])}onChangeDate(u){this.fetchFn({page:0,pageSize:10,endTime:""})}onCopied(u){this.toast.toastSuccess(this.i18n.instant("copied"))}onChangeType(u){this.filterType=u.detail.value,this.historyTable.handlePageClick(1)}clearSearch(){this.filterText=""}onMobileSelectHover(u){this.filterMobileSelect.open(u)}onDesktopSelectHover(u){this.filterDesktopSelect.open(u)}randomHex(){return"#"+(16777215*Math.random()<<0).toString(16).padStart(6,"0")}isOverflowing(u,S){return this.memoExpanded[S]||u.offsetWidth<u.scrollWidth}}return h.\u0275fac=function(u){return new(u||h)(t.Y36(n.t4),t.Y36(e.sK),t.Y36(G.X),t.Y36(Y.K))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-rewards-points-tab"]],viewQuery:function(u,S){if(1&u&&(t.Gf(T.K,5),t.Gf(q,5),t.Gf(I,5)),2&u){let r;t.iGM(r=t.CRH())&&(S.historyTable=r.first),t.iGM(r=t.CRH())&&(S.filterMobileSelect=r.first),t.iGM(r=t.CRH())&&(S.filterDesktopSelect=r.first)}},hostBindings:function(u,S){1&u&&t.NdJ("resize",function(){return S.onResize()},!1,t.Jf7)},standalone:!0,features:[t.qOj,t.jDz],decls:19,vars:13,consts:[[1,"flex","flex-col","flex-1","text-left","!select-auto",3,"fetchFn","pageSize"],["slot","title",1,"flex","items-start","sm:items-center","justify-between","px-2","py-5","sm:py-2","w-full","flex-col","sm:flex-row"],[1,"text-2xl","text-text-strong","flex-1","capitalize","mb-4","sm:mb-0"],[1,"flex","flex-col","2xs:flex-row","gap-4","2xs:gap-0","w-full","sm:w-auto","justify-between","sm:justify-center"],["slot","mobileFilter",1,"select-wrapper"],[1,"flex","items-center","sm:hidden"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"],["slot","desktopFilter",1,"select-wrapper"],[1,"hidden","sm:flex","items-center"],["filterTypeTemp",""],["filterDateTemp",""],[1,"table-auto","text-[15px]"],[1,"text-base","text-grey-1","capitalize"],["scope","col",1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","pl-2","md:pl-4","md:w-28"],["scope","col",1,"pad-hidden","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-right","md:text-left","py-2","w-28"],["scope","col",1,"pad-hidden","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","w-4/12"],["scope","col",1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","text-right","md:text-left","py-2","sm:py-1","w-14"],[1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","w-6","md:hidden"],[1,"text-grey-2"],["class","overlay-container flex items-center justify-center",4,"ngIf","ngIfElse"],["dataTable",""],[1,"overlay-container","flex","items-center","justify-center"],["class","text-sm opacity-70",4,"ngIf","ngIfElse"],["notLoggedIn",""],[1,"text-sm","opacity-70"],[4,"ngFor","ngForOf"],[1,"cursor-pointer","md:cursor-text","mx-1","sm:mx-2",3,"ngClass","click"],[1,"md:hidden"],[1,"flex","justify-center","w-full"],["name","chevron-down-outline",1,"transition-transform","text-xl",3,"ngClass"],[1,"data-container","block","overflow-hidden"],["colspan","3"],[1,"w-full","flex","justify-between","py-3","px-2","border-b","border-main-border"],[1,"w-7/12","pl-2","capitalize",3,"ngClass"],[1,"w-7/12","pl-2"],[1,"w-7/12","pl-2","break-words"],["showCells",""],["scope","row",1,"link-table-cell","pl-2","md:pl-4","md:align-top"],[1,"align-bottom","whitespace-nowrap","truncate","text-text-strong","uppercase",3,"ngClass"],[1,"link-table-cell","pad-hidden","truncate","md:align-top"],[1,"text-right","md:text-left","text-text-strong"],[1,"link-table-cell","pad-hidden","md:pr-5","md:align-top"],[1,"relative","flex","items-start","justify-end","md:justify-start"],[1,"text-right","md:text-left","flex-1","break-keep",3,"ngClass"],["memo",""],[1,"justify-center","w-fit","hidden","md:flex","cursor-pointer",3,"click"],["name","chevron-down-outline",1,"transition-transform","text-xl","mx-0.5",3,"ngClass"],[1,"link-table-cell","text-right","md:text-left","whitespace-nowrap","truncate","text-text-strong","md:align-top"],["interface","popover",1,"flex","otto-history-select","text-text-strong","border","border-border-input","rounded-md","bg-transparent","py-1.5","outline-none",3,"interfaceOptions","value","ionChange"],["desktopFilter",""],[3,"value"],["value","Reward"],["value","convert"],["value","Receive"],[1,"flex","items-center","h-6","cursor-pointer","mr-2","md:mr-4",3,"id"],["name","calendar-outline","size","large",1,"w-4","mr-2"],[1,"text-grey-1","text-sm"],["alignment","center","triggerAction","click",3,"trigger"],["popover",""],["presentation","date",3,"ngModel","preferWheel","min","max","ngModelChange"],[1,"flex","justify-end","px-3","py-3","-mt-12"],[1,"text-white","bg-main-blue","rounded-md","px-3","py-1.5","capitalize",3,"click"]],template:function(u,S){if(1&u&&(t.TgZ(0,"app-base-table",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5),t.GkF(8,6)(9,7),t.qZA()()()(),t.TgZ(10,"div",8)(11,"div",9),t.GkF(12,6)(13,7),t.qZA()(),t.YNc(14,l,23,14,"ng-template"),t.qZA(),t.YNc(15,p,14,16,"ng-template",null,10,t.W1O),t.YNc(17,P,8,6,"ng-template",null,11,t.W1O)),2&u){const r=t.MAs(16),M=t.MAs(18);t.Q6J("fetchFn",S.fetchFn)("pageSize",10),t.xp6(3),t.hij(" ",t.lcZ(4,9,"rewards-points")," "),t.xp6(5),t.Q6J("ngTemplateOutlet",M)("ngTemplateOutletContext",t.DdM(11,B)),t.xp6(1),t.Q6J("ngTemplateOutlet",r),t.xp6(3),t.Q6J("ngTemplateOutlet",M)("ngTemplateOutletContext",t.DdM(12,N)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)}},dependencies:[x.ez,x.mk,x.sg,x.O5,x.tP,x.Ov,x.JJ,x.uU,e.aw,e.X$,n.Pc,n.x4,n.gu,n.t9,n.n0,n.d8,n.QI,Q.Q,k.T,T.K,H.u5,H.JJ,H.On],styles:["table[_ngcontent-%COMP%]{border-collapse:separate!important}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--bg-table)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child)   td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:1px;border-color:var(--main-border)}.copied[_ngcontent-%COMP%]{color:var(--accent-blue)!important}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1.25rem}tbody[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:flex-end}.link-search[_ngcontent-%COMP%]{max-width:180px}@media (min-width: 640px){.link-search[_ngcontent-%COMP%]{max-width:auto;min-width:240px}}@media (min-width: 1024px){.link-search[_ngcontent-%COMP%]{max-width:auto;min-width:350px}}.link-search[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--placeholder-opacity: 1;--placeholder-color: var(--input-placeholder);--padding-start: 6px;--color: var(--text-strong)}.link-table-cell[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}@media (min-width: 640px){.link-table-cell[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}}table[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]{width:100vw}table[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:0}ion-select.otto-history-select[_ngcontent-%COMP%]{--color: var(--text-strong);--placeholder-color: var(--input-placeholder);--placeholder-opacity: 1;--padding-top: 6px;--padding-bottom: 6px;min-width:100px}  .copy-cell.copied app-copy{display:none}  .copy-cell.copied i{display:block}  .copy-cell:not(.copied) app-copy{display:block}  .copy-cell:not(.copied) i{display:none}.convert[_ngcontent-%COMP%]{color:var(--main-yellow)}.reward[_ngcontent-%COMP%]{color:var(--main-green)}"],data:{animation:[J.YV]}}),h})()},6109:(V,F,i)=>{"use strict";i.d(F,{p:()=>e});var A=i(4650),n=i(4061);let e=(()=>{class b{constructor(x){this.toast=x,this.payload="",this.copied=new A.vpe,this.successMsg="",this.elementClass="app-copying-directive"}onClick(x){var Q;if(x.preventDefault(),x.stopPropagation(),!this.payload)return;let k=E=>{(E.clipboardData||window.clipboardData).setData("text",this.payload.toString()),E.preventDefault(),this.successMsg&&this.toast.toastSuccess(this.successMsg),this.copied.emit(this.payload)};document.addEventListener("copy",k,!1),document.execCommand("copy"),document.removeEventListener("copy",k,!1);const H=null===(Q=null==x?void 0:x.target)||void 0===Q?void 0:Q.closest(".app-copying-directive");H&&(H.classList.add("copied"),setTimeout(()=>{H.classList.remove("copied")},2e3))}}return b.\u0275fac=function(x){return new(x||b)(A.Y36(n.k))},b.\u0275dir=A.lG2({type:b,selectors:[["","appCopying",""]],hostVars:2,hostBindings:function(x,Q){1&x&&A.NdJ("click",function(H){return Q.onClick(H)}),2&x&&A.Tol(Q.elementClass)},inputs:{payload:["appCopying","payload"],successMsg:"successMsg"},outputs:{copied:"copied"}}),b})()},1764:function(V){V.exports=function(){"use strict";var i=6e4,A=36e5,n="millisecond",e="second",b="minute",T="hour",x="day",Q="week",k="month",H="quarter",E="year",J="date",$="Invalid Date",t=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,G=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Z){var _=["th","st","nd","rd"],l=Z%100;return"["+Z+(_[(l-20)%10]||_[l]||_[0])+"]"}},q=function(Z,_,l){var v=String(Z);return!v||v.length>=_?Z:""+Array(_+1-v.length).join(l)+Z},I={s:q,z:function(Z){var _=-Z.utcOffset(),l=Math.abs(_),v=Math.floor(l/60),p=l%60;return(_<=0?"+":"-")+q(v,2,"0")+":"+q(p,2,"0")},m:function Z(_,l){if(_.date()<l.date())return-Z(l,_);var v=12*(l.year()-_.year())+(l.month()-_.month()),p=_.clone().add(v,k),O=l-p<0,P=_.clone().add(v+(O?-1:1),k);return+(-(v+(l-p)/(O?p-P:P-p))||0)},a:function(Z){return Z<0?Math.ceil(Z)||0:Math.floor(Z)},p:function(Z){return{M:k,y:E,w:Q,d:x,D:J,h:T,m:b,s:e,ms:n,Q:H}[Z]||String(Z||"").toLowerCase().replace(/s$/,"")},u:function(Z){return void 0===Z}},w="en",C={};C[w]=Y;var f=function(Z){return Z instanceof W},m=function Z(_,l,v){var p;if(!_)return w;if("string"==typeof _){var O=_.toLowerCase();C[O]&&(p=O),l&&(C[O]=l,p=O);var P=_.split("-");if(!p&&P.length>1)return Z(P[0])}else{var B=_.name;C[B]=_,p=B}return!v&&p&&(w=p),p||!v&&w},c=function(Z,_){if(f(Z))return Z.clone();var l="object"==typeof _?_:{};return l.date=Z,l.args=arguments,new W(l)},g=I;g.l=m,g.i=f,g.w=function(Z,_){return c(Z,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var W=function(){function Z(l){this.$L=m(l.locale,null,!0),this.parse(l)}var _=Z.prototype;return _.parse=function(l){this.$d=function(v){var p=v.date,O=v.utc;if(null===p)return new Date(NaN);if(g.u(p))return new Date;if(p instanceof Date)return new Date(p);if("string"==typeof p&&!/Z$/i.test(p)){var P=p.match(t);if(P){var B=P[2]-1||0,N=(P[7]||"0").substring(0,3);return O?new Date(Date.UTC(P[1],B,P[3]||1,P[4]||0,P[5]||0,P[6]||0,N)):new Date(P[1],B,P[3]||1,P[4]||0,P[5]||0,P[6]||0,N)}}return new Date(p)}(l),this.$x=l.x||{},this.init()},_.init=function(){var l=this.$d;this.$y=l.getFullYear(),this.$M=l.getMonth(),this.$D=l.getDate(),this.$W=l.getDay(),this.$H=l.getHours(),this.$m=l.getMinutes(),this.$s=l.getSeconds(),this.$ms=l.getMilliseconds()},_.$utils=function(){return g},_.isValid=function(){return this.$d.toString()!==$},_.isSame=function(l,v){var p=c(l);return this.startOf(v)<=p&&p<=this.endOf(v)},_.isAfter=function(l,v){return c(l)<this.startOf(v)},_.isBefore=function(l,v){return this.endOf(v)<c(l)},_.$g=function(l,v,p){return g.u(l)?this[v]:this.set(p,l)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(l,v){var p=this,O=!!g.u(v)||v,P=g.p(l),B=function(M,d){var D=g.w(p.$u?Date.UTC(p.$y,d,M):new Date(p.$y,d,M),p);return O?D:D.endOf(x)},N=function(M,d){return g.w(p.toDate()[M].apply(p.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(d)),p)},z=this.$W,h=this.$M,L=this.$D,u="set"+(this.$u?"UTC":"");switch(P){case E:return O?B(1,0):B(31,11);case k:return O?B(1,h):B(0,h+1);case Q:var S=this.$locale().weekStart||0,r=(z<S?z+7:z)-S;return B(O?L-r:L+(6-r),h);case x:case J:return N(u+"Hours",0);case T:return N(u+"Minutes",1);case b:return N(u+"Seconds",2);case e:return N(u+"Milliseconds",3);default:return this.clone()}},_.endOf=function(l){return this.startOf(l,!1)},_.$set=function(l,v){var p,O=g.p(l),P="set"+(this.$u?"UTC":""),B=(p={},p[x]=P+"Date",p[J]=P+"Date",p[k]=P+"Month",p[E]=P+"FullYear",p[T]=P+"Hours",p[b]=P+"Minutes",p[e]=P+"Seconds",p[n]=P+"Milliseconds",p)[O],N=O===x?this.$D+(v-this.$W):v;if(O===k||O===E){var z=this.clone().set(J,1);z.$d[B](N),z.init(),this.$d=z.set(J,Math.min(this.$D,z.daysInMonth())).$d}else B&&this.$d[B](N);return this.init(),this},_.set=function(l,v){return this.clone().$set(l,v)},_.get=function(l){return this[g.p(l)]()},_.add=function(l,v){var p,O=this;l=Number(l);var P=g.p(v),B=function(h){var L=c(O);return g.w(L.date(L.date()+Math.round(h*l)),O)};if(P===k)return this.set(k,this.$M+l);if(P===E)return this.set(E,this.$y+l);if(P===x)return B(1);if(P===Q)return B(7);var N=(p={},p[b]=i,p[T]=A,p[e]=1e3,p)[P]||1,z=this.$d.getTime()+l*N;return g.w(z,this)},_.subtract=function(l,v){return this.add(-1*l,v)},_.format=function(l){var v=this,p=this.$locale();if(!this.isValid())return p.invalidDate||$;var O=l||"YYYY-MM-DDTHH:mm:ssZ",P=g.z(this),B=this.$H,N=this.$m,z=this.$M,h=p.weekdays,L=p.months,S=function(d,D,R,K){return d&&(d[D]||d(v,O))||R[D].slice(0,K)},r=function(d){return g.s(B%12||12,d,"0")},M=p.meridiem||function(d,D,R){var K=d<12?"AM":"PM";return R?K.toLowerCase():K};return O.replace(G,function(d,D){return D||function(R){switch(R){case"YY":return String(v.$y).slice(-2);case"YYYY":return g.s(v.$y,4,"0");case"M":return z+1;case"MM":return g.s(z+1,2,"0");case"MMM":return S(p.monthsShort,z,L,3);case"MMMM":return S(L,z);case"D":return v.$D;case"DD":return g.s(v.$D,2,"0");case"d":return String(v.$W);case"dd":return S(p.weekdaysMin,v.$W,h,2);case"ddd":return S(p.weekdaysShort,v.$W,h,3);case"dddd":return h[v.$W];case"H":return String(B);case"HH":return g.s(B,2,"0");case"h":return r(1);case"hh":return r(2);case"a":return M(B,N,!0);case"A":return M(B,N,!1);case"m":return String(N);case"mm":return g.s(N,2,"0");case"s":return String(v.$s);case"ss":return g.s(v.$s,2,"0");case"SSS":return g.s(v.$ms,3,"0");case"Z":return P}return null}(d)||P.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(l,v,p){var O,P=this,B=g.p(v),N=c(l),z=(N.utcOffset()-this.utcOffset())*i,h=this-N,L=function(){return g.m(P,N)};switch(B){case E:O=L()/12;break;case k:O=L();break;case H:O=L()/3;break;case Q:O=(h-z)/6048e5;break;case x:O=(h-z)/864e5;break;case T:O=h/A;break;case b:O=h/i;break;case e:O=h/1e3;break;default:O=h}return p?O:g.a(O)},_.daysInMonth=function(){return this.endOf(k).$D},_.$locale=function(){return C[this.$L]},_.locale=function(l,v){if(!l)return this.$L;var p=this.clone(),O=m(l,v,!0);return O&&(p.$L=O),p},_.clone=function(){return g.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},Z}(),tt=W.prototype;return c.prototype=tt,[["$ms",n],["$s",e],["$m",b],["$H",T],["$W",x],["$M",k],["$y",E],["$D",J]].forEach(function(Z){tt[Z[1]]=function(_){return this.$g(_,Z[0],Z[1])}}),c.extend=function(Z,_){return Z.$i||(Z(_,W,c),Z.$i=!0),c},c.locale=m,c.isDayjs=f,c.unix=function(Z){return c(1e3*Z)},c.en=C[w],c.Ls=C,c.p={},c}()}}]);