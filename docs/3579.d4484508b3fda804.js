"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3579],{860:(k,T,i)=>{i.d(T,{B:()=>Z});var m=i(6895),e=i(9116),h=i(3416),x=i(8854),w=i(7154),n=i(4650);let O=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-chart-curve-icon"]],decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","-0.2 0 32.939 32.939",1,"w-full"],["transform","translate(-225.15 -385.057)"],["d","M256.689,418H225.15V386.057a1,1,0,0,1,2,0V416h29.539a1,1,0,0,1,0,2Z"],["d","M230.171,409.995a1,1,0,0,1-.68-1.733l5.024-4.669a4.725,4.725,0,0,1,6.441.023l1.152,1.087a3.628,3.628,0,0,0,5.4-.468l7.4-9.912a1,1,0,0,1,1.6,1.2l-7.4,9.912a5.628,5.628,0,0,1-8.373.726l-1.152-1.087a2.717,2.717,0,0,0-3.706-.014l-5.025,4.67A1,1,0,0,1,230.171,409.995Z"]],template:function(r,c){1&r&&(n.O4$(),n.TgZ(0,"svg",0)(1,"g",1),n._UZ(2,"path",2)(3,"path",3),n.qZA()())},encapsulation:2}),a})(),t=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-spread-sheet-icon"]],decls:4,vars:0,consts:[[0,"xmlns","dc","http://purl.org/dc/elements/1.1/",0,"xmlns","cc","http://creativecommons.org/ns#",0,"xmlns","rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#",0,"xmlns","svg","http://www.w3.org/2000/svg","xmlns","http://www.w3.org/2000/svg",0,"xmlns","sodipodi","http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",0,"xmlns","inkscape","http://www.inkscape.org/namespaces/inkscape","version","1.1","x","0px","y","0px","viewBox","0 0 100 100","id","svg10",0,"sodipodi","docname","noun_spreadsheet_773827.svg",0,"inkscape","version","0.92.1 r15371",1,"w-full"],["id","defs14"],["transform","translate(2.1186441,-951.93842)","id","g4"],["d","M 17.8125,6 A 2.0001999,2.0001999 0 0 0 16,8 v 76 a 2.0001999,2.0001999 0 1 0 4,0 V 10 h 34 v 18 a 2.0001999,2.0001999 0 0 0 2,2 h 18 v 8 H 30 a 2.0002,2.0002 0 0 0 -2,2 v 39.53125 a 2.0002,2.0002 0 0 0 2,2 H 74 V 90 H 18 a 2.0001999,2.0001999 0 1 0 0,4 h 58 a 2.0001999,2.0001999 0 0 0 2,-2 V 81.53125 h 4 a 2.0002,2.0002 0 0 0 2,-2 V 40 A 2.0002,2.0002 0 0 0 82,38 H 78 V 27 a 2.0001999,2.0001999 0 0 0 -0.59375,-1.4375 l -19,-19 A 2.0001999,2.0001999 0 0 0 57,6 H 18 A 2.0001999,2.0001999 0 0 0 17.8125,6 Z M 58,11.8125 72.1875,26 H 58 Z M 32,42 h 13 v 9 H 32 Z m 17,0 h 14 v 9 H 49 Z m 18,0 h 13 v 9 H 67 Z M 32,55 h 13 v 9 H 32 Z m 17,0 h 14 v 9 H 49 Z m 18,0 h 13 v 9 H 67 Z M 32,68 h 13 v 9.53125 H 32 Z m 17,0 h 14 v 9.53125 H 49 Z m 18,0 h 13 v 9.53125 H 67 Z","transform","translate(0,952.36215)","id","path2",0,"inkscape","connector-curvature","0",2,"font-size","medium","line-height","normal","text-indent","0","text-align","start","text-decoration","none","text-decoration-line","none","letter-spacing","normal","word-spacing","normal","text-transform","none","writing-mode","lr-tb","direction","ltr","baseline-shift","baseline","text-anchor","start","display","inline","overflow","visible","visibility","visible","opacity","1","fill","currentColor","fill-opacity","1","stroke","none","stroke-width","3.99999976","marker","none","enable-background","accumulate"]],template:function(r,c){1&r&&(n.O4$(),n.TgZ(0,"svg",0),n._UZ(1,"defs",1),n.TgZ(2,"g",2),n._UZ(3,"path",3),n.qZA()())},encapsulation:2}),a})();const y=function(a,g){return{dark:a,light:g}},M=function(a){return{"transform translate-x-full":a}},C=function(a){return{"text-white":a}};let Z=(()=>{class a extends w.H{constructor(){super(...arguments),this.showTable=!1}}return a.\u0275fac=function(){let g;return function(c){return(g||(g=n.n5z(a)))(c||a)}}(),a.\u0275cmp=n.Xpm({type:a,selectors:[["app-dashboard-switch"]],inputs:{showTable:"showTable"},standalone:!0,features:[n.qOj,n.jDz],decls:15,vars:19,consts:[[1,"switch-container","cursor-pointer","rounded-xl","border","border-main-border","px-px","py-px","z-10",3,"ngClass"],[1,"absolute","transition-transform","h-10","w-10","sm:w-12","sm:h-12","rounded-xl","bg-main-blue",2,"z-index","-1",3,"ngClass"],[1,"flex"],[1,"h-10","w-10","sm:w-12","sm:h-12","flex","items-center","justify-center",3,"ngClass"],[1,"block","w-4","m-auto"],[1,"text-xs","capitalize",2,"font-size","10px"],[1,"block","w-5","m-auto"]],template:function(r,c){1&r&&(n.TgZ(0,"div",0),n._UZ(1,"div",1),n.TgZ(2,"div",2)(3,"div",3)(4,"div"),n._UZ(5,"app-chart-curve-icon",4),n.TgZ(6,"div",5),n._uU(7),n.ALo(8,"translate"),n.qZA()()(),n.TgZ(9,"div",3)(10,"div"),n._UZ(11,"app-spread-sheet-icon",6),n.TgZ(12,"div",5),n._uU(13),n.ALo(14,"translate"),n.qZA()()()()()),2&r&&(n.Q6J("ngClass",n.WLB(10,y,c.showTable,!c.showTable)),n.xp6(1),n.Q6J("ngClass",n.VKq(13,M,c.showTable)),n.xp6(2),n.Q6J("ngClass",n.VKq(15,C,!c.showTable)),n.xp6(4),n.Oqu(n.lcZ(8,6,"chart")),n.xp6(2),n.Q6J("ngClass",n.VKq(17,C,c.showTable)),n.xp6(4),n.Oqu(n.lcZ(14,8,"sheet")))},dependencies:[m.ez,m.mk,h.aw,h.X$,e.Q,O,t,x.T],styles:[".dark-mode{--dashboard-switch-bg: var(--main-bg)}  .light-mode{--dashboard-switch-bg: white}.switch-container[_ngcontent-%COMP%]{background-color:var(--dashboard-switch-bg);position:relative}"]}),a})()},2626:(k,T,i)=>{i.d(T,{J:()=>F});var m=i(6895),e=i(9116),h=i(8008),x=i(3416),w=i(8854),n=i(5433),O=i(7154),t=i(4650),y=i(7011),M=i(9787);function C(o,p){if(1&o&&(t.TgZ(0,"div",4),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const l=p.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,l))}}function Z(o,p){1&o&&(t.ynx(0),t._uU(1," -- "),t.BQk())}function a(o,p){if(1&o&&(t._uU(0),t.ALo(1,"number")),2&o){const l=t.oxw().$implicit;t.hij(" ",t.xi3(1,1,l,"0.4-4"),"% ")}}const g=function(o,p){return{"text-main-red":o,"text-main-green":p}};function r(o,p){if(1&o&&(t.TgZ(0,"div",13),t.YNc(1,Z,2,0,"ng-container",6),t.YNc(2,a,2,4,"ng-template",null,14,t.W1O),t.qZA()),2&o){const l=p.$implicit,_=t.MAs(3);t.Q6J("ngClass",t.WLB(3,g,l<0&&null!==l,l>=0&&null!==l)),t.xp6(1),t.Q6J("ngIf",null===l)("ngIfElse",_)}}function c(o,p){if(1&o&&(t.TgZ(0,"div",10)(1,"div",11),t._uU(2),t.qZA(),t.YNc(3,r,4,6,"div",12),t.qZA()),2&o){const l=p.$implicit;t.xp6(2),t.Oqu(l.year),t.xp6(1),t.Q6J("ngForOf",l.data)}}function s(o,p){if(1&o&&(t.ynx(0),t.YNc(1,c,4,2,"div",9),t.BQk()),2&o){const l=t.oxw();t.xp6(1),t.Q6J("ngForOf",l.data)}}function d(o,p){1&o&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-data-found"),""))}function v(o,p){1&o&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"yield-table-no-more-data"),""))}function u(o,p){1&o&&(t.TgZ(0,"div",18)(1,"span",16),t._uU(2,"\xa0\xa0"),t.qZA()())}const A=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]};function E(o,p){1&o&&(t.TgZ(0,"div",10)(1,"div",11)(2,"span",16),t._uU(3,"\xa0\xa0"),t.qZA()(),t.YNc(4,u,3,0,"div",17),t.qZA()),2&o&&(t.xp6(4),t.Q6J("ngForOf",t.DdM(1,A)))}const U=function(){return[1,2]};function Y(o,p){1&o&&t.YNc(0,E,5,2,"div",9),2&o&&t.Q6J("ngForOf",t.DdM(1,U))}let F=(()=>{class o extends O.H{constructor(l,_){super(),this.strategyService=l,this.i18n=_,this.runId="",this.headers=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Otc","Nov","Dec"],this.isLoading=!1}ngOnInit(){this.queryHistoricalProfit()}getRandomArbitrary(l,_){return Math.random()*(_-l)+l}queryHistoricalProfit(){this.isLoading=!0,(this.obFetch||this.fetchData()).subscribe(_=>{if(this.isLoading=!1,Object.is(_.code,0)){const D=(_.data||[]).sort((f,b)=>100*f.year+f.month-100*b.year-b.month),L=Array.from(new Set(D.map(f=>f.year)));this.data=L.map(f=>{const b=D.filter(P=>Object.is(P.year,f)),I=[];for(let P=1;P<=12;P++){const B=b.find(J=>Object.is(J.month,P));I.push(B?B.value:null)}return{year:f,data:I}}).sort((f,b)=>b.year-f.year)}else this.toast.toastError(this.i18n.instant(_.message))})}fetchData(){return this.strategyService.queryHistoricalProfit(this.runId,this.strategyType)}}return o.\u0275fac=function(l){return new(l||o)(t.Y36(y.k),t.Y36(x.sK))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard-yield-table"]],inputs:{runId:"runId",strategyType:"strategyType",obFetch:"obFetch"},standalone:!0,features:[t.qOj,t.jDz],decls:13,vars:8,consts:[["scrollShadow","","track","all","visibility","hover",1,"h-full","w-full"],[1,"w-full","capitalize"],[1,"border-b","border-main-border","sticky","top-0","bg-main-bg","z-20"],[1,"row-container","grid","grid-cols-12","sticky","left-0","text-text-strong","font-medium","text-lg","text-center"],[1,"py-1.5"],["class","py-1.5",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["class","text-center py-12",4,"ngIf"],["skeleton",""],["class","row-container grid grid-cols-12 text-xs border-b border-main-border text-center",4,"ngFor","ngForOf"],[1,"row-container","grid","grid-cols-12","text-xs","border-b","border-main-border","text-center"],[1,"py-3","text-base","leading-4","font-medium"],["class","py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"py-3",3,"ngClass"],["valueContent",""],[1,"text-center","py-12"],[1,"pulSate"],["class","py-3",4,"ngFor","ngForOf"],[1,"py-3"]],template:function(l,_){if(1&l&&(t.TgZ(0,"ng-scrollbar",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,C,3,3,"div",5),t.qZA()(),t.YNc(8,s,2,1,"ng-container",6),t.YNc(9,d,3,3,"div",7),t.YNc(10,v,3,3,"div",7),t.qZA()(),t.YNc(11,Y,1,2,"ng-template",null,8,t.W1O)),2&l){const D=t.MAs(12);t.xp6(5),t.Oqu(t.lcZ(6,6,"Year")),t.xp6(2),t.Q6J("ngForOf",_.headers),t.xp6(1),t.Q6J("ngIf",!_.isLoading)("ngIfElse",D),t.xp6(1),t.Q6J("ngIf",!(null!=_.data&&_.data.length||_.isLoading)),t.xp6(1),t.Q6J("ngIf",null==_.data?null:_.data.length)}},dependencies:[h.Pc,e.Q,m.ez,m.mk,m.sg,m.O5,m.JJ,w.T,M.E,x.aw,x.X$,n.kb,n.KC],styles:[".dark-mode{--sticky-bg: var(--main-bg);--horizon-shadow: 6px 0px 11px 0px rgba(0,0,0,.2)}  .light-mode{--sticky-bg: #F3F3FD;--horizon-shadow: 6px 0px 11px 0px rgba(0,0,0,.1)}.row-container[_ngcontent-%COMP%]{width:100%;min-width:950px;grid-template-columns:repeat(13,minmax(0,1fr));gap:.25rem}@media (min-width: 640px){.row-container[_ngcontent-%COMP%]{grid-template-columns:157px repeat(12,minmax(0,1fr))}}.row-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{white-space:nowrap}.row-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:sticky;left:0;background-color:var(--sticky-bg);box-shadow:var(--horizon-shadow);z-index:10;border-right-width:1px;border-color:var(--main-border);color:var(--text-strong)}@media (min-width: 640px){.row-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-right:.5rem;text-align:right}}ng-scrollbar[_ngcontent-%COMP%]     .scroll-shadow-top{top:55px}"]}),o})()},4040:(k,T,i)=>{i.d(T,{F:()=>a,z:()=>g});var m=i(6895),e=i(4650),h=i(4006),x=i(7154),w=i(7981),n=i(8008);function O(r,c){1&r&&e._UZ(0,"i",16)}const t=function(r){return{"border-2 border-text-strong":r}};function y(r,c){if(1&r){const s=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){const u=e.CHM(s).$implicit,A=e.oxw(2),E=e.MAs(4);return A.handleColorChange(u),e.KtG(E.dismiss())}),e.TgZ(1,"div",14),e.YNc(2,O,1,0,"i",15),e.qZA()()}if(2&r){const s=c.$implicit,d=e.oxw(2);e.xp6(1),e.Udp("background-color","rgb("+s+")"),e.Q6J("ngClass",e.VKq(4,t,d.color===s)),e.xp6(1),e.Q6J("ngIf",d.color===s)}}function M(r,c){1&r&&e._UZ(0,"i",17)}function C(r,c){1&r&&e._UZ(0,"i",18)}function Z(r,c){if(1&r){const s=e.EpF();e.YNc(0,y,3,6,"div",5),e.TgZ(1,"div",6)(2,"div",7),e.YNc(3,M,1,0,"i",8),e.YNc(4,C,1,0,"ng-template",null,9,e.W1O),e.TgZ(6,"div",10)(7,"input",11,12),e.NdJ("ngModelChange",function(v){e.CHM(s);const u=e.oxw();return e.KtG(u.colorPicker=v)})("ngModelChange",function(v){e.CHM(s);const u=e.oxw();return e.KtG(u.handleColorPicker(v))}),e.qZA()()()()}if(2&r){const s=e.MAs(5),d=e.oxw();e.Q6J("ngForOf",d.colors),e.xp6(3),e.Q6J("ngIf",d.color===d.hexToRgb(d.colorPicker))("ngIfElse",s),e.xp6(4),e.Q6J("ngModel",d.colorPicker)}}const a=["0, 162, 254","1, 102, 255","254, 192, 2","254, 108, 2","255, 19, 247","150, 1, 254","4, 221, 255","71, 216, 21"];let g=(()=>{class r extends x.H{constructor(s){super(),this.ref=s,this.colors=a,this.color=this.colors[0],this.generateRandom=!1,this.colorChange=new e.vpe,this.colorPicker="#8c3636",this.randomColor=()=>"#"+Math.floor(16777215*Math.random()).toString(16),this.compId=(0,w.k)()}handleColorChange(s){this.colorChange.emit(s)}hexToRgb(s){return`${parseInt(s.substring(1,3),16)}, ${parseInt(s.substring(3,5),16)}, ${parseInt(s.substring(5,7),16)}`}handleColorPicker(s){this.handleColorChange(this.hexToRgb(s))}ngOnInit(){this.generateRandom&&this.colorChange.emit(this.hexToRgb(this.randomColor()))}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-color-picker"]],inputs:{color:"color",generateRandom:"generateRandom"},outputs:{colorChange:"colorChange"},standalone:!0,features:[e.qOj,e.jDz],decls:6,vars:5,consts:[[1,"flex","items-center","cursor-pointer",3,"id"],[1,"w-4","h-4","rounded-full","mr-1","ml-2.5"],["name","caret-down-outline",1,"w-2.5","h-2.5"],["alignment","center","triggerAction","click",3,"trigger","dismissOnSelect"],["popover",""],["class","flex py-1 justify-center items-center cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"flex","py-1","justify-center","items-center","h-8","w-full","cursor-pointer"],[1,"w-6","h-6","rounded-full","flex","items-center","justify-center","border","border-text-strong","relative","overflow-hidden","bg-white"],["class","icon-checkmark absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-black mt-0.5 text-lg",4,"ngIf","ngIfElse"],["notcheck",""],[1,"rainbow-bg","opacity-20"],["type","color",1,"opacity-0","cursor-pointer",3,"ngModel","ngModelChange"],["inputColor",""],[1,"flex","py-1","justify-center","items-center","cursor-pointer",3,"click"],[1,"w-6","h-6","rounded-full","flex","items-center","justify-center",3,"ngClass"],["class","icon-checkmark text-white mt-0.5",4,"ngIf"],[1,"icon-checkmark","text-white","mt-0.5"],[1,"icon-checkmark","absolute","left-1/2","top-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-black","mt-0.5","text-lg"],[1,"icon-pencil","absolute","left-1/2","top-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-black",2,"font-size","14px"]],template:function(s,d){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"ion-icon",2),e.qZA(),e.TgZ(3,"ion-popover",3,4),e.YNc(5,Z,9,4,"ng-template"),e.qZA()),2&s&&(e.Q6J("id",d.compId),e.xp6(1),e.Udp("background","rgb("+d.color+")"),e.xp6(2),e.Q6J("trigger",d.compId)("dismissOnSelect",!1))},dependencies:[m.ez,m.mk,m.sg,m.O5,n.Pc,n.gu,n.d8,h.u5,h.Fj,h.JJ,h.On,h.UX],styles:["ion-popover[_ngcontent-%COMP%]{--width: 40px}ion-popover[_ngcontent-%COMP%]::part(content){border-radius:10px}"],changeDetection:0}),r})()}}]);