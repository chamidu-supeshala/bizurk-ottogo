"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7931],{7931:(J,w,r)=>{r.r(w),r.d(w,{MyWalletModule:()=>ge});var c=r(6895),s=r(8008),g=r(3416),u=r(5433),d=r(4006),h=r(9485),p=r(8854),_=r(9116),b=r(7394),C=r(4362),F=r(3535),O=r(1782),x=r(655),E=r(2722),v=r(5762),m=r(7102);new Date(2023,0,4,18,24),new Date(2023,11,15,15,57);const K=[{dateCreated:new Date("01/04/2023"),giftAmount:25,giftCode:"64871598785661283",status:m.gl.Unused},{dateCreated:new Date("01/04/2023"),giftAmount:50,giftCode:"94812398785667818",status:m.gl.Redeemed},{dateCreated:new Date("01/04/2023"),giftAmount:100,giftCode:"31894998785556846",status:m.gl.Redeemed}];new Date(2023,0,4,18,24),new Date(2023,11,15,15,57),new Date(2023,0,4,18,24);var t=r(4650),H=r(6339),Z=r(6065),j=r(8512),U=r(4294),D=r(8241),R=r(7134),q=r(7341),Y=r(4950);const z=[[["","slot","start"]]],V=function(n){return[n]},X=["[slot=start]"];let $=(()=>{class n extends v.H{constructor(){super(...arguments),this.recipient={address:"",transferAmount:0},this.canRemove=!0,this.readonly=!1,this.handleRemove=new t.vpe}ngOnInit(){}onClickRemoveBtn(){this.canRemove&&this.handleRemove.emit(!0)}}return n.\u0275fac=function(){let a;return function(o){return(a||(a=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-recipient-form-field"]],inputs:{recipient:"recipient",canRemove:"canRemove",readonly:"readonly"},outputs:{handleRemove:"handleRemove"},standalone:!0,features:[t.qOj,t.jDz],ngContentSelectors:X,decls:19,vars:17,consts:[[1,"flex","items-end","w-full"],[1,"flex-1","grid","grid-cols-2","gap-3"],[1,"col-span-1"],[1,"text-sm","text-grey-1","font-medium","ml-1"],[1,"wrap","relative","flex","items-center","bg-bg-input","rounded-lg","border","border-border-input","text-xl","overflow-hidden","mt-0.5"],[3,"placeholder","ngModel","ngModelChange"],[1,"mt-0.5",3,"min","digits","ngModel","readonly","ngModelChange"],["src","assets/icon/wallet/ottopoints-green.png","alt","Otto Token","slot","start",1,"h-7","ml-2"],[1,"flex","h-full","ml-2","my-2",3,"ngClass"],[1,"remove-btn","flex","items-center","justify-center","rounded-full","w-6","h-6",3,"click"],[1,"icon-close","text-sm"]],template:function(e,o){1&e&&(t.F$t(z),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ion-label",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.Hsn(7),t.TgZ(8,"ion-input",5),t.NdJ("ngModelChange",function(l){return o.recipient.address=l}),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",2)(11,"ion-label",3),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"app-number-field",6),t.NdJ("ngModelChange",function(l){return o.recipient.transferAmount=l}),t._UZ(15,"img",7),t.qZA()()(),t.TgZ(16,"div",8)(17,"div",9),t.NdJ("click",function(){return o.onClickRemoveBtn()}),t._UZ(18,"i",10),t.qZA()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,9,"send-to")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(9,11,"enter-username-or-userID")),t.Q6J("ngModel",o.recipient.address),t.xp6(4),t.hij(" ",t.lcZ(13,13,"amount")," "),t.xp6(2),t.Q6J("min",0)("digits",2)("ngModel",o.recipient.transferAmount)("readonly",o.readonly),t.xp6(2),t.Q6J("ngClass",t.VKq(15,V,o.canRemove?"visible":"invisible")))},dependencies:[c.ez,c.mk,s.Pc,s.pK,s.Q$,s.j9,g.aw,g.X$,d.u5,d.JJ,d.On,d.UX,Y.E],styles:["ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-font-weight: 500;--padding-top: 4px;--padding-bottom: 4px;color:var(--text-strong)}app-number-field[_ngcontent-%COMP%]     ion-input{font-size:1.25rem;line-height:1.75rem;--padding-top: 4px;--padding-bottom: 4px}app-number-field[_ngcontent-%COMP%]     ion-icon{height:.75rem;width:.75rem}.remove-btn[_ngcontent-%COMP%]{background-color:rgba(238,68,17,.15);color:#ff0024}"]}),n})();var tt=r(9787),et=r(8798);function nt(n,a){1&n&&(t.TgZ(0,"p",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"send-credits-description")," "))}function ot(n,a){}function it(n,a){}function at(n,a){1&n&&(t.TgZ(0,"div",33),t._uU(1,"1"),t.qZA())}function lt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",33),t._uU(2),t.qZA(),t.TgZ(3,"app-recipient-form-field",35),t.NdJ("handleRemove",function(){const l=t.CHM(e).index,y=t.oxw(2);return t.KtG(y.onRemoveRecipient(l))}),t.qZA()()}if(2&n){const e=a.$implicit,o=a.index;t.xp6(2),t.Oqu(o+2),t.xp6(1),t.Q6J("recipient",e)}}function rt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onAddRecipient())}),t.TgZ(1,"div",37),t._UZ(2,"ion-icon",38),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"add-recipient")," "))}function st(n,a){if(1&n&&(t.TgZ(0,"div",39)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"recipients")," "),t.xp6(3),t.Oqu(e.recipients.length)}}function ct(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"i",5),t.TgZ(4,"div",6)(5,"h2",7),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,nt,3,3,"p",8),t.qZA(),t.TgZ(9,"div",9),t.YNc(10,ot,0,0,"ng-template",10),t.qZA(),t.TgZ(11,"i",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleDismiss())}),t.qZA()(),t.TgZ(12,"div",12),t.YNc(13,it,0,0,"ng-template",10),t.qZA()(),t.TgZ(14,"div",13)(15,"div",14)(16,"ng-scrollbar",15)(17,"div",16),t.YNc(18,at,2,0,"div",17),t._UZ(19,"app-recipient-form-field",18),t.qZA(),t.YNc(20,lt,4,2,"div",19),t.qZA(),t.YNc(21,rt,5,3,"div",20),t.qZA()(),t._UZ(22,"div",21),t.TgZ(23,"div",22),t.YNc(24,st,6,4,"div",23),t.TgZ(25,"div",24)(26,"div"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",25),t._UZ(30,"img",26),t._uU(31),t.ALo(32,"number"),t.qZA()(),t.TgZ(33,"div",27)(34,"button",28),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleDismiss())}),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"button",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSendPoints())}),t.TgZ(38,"div",30),t._UZ(39,"i",31),t._uU(40),t.ALo(41,"translate"),t.qZA()()()()()}if(2&n){const e=t.oxw(),o=t.MAs(3);t.xp6(6),t.hij(" ",t.lcZ(7,17,"send-credits")," "),t.xp6(2),t.Q6J("ngIf",!e.giftSend),t.xp6(2),t.Q6J("ngTemplateOutlet",o),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(3),t.Q6J("autoHeightDisabled",!1),t.xp6(2),t.Q6J("ngIf",!e.giftSend),t.xp6(1),t.Q6J("recipient",e.recipients[0])("canRemove",!1)("readonly",e.giftSend),t.xp6(1),t.Q6J("ngForOf",e.recipients.slice(1)),t.xp6(1),t.Q6J("ngIf",!e.giftSend),t.xp6(3),t.Q6J("ngIf",!e.giftSend),t.xp6(3),t.hij(" ",t.lcZ(28,19,"total-to-send")," "),t.xp6(4),t.hij(" ",t.xi3(32,21,e.totalTransferAmount,"0.2-2")," "),t.xp6(4),t.hij(" ",t.lcZ(36,24,"go-back")," "),t.xp6(2),t.Q6J("disabled",e.isInvalidSendForm),t.xp6(3),t.hij(" ",t.lcZ(41,26,"send")," ")}}function dt(n,a){if(1&n&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"div",42)(3,"p"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",25),t._uU(7),t.ALo(8,"currency"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,2,"account-credits")),t.xp6(3),t.hij(" ",t.lcZ(8,4,e.walletInfo.point)," ")}}let P=(()=>{class n extends q.u{constructor(e){super(),this.walletService=e,this.giftSend=!1,this.giftAmount=0,this.walletInfo={},this.recipients=[{address:"",transferAmount:this.giftAmount}],this.getWalletInfo()}ngOnChanges(e){null!=e&&e.giftAmount&&(this.recipients=[{address:"",transferAmount:e.giftAmount.currentValue}])}get totalTransferAmount(){if(!this.recipients)return;let e=0;for(let o=0;o<this.recipients.length;o++)e+=parseFloat(this.recipients[o].transferAmount||"0");return e}get isInvalidSendForm(){for(let e=0;e<this.recipients.length;e++)if(""===this.recipients[e].address||0===this.recipients[e].transferAmount)return!0;return!1}getWalletInfo(){this.walletService.walletInfo().pipe().subscribe(e=>(0,x.mG)(this,void 0,void 0,function*(){if(0===e.code)return this.walletInfo=e.data,void console.log(e)}))}onResetValue(){this.recipients=[{address:"",transferAmount:0}]}onSendPoints(){setTimeout(()=>{const e=this.recipients.map(o=>({user:o.address,balance:o.transferAmount}));console.log(e),this.walletService.givePoint({type:2,userList:e}).pipe().subscribe(o=>(0,x.mG)(this,void 0,void 0,function*(){0===o.code&&(this.toast.toastSuccess("Sent successfully!"),this.isOpen=!1)}))},300)}onAddRecipient(){this.recipients.push({address:"",transferAmount:0})}onRemoveRecipient(e){this.recipients.splice(e+1,1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-send-credits-modal"]],inputs:{giftSend:"giftSend",giftAmount:"giftAmount"},standalone:!0,features:[t.qOj,t.TTD,t.jDz],decls:4,vars:3,consts:[[1,"theme-modal","settings-modal",3,"isOpen","backdropDismiss","keepContentsMounted","didDismiss","willDismiss"],["accountCreditsBox",""],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"flex","items-start","w-full"],[1,"text-text-strong","icon-arrow","text-2xl","sm:text-3xl","mr-1"],[1,"flex-1","text-text-strong","font-medium"],[1,"text-2xl","sm:text-3xl"],["class","p-0 mt-1 text-base sm:text-lg font-medium text-grey-1",4,"ngIf"],[1,"hidden","sm:block","mt-1","mr-4","md:mr-6"],[3,"ngTemplateOutlet"],[1,"icon-close","text-base","sm:text-xl","mr-1",3,"click"],[1,"flex","sm:hidden","justify-center","mt-2"],[1,"modal-content","flex","flex-col","flex-auto","items-center","justify-center","w-full","py-2"],[1,"flex","flex-col","gap-y-1","md:gap-y-0.5","w-full","sm:pl-8","sm:pr-4"],["scrollShadow","","backToTopBtn","",2,"max-height","360px",3,"autoHeightDisabled"],[1,"flex","items-end"],["class","mb-1.5 mr-2",4,"ngIf"],[1,"flex-1",3,"recipient","canRemove","readonly"],["class","flex items-end mt-2",4,"ngFor","ngForOf"],["class","animate-border sm:mr-8 flex items-center justify-center bg-main-blue-transparent rounded-md text-text-strong text-xl py-2 mt-4 select-none cursor-pointer",3,"click",4,"ngIf"],[1,"border-b-2","border-main-border","mb-4"],[1,"modal-footer","flex","flex-col","px-1","sm:px-3"],["class","flex justify-between text-lg sm:text-xl text-grey-1",4,"ngIf"],[1,"flex","justify-between","text-2xl","sm:text-3xl","uppercase","font-medium","text-text-strong","mb-2"],[1,"flex","items-center"],["src","assets/icon/wallet/ottopoints-green.png","alt","Otto Token",1,"h-6","sm:h-7","mr-1"],[1,"flex","justify-between"],["appRippleEffect","",1,"btn-medium","w-32","sm:w-44",3,"click"],["appRippleEffect","",1,"btn-blue","w-32","sm:w-44","rounded-lg","font-medium",3,"disabled","click"],[1,"flex","items-center","justify-center"],[1,"icon-arrow","text-2xl","mr-2"],[1,"p-0","mt-1","text-base","sm:text-lg","font-medium","text-grey-1"],[1,"mb-1.5","mr-2"],[1,"flex","items-end","mt-2"],[1,"flex-1",3,"recipient","handleRemove"],[1,"animate-border","sm:mr-8","flex","items-center","justify-center","bg-main-blue-transparent","rounded-md","text-text-strong","text-xl","py-2","mt-4","select-none","cursor-pointer",3,"click"],[1,"flex","items-center","justify-center","w-5","h-5","rounded-full","bg-main-blue","mr-1"],["name","add",1,"text-white"],[1,"flex","justify-between","text-lg","sm:text-xl","text-grey-1"],[1,"account-credits","relative","flex","items-center","justify-center","py-1","rounded-lg","text-text-strong","border-2","border-main-green","bg-pro-switch"],["src","assets/icon/wallet/ottopoints-green.png","alt","Otto",1,"absolute","left-3","h-11","mr-1"],[1,"flex","flex-col","items-center","justify-center"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return o.onResetValue()})("willDismiss",function(){return o.handleDismiss()}),t.YNc(1,ct,42,28,"ng-template"),t.qZA(),t.YNc(2,dt,9,6,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("isOpen",o.isOpen)("backdropDismiss",!1)("keepContentsMounted",!0)},dependencies:[c.ez,c.sg,c.O5,c.tP,c.JJ,c.H9,d.UX,d.u5,g.aw,g.X$,u.kb,u.KC,s.Pc,s.gu,s.ki,p.T,tt.E,et.B,Z.R,$],styles:["ion-modal[_ngcontent-%COMP%]{--width: 720px;--max-width: 720px;--height: auto}ion-modal[_ngcontent-%COMP%]   .account-credits[_ngcontent-%COMP%]{background:var(--bg-balance-box);width:260px}.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-content[_ngcontent-%COMP%]   .otto-card[_ngcontent-%COMP%]{width:380px;height:220px}.modal-content[_ngcontent-%COMP%]   .otto-action[_ngcontent-%COMP%]{width:380px}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;font-size:1.5rem;line-height:2rem}}.animate-border[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--main-blue) 50%,transparent 50%),linear-gradient(90deg,var(--main-blue) 50%,transparent 50%),linear-gradient(0deg,var(--main-blue) 50%,transparent 50%),linear-gradient(0deg,var(--main-blue) 50%,transparent 50%);background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;background-size:16px 2px,16px 2px,2px 16px,2px 16px;background-position:0px 0px,0 100%,0 0,100% 0px;padding:10px}.animate-border[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_border-dance .3s infinite linear}@keyframes _ngcontent-%COMP%_border-dance{to{background-position:16px 0,-16px 100%,0 -16px,100% 16px}}"]}),n})();var G=r(4260);function pt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.TgZ(4,"div",5)(5,"h2",6),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"p",7),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"ion-icon",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleDismiss())}),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"ion-label",12),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",13),t._UZ(19,"img",14),t.TgZ(20,"ion-input",15),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.giftCode=i)})("ionChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.handleGiftCodeChange(i))}),t.ALo(21,"translate"),t.qZA()()(),t.TgZ(22,"div",16)(23,"span",17),t._UZ(24,"ion-icon",18),t.qZA()(),t.TgZ(25,"div",11)(26,"ion-label",19),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",20),t._UZ(30,"img",21),t.TgZ(31,"ion-label",22),t._uU(32),t.ALo(33,"number"),t.qZA()()()()(),t.TgZ(34,"div",23)(35,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleDismiss())}),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleDismiss())}),t._uU(39),t.ALo(40,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,10,"redeem-gift-code")," "),t.xp6(3),t.hij(" ",t.lcZ(10,12,"redeem-gift-code-subtitle")," "),t.xp6(7),t.hij(" ",t.lcZ(17,14,"gift-code")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(21,16,"enter-gift-code")),t.Q6J("ngModel",e.giftCode),t.xp6(7),t.hij(" ",t.lcZ(28,18,"gift-value")," "),t.xp6(5),t.hij(" $",t.xi3(33,20,e.giftValue,"1.2-2")," "),t.xp6(4),t.hij(" ",t.lcZ(37,23,"go-back")," "),t.xp6(2),t.Q6J("disabled",""===e.giftCode),t.xp6(1),t.hij(" ",t.lcZ(40,25,"redeem-gift-code")," ")}}let L=(()=>{class n extends q.u{constructor(){super(...arguments),this.giftCode="",this.giftValue=0}ngOnInit(){}handleGiftCodeChange(e){e.detail.value&&(this.giftValue=10)}}return n.\u0275fac=function(){let a;return function(o){return(a||(a=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-giftcode-redeem-modal"]],standalone:!0,features:[t.qOj,t.jDz],decls:2,vars:1,consts:[[1,"theme-modal","settings-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"flex","items-start","w-full"],["src","assets/icon/wallet/gift-box.png","alt","Gift",1,"h-6","sm:h-8","mr-1"],[1,"flex-1","text-text-strong","font-medium"],[1,"text-2xl","sm:text-3xl"],[1,"p-0","mt-1","text-base","sm:text-lg","font-medium","text-grey-1"],["name","close-outline",1,"w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","flex","flex-col","flex-auto","items-center","w-full"],[1,"w-full","px-1","sm:px-3","md:w-4/5"],[1,"flex","flex-col"],[1,"text-xl","text-grey-1","font-medium","ml-1","mb-1"],[1,"rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-0.5"],["src","assets/icon/wallet/gift-box.png","alt","Gift",1,"h-8","mx-1"],[1,"text-text-strong","text-2xl",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"flex","justify-center","my-6"],[1,"flex","items-center","justify-center","w-8","h-8","mx-2","sm:mx-4","bg-grey-4","rounded-full"],["name","arrow-down-outline",1,"text-3xl","text-white"],[1,"text-xl","text-grey-1","font-medium","ml-1","mb-0.5"],[1,"rounded-md","border-border-input","border","flex","items-center","bg-grey-4","px-0.5","py-1.5","mb-8"],["src","assets/icon/wallet/ottopoints-green.png","alt","otto",1,"h-8","mx-1"],[1,"text-text-strong","text-2xl"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],["appRippleEffect","",1,"btn-medium","w-32","sm:w-44",3,"click"],["appRippleEffect","",1,"bg-main-yellow","px-3","text-black","font-medium",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return o.handleDismiss()}),t.YNc(1,pt,41,27,"ng-template"),t.qZA()),2&e&&t.Q6J("isOpen",o.isOpen)},dependencies:[c.ez,c.JJ,d.UX,d.JJ,d.u5,d.On,g.aw,g.X$,s.Pc,s.gu,s.pK,s.Q$,s.ki,s.j9,p.T,Z.R,_.Q],styles:["ion-modal[_ngcontent-%COMP%]{--height: auto}ion-modal[_ngcontent-%COMP%]   .gift-codes[_ngcontent-%COMP%]{background-color:var(--bg-balance-box)}ion-item.multiple-purchase-checkbox[_ngcontent-%COMP%]{--padding-start: 0px;--padding-top: 0px;--padding-bottom: 0px;--padding-end: 0px}ion-item.multiple-purchase-checkbox[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--background: var(--main-bg);--border-color: var(--main-border)}ion-item.multiple-purchase-checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--color: var(--grey-1)}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-font-weight: 500}.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}.modal-content[_ngcontent-%COMP%]{margin-bottom:.5rem}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;border-radius:.375rem;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;font-size:1.5rem;line-height:2rem}}"]}),n})();var I=r(7135),Q=r(7911),B=r(2635),N=r(6109),mt=r(4171);const gt=["mobileFilter"],_t=["desktopFilter"];function ft(n,a){1&n&&(t.TgZ(0,"div",26)(1,"div")(2,"p",27),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"no-balance-history")," "))}function ut(n,a){}function ht(n,a){}function xt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,ht,0,0,"ng-template",31),t.BQk()),2&n){t.oxw();const e=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function bt(n,a){}function Ct(n,a){}function yt(n,a){if(1&n&&(t.TgZ(0,"tr",38),t.YNc(1,bt,0,0,"ng-template",31),t.YNc(2,Ct,0,0,"ng-template",31),t.qZA()),2&n){t.oxw();const e=t.MAs(9),o=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}const S=function(n){return[n]};function wt(n,a){if(1&n&&(t.TgZ(0,"td",39),t.ALo(1,"translate"),t.TgZ(2,"div",40),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"td",41),t.ALo(6,"translate"),t.TgZ(7,"div",42)(8,"span",43),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"span",44),t._UZ(12,"img",45),t.qZA()()(),t.TgZ(13,"td",46),t.ALo(14,"translate"),t.TgZ(15,"span",47),t._uU(16),t.ALo(17,"date"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.uIk("data-label",t.lcZ(1,7,"type")),t.xp6(2),t.Q6J("ngClass",t.VKq(21,S,"spend"===e.type?"text-main-red":"text-green-1")),t.xp6(1),t.hij(" ",t.lcZ(4,9,e.type)," "),t.xp6(2),t.uIk("data-label",t.lcZ(6,11,"amount")),t.xp6(4),t.hij(" ",("deposit"===e.type?"+":"-")+t.xi3(10,13,e.amount,"1.2-2")," "),t.xp6(4),t.uIk("data-label",t.lcZ(14,16,"date-time")),t.xp6(3),t.hij(" ",t.xi3(17,18,e.gmtCreate,"MM/dd/y HH:mm")," ")}}const Ot=function(n){return{truncate:n}};function vt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",48),t.ALo(1,"translate"),t.TgZ(2,"div",49),t.NdJ("copied",function(i){t.CHM(e);const l=t.oxw(4);return t.KtG(l.onCopied(i))}),t.TgZ(3,"p",50),t._uU(4),t.qZA(),t._UZ(5,"app-copy",51)(6,"i",52),t.qZA()(),t.TgZ(7,"td",53),t.ALo(8,"translate"),t.TgZ(9,"div",54)(10,"p",55),t._uU(11),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.uIk("data-label",t.lcZ(1,7,"id")),t.xp6(2),t.Q6J("appCopying",e.id),t.xp6(2),t.Oqu(e.id),t.xp6(3),t.uIk("data-label",t.lcZ(8,9,"memo")),t.xp6(3),t.Q6J("ngClass",t.VKq(11,Ot,!e.TxID))("collapsable",!o.isMobile&&e.TxID),t.xp6(1),t.hij(" ",e.description," ")}}const Tt=function(n){return{"expanded-row":n}},Mt=function(n){return{"rotate-180":n}};function Zt(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",30),t.NdJ("click",function(){const l=t.CHM(e).index,y=t.oxw(3);return t.KtG(y.onClickTableRow(l))}),t.YNc(2,ut,0,0,"ng-template",31),t.TgZ(3,"td",32)(4,"div",33),t._UZ(5,"ion-icon",34),t.qZA()(),t.YNc(6,xt,2,1,"ng-container",29),t.qZA(),t.YNc(7,yt,3,2,"tr",35),t.YNc(8,wt,18,23,"ng-template",null,36,t.W1O),t.YNc(10,vt,12,13,"ng-template",null,37,t.W1O),t.BQk()}if(2&n){const e=a.index,o=t.MAs(9),i=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(5,Tt,i.expanded[e])),t.xp6(1),t.Q6J("ngTemplateOutlet",o),t.xp6(3),t.Q6J("ngClass",t.VKq(7,Mt,i.expanded[e])),t.xp6(1),t.Q6J("ngIf",!i.isMobile),t.xp6(1),t.Q6J("ngIf",i.expanded[e]&&i.isMobile)}}function Pt(n,a){1&n&&(t.ynx(0),t.TgZ(1,"td",58),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"no-more-balance-history")," "))}function At(n,a){1&n&&(t.TgZ(0,"td",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-more-balance-history")," "))}function kt(n,a){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,Pt,4,3,"ng-container",56),t.YNc(2,At,3,3,"ng-template",null,57,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.isMobile)("ngIfElse",e)}}function Jt(n,a){if(1&n&&(t.YNc(0,Zt,12,9,"ng-container",28),t.YNc(1,kt,4,2,"tr",29)),2&n){const e=t.oxw().rows,o=t.oxw();t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",o.isLastPage)}}function Ht(n,a){if(1&n&&(t.TgZ(0,"table",14)(1,"thead")(2,"tr",15)(3,"th",16)(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"th",17)(8,"div",18),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"th",19)(12,"div"),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"th",20)(16,"div"),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"th",21)(20,"div"),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t._UZ(23,"th",22),t.qZA()(),t.TgZ(24,"tbody",23),t.YNc(25,ft,5,3,"div",24),t.YNc(26,Jt,2,2,"ng-template",null,25,t.W1O),t.qZA()()),2&n){const e=a.total,o=a.isInitialized,i=t.MAs(27);t.xp6(5),t.hij(" ",t.lcZ(6,7,"type")," "),t.xp6(4),t.hij(" ",t.lcZ(10,9,"amount")," "),t.xp6(4),t.hij(" ",t.lcZ(14,11,"date-time")," "),t.xp6(4),t.hij(" ",t.lcZ(18,13,"id")," "),t.xp6(4),t.hij(" ",t.lcZ(22,15,"memo")," "),t.xp6(4),t.Q6J("ngIf",o&&!e)("ngIfElse",i)}}const W=function(){return{alignment:"start"}};let jt=(()=>{class n extends v.H{constructor(e,o){super(),this.platform=e,this.i18n=o,this.balanceHistories=[],this.isLastPage=!1,this.expanded=[],this.filterType=null,this.filterText="",this.fetchFn=({page:i,pageSize:l})=>(0,x.mG)(this,void 0,void 0,function*(){let f=this.balanceHistories;console.log("balanceHistories",f),this.filterType&&(f=this.balanceHistories.filter(k=>k.type===this.filterType));const A=f.slice(l*i,l*i+10);return this.isLastPage=Math.floor(f.length/l)===i,{rows:A,total:f.length}}),this.isMobile=window.innerWidth<768}onResize(){this.isMobile=window.innerWidth<768}ngOnInit(){}ngOnChanges(e){e.balanceHistories&&setTimeout(()=>{this.fetchFn({page:0,pageSize:100,endTime:""}),this.historyTable.fetchData(0)},500)}onClickTableRow(e){this.isMobile&&(this.expanded[e]=!this.expanded[e])}onCopied(e){this.toast.toastSuccess(this.i18n.instant("copied"))}onChangeType(e){this.filterType=e.target.value,this.historyTable.handlePageClick(1)}clearSearch(){this.filterText=""}onMobileSelectHover(e){this.filterMobileSelect.open(e)}onDesktopSelectHover(e){this.filterDesktopSelect.open(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.t4),t.Y36(g.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-balance-history-tab"]],viewQuery:function(e,o){if(1&e&&(t.Gf(b.K,5),t.Gf(gt,5),t.Gf(_t,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.historyTable=i.first),t.iGM(i=t.CRH())&&(o.filterMobileSelect=i.first),t.iGM(i=t.CRH())&&(o.filterDesktopSelect=i.first)}},hostBindings:function(e,o){1&e&&t.NdJ("resize",function(){return o.onResize()},!1,t.Jf7)},inputs:{balanceHistories:"balanceHistories"},features:[t.qOj,t.TTD],decls:34,vars:39,consts:[[1,"flex","flex-col","flex-1","text-left",3,"fetchFn","pageSize"],["slot","title",1,"flex","items-center","justify-between","px-2","py-5","sm:py-2","w-full"],[1,"balance-history-title","text-2xl","text-text-strong","font-medium","whitespace-nowrap"],["slot","mobileFilter",1,"select-wrapper"],["mode","md","interface","popover",1,"flex","sm:hidden","balance-history-select","text-text-strong","border","border-border-input","rounded-md",3,"value","interfaceOptions","ionChange"],["mobileFilter",""],[3,"value"],[1,"balance-history-search","relative","flex","h-9","items-center","rounded-full","px-1","bg-bg-input","border","border-border-input","text-base","ml-2"],["placeholder","Search...",3,"ngModel","ngModelChange"],["name","close-circle",1,"text-xl",3,"ngClass","click"],["name","search-outline",1,"text-grey-2","mx-1","text-xl"],["slot","desktopFilter",1,"select-wrapper"],["interface","popover",1,"hidden","sm:flex","balance-history-select","text-text-strong","border","border-border-input","rounded-md","bg-transparent","py-1.5","outline-none",3,"interfaceOptions","value","ionChange"],["desktopFilter",""],[1,"table-auto","text-[15px]"],[1,"text-base","text-grey-1"],["scope","col",1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","pl-2","md:pl-4","pr-5","font-medium","w-20"],["scope","col",1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","text-right","py-2","sm:py-1","pr-2","2xs:pr-5","font-medium","xs:w-32","sm:w-36"],[1,"mr-6"],["scope","col",1,"fold-hidden","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-right","md:text-left","py-2","sm:py-1","font-medium","w-auto","sm:w-36"],["scope","col",1,"pad-hidden","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","font-medium","lg:w-48"],["scope","col",1,"pad-hidden","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","font-medium"],[1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","w-8","md:hidden"],[1,"text-grey-2","font-medium"],["class","overlay-container flex items-center justify-center",4,"ngIf","ngIfElse"],["dataTable",""],[1,"overlay-container","flex","items-center","justify-center"],[1,"font-medium","text-sm","opacity-30"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"cursor-pointer","sm:cursor-default","mx-1","sm:mx-2",3,"ngClass","click"],[3,"ngTemplateOutlet"],[1,"md:hidden"],[1,"flex","justify-center","w-full"],["name","chevron-down-outline",1,"transition-transform","text-xl",3,"ngClass"],["class","data-container md:hidden bg-grey-4",4,"ngIf"],["showCells",""],["hiddenCells",""],[1,"data-container","md:hidden","bg-grey-4"],["scope","row",1,"wallet-table-cell","pl-2","md:pl-4","align-bottom","md:align-middle"],[1,"align-bottom","md:flex","whitespace-nowrap",3,"ngClass"],[1,"wallet-table-cell","amount-cell"],[1,"flex","items-center","justify-end","text-text-strong"],[1,"truncate"],[1,"w-5","h-5","ml-1"],["src","assets/icon/crypto/usdt.svg","alt","USDT",1,"h-5"],[1,"fold-hidden","wallet-table-cell","text-right","md:text-left","whitespace-nowrap","truncate"],[1,"text-text-strong"],[1,"wallet-table-cell","md:pr-5"],[1,"copy-cell","flex","items-center","cursor-pointer",3,"appCopying","copied"],[1,"history-id","truncate"],[1,"w-4","min-w-[16px]","ml-1"],[1,"icon-checkmark","ml-[5px]"],[1,"wallet-table-cell","memo-cell","md:pr-2"],[1,"relative","flex","items-start","justify-end","md:justify-start"],["appTruncateExpand","",1,"break-all",3,"ngClass","collapsable"],[4,"ngIf","ngIfElse"],["desktopTempalte",""],["colspan","3",1,"text-center","py-8"],["colspan","5",1,"text-center","py-8"]],template:function(e,o){1&e&&(t.TgZ(0,"app-base-table",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3)(6,"ion-select",4,5),t.NdJ("ionChange",function(l){return o.onChangeType(l)}),t.TgZ(8,"ion-select-option",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"ion-select-option",6),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"ion-select-option",6),t._uU(15),t.ALo(16,"translate"),t.qZA()()(),t.TgZ(17,"div",7)(18,"ion-input",8),t.NdJ("ngModelChange",function(l){return o.filterText=l}),t.qZA(),t.TgZ(19,"ion-icon",9),t.NdJ("click",function(){return o.clearSearch()}),t.qZA(),t._UZ(20,"ion-icon",10),t.qZA()(),t.TgZ(21,"div",11)(22,"ion-select",12,13),t.NdJ("ionChange",function(l){return o.onChangeType(l)}),t.TgZ(24,"ion-select-option",6),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"ion-select-option",6),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"ion-select-option",6),t._uU(31),t.ALo(32,"translate"),t.qZA()()(),t.YNc(33,Ht,28,17,"ng-template"),t.qZA()),2&e&&(t.Q6J("fetchFn",o.fetchFn)("pageSize",10),t.xp6(3),t.hij(" ",t.lcZ(4,21,"balance-history")," "),t.xp6(3),t.Q6J("value",o.filterType)("interfaceOptions",t.DdM(35,W)),t.xp6(2),t.Q6J("value",null),t.xp6(1),t.hij(" ",t.lcZ(10,23,"select-all")," "),t.xp6(2),t.Q6J("value","spend"),t.xp6(1),t.hij(" ",t.lcZ(13,25,"spend")," "),t.xp6(2),t.Q6J("value","deposit"),t.xp6(1),t.hij(" ",t.lcZ(16,27,"deposit")," "),t.xp6(3),t.Q6J("ngModel",o.filterText),t.xp6(1),t.Q6J("ngClass",t.VKq(36,S,""===o.filterText?"hidden":"flex")),t.xp6(3),t.Q6J("interfaceOptions",t.DdM(38,W))("value",o.filterType),t.xp6(2),t.Q6J("value",null),t.xp6(1),t.hij(" ",t.lcZ(26,29,"select-all")," "),t.xp6(2),t.Q6J("value","spend"),t.xp6(1),t.hij(" ",t.lcZ(29,31,"spend")," "),t.xp6(2),t.Q6J("value","deposit"),t.xp6(1),t.hij(" ",t.lcZ(32,33,"deposit")," "))},dependencies:[c.mk,c.sg,c.O5,c.tP,d.JJ,d.On,s.gu,s.pK,s.t9,s.n0,s.QI,s.j9,B.T,N.p,mt.F,b.K,c.JJ,c.uU,g.X$],styles:["table[_ngcontent-%COMP%]{border-collapse:separate!important}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--bg-table)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child)   td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:1px;border-color:var(--main-border)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:.5rem}@media (min-width: 375px){tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1.25rem}}tbody[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:flex-end}h2.balance-history-title[_ngcontent-%COMP%]{display:none}@media (min-width: 520px){h2.balance-history-title[_ngcontent-%COMP%]{display:flex}}.copied[_ngcontent-%COMP%]{color:var(--accent-blue)!important}.wallet-table-cell[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}@media (min-width: 640px){.wallet-table-cell[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}}.wallet-table-cell.memo-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:240px}@media (min-width: 768px){.wallet-table-cell.memo-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:initial}}.wallet-table-cell[_ngcontent-%COMP%]   .history-id[_ngcontent-%COMP%]{width:100%}@media (min-width: 768px){.wallet-table-cell[_ngcontent-%COMP%]   .history-id[_ngcontent-%COMP%]{width:initial}}table[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]{width:100vw}table[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:0}@media (min-width: 640px){table[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]{width:calc(100vw - 40px)}}ion-select.balance-history-select[_ngcontent-%COMP%]{--color: var(--text-strong);--placeholder-color: var(--input-placeholder);--placeholder-opacity: 1;--padding-top: 6px;--padding-bottom: 6px;min-width:100px}.balance-history-search[_ngcontent-%COMP%]{max-width:180px}@media (min-width: 640px){.balance-history-search[_ngcontent-%COMP%]{max-width:auto;min-width:240px}}@media (min-width: 1024px){.balance-history-search[_ngcontent-%COMP%]{min-width:350px}}.balance-history-search[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--placeholder-opacity: 1;--placeholder-color: var(--input-placeholder);--padding-start: 6px;--color: var(--text-strong)}  .tab-body{min-height:calc(100vh - 326px)!important}@media (min-width: 375px){  .tab-body{min-height:calc(100vh - 258px)!important}}@media (min-width: 640px){  .tab-body{min-height:calc(100vh - 507px)!important}}  .ng-scroll-viewport{width:100%}"]}),n})(),Ut=(()=>{class n{transform(e,o,i){return e.length<o+i?e:e.slice(0,o)+"..."+e.slice(-i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"truncate",type:n,pure:!0}),n})();function Dt(n,a){1&n&&(t.TgZ(0,"div",18)(1,"div")(2,"p",19),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"no-gift-history")," "))}function Rt(n,a){}function qt(n,a){}function Gt(n,a){if(1&n&&(t.TgZ(0,"tr",29),t.YNc(1,qt,0,0,"ng-template",23),t.qZA()),2&n){t.oxw();const e=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Lt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"button",45),t.NdJ("copied",function(i){t.CHM(e);const l=t.oxw(5);return t.KtG(l.onCopied(i))}),t._UZ(2,"app-copy",46),t.TgZ(3,"span",47),t._uU(4),t.ALo(5,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("appCopying",e.giftCode),t.xp6(3),t.hij(" ",t.lcZ(5,2,"copy")," ")}}const It=function(n){return{"text-main-yellow":n}};function Qt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",30),t.ALo(1,"translate"),t.TgZ(2,"span",31),t._uU(3),t.ALo(4,"date"),t.qZA()(),t.TgZ(5,"td",32),t.ALo(6,"translate"),t.TgZ(7,"div",33),t._uU(8),t.ALo(9,"currency"),t.qZA()(),t.TgZ(10,"td",34),t.ALo(11,"translate"),t.TgZ(12,"div",35),t.NdJ("copied",function(i){t.CHM(e);const l=t.oxw(4);return t.KtG(l.onCopied(i))}),t.TgZ(13,"span",36),t._uU(14),t.ALo(15,"truncate"),t.qZA(),t.TgZ(16,"span",37),t._uU(17),t.qZA(),t._UZ(18,"app-copy",38)(19,"i",39),t.qZA()(),t.TgZ(20,"td",40),t.ALo(21,"translate"),t.TgZ(22,"span",41),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"td",42),t.YNc(26,Lt,6,4,"div",43),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.uIk("data-label",t.lcZ(1,12,"date-created")),t.xp6(3),t.hij(" ",t.xi3(4,14,e.dateCreated,"MM/dd/y")," "),t.xp6(2),t.uIk("data-label",t.lcZ(6,17,"amount")),t.xp6(3),t.hij(" ",t.lcZ(9,19,e.giftAmount)," "),t.xp6(2),t.uIk("data-label",t.lcZ(11,21,"gift-code")),t.xp6(2),t.Q6J("appCopying",e.giftCode),t.xp6(2),t.hij(" ",t.Dn7(15,23,e.giftCode,4,5)," "),t.xp6(3),t.hij(" ",e.giftCode," "),t.xp6(3),t.uIk("data-label",t.lcZ(21,27,"status")),t.xp6(2),t.Q6J("ngClass",t.VKq(31,It,"Unused"===e.status)),t.xp6(1),t.hij(" ",t.lcZ(24,29,"Unused"===e.status?"unused":"redeemed")," "),t.xp6(3),t.Q6J("ngIf","Unused"===e.status)}}const Bt=function(n){return{"expanded-row":n}},Nt=function(n){return{"rotate-180":n}};function St(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",22),t.NdJ("click",function(){const l=t.CHM(e).index,y=t.oxw(3);return t.KtG(y.onClickTableRow(l))}),t.YNc(2,Rt,0,0,"ng-template",23),t.TgZ(3,"td",24)(4,"div",25),t._UZ(5,"ion-icon",26),t.qZA()()(),t.YNc(6,Gt,2,1,"tr",27),t.YNc(7,Qt,27,33,"ng-template",null,28,t.W1O),t.BQk()}if(2&n){const e=a.index,o=t.MAs(8),i=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(4,Bt,i.expanded[e])),t.xp6(1),t.Q6J("ngTemplateOutlet",o),t.xp6(3),t.Q6J("ngClass",t.VKq(6,Nt,i.expanded[e])),t.xp6(1),t.Q6J("ngIf",i.expanded[e]&&i.isPad)}}function Wt(n,a){1&n&&(t.ynx(0),t.TgZ(1,"td",50),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td",51),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"no-more-gift-history")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"no-more-gift-history")," "))}function Ft(n,a){1&n&&(t.TgZ(0,"td",52),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no-more-gift-history")," "))}function Et(n,a){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,Wt,7,6,"ng-container",48),t.YNc(2,Ft,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.isMobile)("ngIfElse",e)}}function Kt(n,a){if(1&n&&(t.YNc(0,St,9,8,"ng-container",20),t.YNc(1,Et,4,2,"tr",21)),2&n){const e=t.oxw().rows,o=t.oxw();t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",o.isLastPage)}}function Yt(n,a){if(1&n&&(t.TgZ(0,"table",7)(1,"thead")(2,"tr",8)(3,"th",9)(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"th",10)(8,"div"),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"th",11)(12,"div"),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"th",12)(16,"div"),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t._UZ(19,"th",13)(20,"th",14),t.qZA()(),t.TgZ(21,"tbody",15),t.YNc(22,Dt,5,3,"div",16),t.YNc(23,Kt,2,2,"ng-template",null,17,t.W1O),t.qZA()()),2&n){const e=a.total,o=a.isInitialized,i=t.MAs(24);t.xp6(5),t.hij(" ",t.lcZ(6,6,"date-created")," "),t.xp6(4),t.hij(" ",t.lcZ(10,8,"amount")," "),t.xp6(4),t.hij(" ",t.lcZ(14,10,"gift-code")," "),t.xp6(4),t.hij(" ",t.lcZ(18,12,"status")," "),t.xp6(5),t.Q6J("ngIf",o&&!e)("ngIfElse",i)}}let zt=(()=>{class n extends v.H{constructor(e,o){super(),this.platform=e,this.i18n=o,this.giftCodeHistories=[],this.isLastPage=!1,this.isOpenGiftSendModal=!1,this.giftAmount=0,this.expanded=[],this.showOnlyUnused=!1,this.fetchFn=({page:i,pageSize:l})=>(0,x.mG)(this,void 0,void 0,function*(){let f;f=this.showOnlyUnused?this.giftCodeHistories.filter(k=>k.status===m.gl.Unused):this.giftCodeHistories;const A=f.slice(l*i,l*i+10);return this.isLastPage=Math.floor(f.length/l)===i,{rows:A,total:f.length}}),this.isPad=window.innerWidth<768,this.isMobile=window.innerWidth<480}onResize(){this.isPad=window.innerWidth<768,this.isMobile=window.innerWidth<480}ngOnInit(){}onClickTableRow(e){this.isPad&&(this.expanded[e]=!this.expanded[e])}onChangeShowUnused(){this.historyTable.handlePageClick(1)}onClickSendAmount(e){this.giftAmount=e,this.isOpenGiftSendModal=!0}onCopied(e){this.toast.toastSuccess(this.i18n.instant("copied"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.t4),t.Y36(g.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gift-codes-tab"]],viewQuery:function(e,o){if(1&e&&t.Gf(b.K,5),2&e){let i;t.iGM(i=t.CRH())&&(o.historyTable=i.first)}},hostBindings:function(e,o){1&e&&t.NdJ("resize",function(){return o.onResize()},!1,t.Jf7)},inputs:{giftCodeHistories:"giftCodeHistories"},features:[t.qOj],decls:12,vars:13,consts:[[1,"flex","flex-col","flex-1","text-left",3,"fetchFn","pageSize","customTablePaginationClass"],["slot","title",1,"flex","items-center","justify-between","sm:justify-start","min-h-[54px]"],[1,"gift-history-title","text-2xl","text-text-strong","font-medium","m-2","whitespace-nowrap"],["lines","none",1,"show-strategy-exchange","flex","items-center","text-sm"],["slot","start","mode","md",1,"m-0","mr-1.5",3,"ngModel","ngModelChange","ionChange"],[1,"align-middle","m-0"],[3,"isOpen","giftAmount","giftSend","isOpenChange"],[1,"table-auto","text-[15px]"],[1,"text-base","text-grey-1"],["scope","col",1,"hidden","2xs:table-cell","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","pl-2","md:pl-4","font-medium","w-28","sm:w-36","xl:w-40"],["scope","col",1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","pl-2","font-medium","2xs:w-20","sm:w-24"],["scope","col",1,"mobile-hidden","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-right","2xs:text-left","py-2","sm:py-1","font-medium","sm:w-42","2xl:w-60"],["scope","col",1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","text-right","md:text-left","pr-2","xs:pr-0","py-2","sm:py-1","font-medium","sm:w-32","xl:w-48","2xl:w-auto"],["scope","col",1,"pad-hidden","sticky","top-0","border-y","border-main-border","border-separate","z-10","text-left","py-2","sm:py-1","font-medium"],[1,"sticky","top-0","border-y","border-main-border","border-separate","z-10","w-8","md:hidden"],[1,"text-grey-2","font-medium"],["class","overlay-container flex items-center justify-center",4,"ngIf","ngIfElse"],["dataTable",""],[1,"overlay-container","flex","items-center","justify-center"],[1,"font-medium","text-sm","opacity-30"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"cursor-pointer","sm:cursor-default","mx-1","sm:mx-2",3,"ngClass","click"],[3,"ngTemplateOutlet"],[1,"md:hidden"],[1,"flex","justify-center","w-full"],["name","chevron-down-outline",1,"transition-transform","text-xl",3,"ngClass"],["class","data-container md:hidden bg-grey-4",4,"ngIf"],["cells",""],[1,"data-container","md:hidden","bg-grey-4"],["scope","row",1,"hidden","2xs:table-cell","wallet-table-cell","pl-2","md:pl-4","align-bottom"],[1,"text-text-strong"],[1,"wallet-table-cell","pl-2","amount-cell","truncate"],[1,"flex","items-center","text-text-strong"],[1,"mobile-hidden","wallet-table-cell","text-right","md:text-left","whitespace-nowrap"],[1,"copy-cell","flex","items-center","justify-end","2xs:justify-start","text-text-strong",3,"appCopying","copied"],[1,"data-collapsed"],[1,"data-expanded"],[1,"w-4","min-w-[16px]","ml-1"],[1,"icon-checkmark","ml-[5px]"],[1,"wallet-table-cell","text-right","md:text-left","pr-2","xs:pr-0","md:pr-2"],[3,"ngClass"],[1,"pad-hidden","wallet-table-cell"],["class","flex justify-end sm:justify-center gap-2",4,"ngIf"],[1,"flex","justify-end","sm:justify-center","gap-2"],[1,"relative","copy-button","flex","items-center","justify-center","bg-main-yellow","rounded-md","text-black","py-0.5",3,"appCopying","copied"],[1,"absolute","left-0.5","w-4","min-w-[16px]","ml-1"],[1,"font-medium","ml-2.5"],[4,"ngIf","ngIfElse"],["desktopTempalte",""],["colspan","4",1,"hidden","2xs:table-cell","text-center","py-8"],["colspan","3",1,"table-cell","2xs:hidden","text-center","py-8"],["colspan","5",1,"text-center","py-8"]],template:function(e,o){1&e&&(t.TgZ(0,"app-base-table",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ion-item",3)(6,"ion-checkbox",4),t.NdJ("ngModelChange",function(l){return o.showOnlyUnused=l})("ionChange",function(){return o.onChangeShowUnused()}),t.qZA(),t.TgZ(7,"ion-label",5),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.YNc(10,Yt,25,14,"ng-template"),t.qZA(),t.TgZ(11,"app-send-credits-modal",6),t.NdJ("isOpenChange",function(l){return o.isOpenGiftSendModal=l}),t.qZA()),2&e&&(t.Q6J("fetchFn",o.fetchFn)("pageSize",10)("customTablePaginationClass","2xs:!w-fit self-center 2xs:!pb-0"),t.xp6(3),t.hij(" ",t.lcZ(4,9,"gift-history")," "),t.xp6(3),t.Q6J("ngModel",o.showOnlyUnused),t.xp6(2),t.hij(" ",t.lcZ(9,11,"show-unused-only")," "),t.xp6(3),t.Q6J("isOpen",o.isOpenGiftSendModal)("giftAmount",o.giftAmount)("giftSend",!0))},dependencies:[c.mk,c.sg,c.O5,c.tP,d.JJ,d.On,s.nz,s.gu,s.Ie,s.Q$,s.w,B.T,N.p,b.K,P,c.H9,c.uU,g.X$,Ut],styles:["table[_ngcontent-%COMP%]{border-collapse:separate!important}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--bg-table)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child)   td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:1px;border-color:var(--main-border)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1.25rem}tbody[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   td.amount-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:flex-end}.gift-history-title[_ngcontent-%COMP%]{display:none}@media (min-width: 480px){.gift-history-title[_ngcontent-%COMP%]{display:flex}.show-strategy-exchange[_ngcontent-%COMP%]{margin-left:32px}}@media (min-width: 640px){.show-strategy-exchange[_ngcontent-%COMP%]{margin-left:80px}}.copied[_ngcontent-%COMP%]:not(button){color:var(--accent-blue)!important}button.copied[_ngcontent-%COMP%]{color:#fff!important}.wallet-table-cell[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}@media (min-width: 640px){.wallet-table-cell[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}}@media (min-width: 768px){.wallet-table-cell.memo-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}.wallet-table-cell.memo-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:240px}@media (min-width: 768px){.wallet-table-cell.memo-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:initial}}.wallet-table-cell[_ngcontent-%COMP%]   .history-id[_ngcontent-%COMP%]{width:100%}@media (min-width: 768px){.wallet-table-cell[_ngcontent-%COMP%]   .history-id[_ngcontent-%COMP%]{width:initial}}table[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]{width:100vw}table[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:0}@media (min-width: 640px){table[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]{width:calc(100vw - 40px)}}table[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   .data-collapsed[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]   tr.data-container[_ngcontent-%COMP%]   .data-expanded[_ngcontent-%COMP%]{display:block;margin-left:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   .data-collapsed[_ngcontent-%COMP%]{display:block}@media (min-width: 640px){table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   .data-collapsed[_ngcontent-%COMP%]{display:none}}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   .data-expanded[_ngcontent-%COMP%]{display:none}@media (min-width: 640px){table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.data-container)   .data-expanded[_ngcontent-%COMP%]{display:block}}  .table-contaboiner{min-height:calc(100vh - 326px)!important}@media (min-width: 375px){  .table-contaboiner{min-height:calc(100vh - 258px)!important}}@media (min-width: 640px){  .table-contaboiner{min-height:calc(100vh - 507px)!important}}  .ng-scroll-viewport{width:100%}.copy-button[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]{min-width:100px;width:100px}ion-item[_ngcontent-%COMP%]{--color: var(--grey-1);--background: transparent}ion-item[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--border-color: var(--grey-2)}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{line-height:19px}"]}),n})();const Vt=["TabBar"],Xt=["tabPopover"],$t=["swiper"];function te(n,a){if(1&n&&(t.TgZ(0,"span",32),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.unusedGiftCodes," ")}}const ee=function(n){return{end:n}};function ne(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onPresentTabPopper(i))}),t._UZ(1,"i",34),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,ee,e.isTabBarEnd))}}const T=function(n){return{"!bg-main-blue":n}};function oe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onOpenTab(1))}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onOpenTab(2))}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onOpenTab(3))}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onOpenTab(4))}),t._uU(11),t.ALo(12,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(16,T,1===e.openTab)),t.xp6(1),t.hij(" ",t.lcZ(3,8,"balance-history")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(18,T,2===e.openTab)),t.xp6(1),t.hij(" ",t.lcZ(6,10,"rewards-points")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(20,T,3===e.openTab)),t.xp6(1),t.hij(" ",t.lcZ(9,12,"gift-codes")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(22,T,4===e.openTab)),t.xp6(1),t.hij(" ",t.lcZ(12,14,"otto-options")," ")}}function ie(n,a){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"app-balance-history-tab",40),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("balanceHistories",e.balanceHistoryDummyData)}}function ae(n,a){if(1&n&&t.YNc(0,ie,2,1,"div",38),2&n){const e=t.oxw();t.Q6J("ngIf",e.showLoading)}}function le(n,a){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"app-rewards-points-tab",41),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ottoHistories",e.ottoHistories)}}function re(n,a){if(1&n&&t.YNc(0,le,2,1,"div",38),2&n){const e=t.oxw();t.Q6J("ngIf",e.showRewardPoint)}}function se(n,a){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"app-gift-codes-tab",42),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("giftCodeHistories",e.giftCodeHistoryDummyData)}}function ce(n,a){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"app-otto-options-tab",41),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ottoHistories",e.optionHistoryDummyData)}}function de(n,a){if(1&n&&t.YNc(0,ce,2,1,"div",38),2&n){const e=t.oxw();t.Q6J("ngIf",e.showOptions)}}const M=function(n){return{active:n}},pe=[{path:"",component:(()=>{class n extends v.H{constructor(e,o){super(),this.activatedRoute=e,this.walletService=o,this.openTab=1,this.isOpenTabHandler=!1,this.accountCredits=35.23,this.rewardsPoints=1200,this.ottoOptions=0,this.giftCodesCount=3,this.isOpenDepositModal=!1,this.isOpenRewardsPointsModal=!1,this.isOpenGiftCodePurchaseModal=!1,this.isOpenOttoOptionsModal=!1,this.isOpenConvertPointsModal=!1,this.convertOption=m.nC.Credits,this.isOpenSendModal=!1,this.isOpenGiftCodeRedeemModal=!1,this.balanceHistoryDummyData=[],this.optionHistoryDummyData=[],this.giftCodeHistoryDummyData=[],this.ottoHistories=[],this.walletInfo={},this.showLoading=!1,this.showRewardPoint=!1,this.showOptions=!1,this.amount=0,this.refresh=!1,this.slideOption={slidesPerView:"auto",allowTouchMove:!1,loop:!1},this.giftCodeHistoryDummyData=this.generateDummyData(K,15)}ngOnInit(){this.getBalanceLog(),this.getPointLog(),this.getWalletInfo(),this.getOttoOptionsLog(),this.activatedRoute.queryParams.pipe((0,E.R)(this.onDestroy$)).subscribe(e=>{"gift-modal"===e.open&&(this.isOpenGiftCodePurchaseModal=!0)})}get isTabBarOverflowed(){var e;return!(null===(e=this.tabBar)||void 0===e||!e.nativeElement)&&this.tabBar.nativeElement.offsetWidth<this.tabBar.nativeElement.scrollWidth}get isTabBarEnd(){var e;if(null===(e=this.tabBar)||void 0===e||!e.nativeElement)return!1;const o=this.tabBar.nativeElement;return o.scrollLeft+o.offsetWidth>o.scrollWidth-5}get unusedGiftCodes(){return this.giftCodeHistoryDummyData.filter(e=>e.status===m.gl.Unused).length}getOttoOptionsLog(){this.walletService.ottoOptionsLog(0,1e3).pipe().subscribe(e=>(0,x.mG)(this,void 0,void 0,function*(){if(0===e.code)return this.optionHistoryDummyData=e.data.rows.map(o=>Object.assign(Object.assign({},o),{dateTime:o.gmtCreate,ID:o.id,memo:o.description,ottoAmount:o.amount,type:m.OO.Convert})),console.log(this.optionHistoryDummyData),void(this.showOptions=!0)}))}getBalanceLog(){this.walletService.balanceLog(0,1e3).pipe().subscribe(e=>(0,x.mG)(this,void 0,void 0,function*(){if(0===e.code)return this.balanceHistoryDummyData=e.data.rows.map(o=>Object.assign(Object.assign({},o),{type:0===o.type?m.Zs.Deposit:m.Zs.Spend})),console.log(this.balanceHistoryDummyData),void(this.showLoading=!0)}))}getPointLog(){this.walletService.pointLog(0,1e3).pipe().subscribe(e=>(0,x.mG)(this,void 0,void 0,function*(){if(0===e.code)return console.log(this.ottoHistories),this.ottoHistories=e.data.rows.map(o=>Object.assign(Object.assign({},o),{type:0===o.type?m.XC.Receive:1===o.type?m.XC.Swap:m.XC.Reward})),void(this.showRewardPoint=!0)}))}getWalletInfo(){this.walletService.walletInfo().pipe().subscribe(e=>(0,x.mG)(this,void 0,void 0,function*(){if(0===e.code)return this.walletInfo=e.data,void console.log(e)}))}onDeposit(){this.isOpenDepositModal=!1,setTimeout(()=>{this.router.navigateByUrl("/confirm-order")},1e3)}onViewDepositHistory(){this.isOpenDepositModal=!1,this.onOpenTab(1)}onClickAccountCredits(){this.isOpenDepositModal=!0}onClickRewardsPoints(){this.isOpenRewardsPointsModal=!0}onClickGiftCodes(){this.isOpenGiftCodePurchaseModal=!0}onClickOttoOptions(){this.isOpenOttoOptionsModal=!0}onOpenConvertModal(e){this.convertOption=e,this.isOpenConvertPointsModal=!0}onPresentTabPopper(e){this.popover.event=e,this.isOpenTabHandler=!0}onOpenRewardsPointsModal(){this.isOpenRewardsPointsModal?this.isOpenOttoOptionsModal=!1:this.isOpenRewardsPointsModal=!0}onOpenOttoOptionsModal(){this.isOpenOttoOptionsModal?this.isOpenRewardsPointsModal=!1:this.isOpenOttoOptionsModal=!0}onOpenTab(e){this.swiper.swiperRef.slideTo(e-1),this.openTab=e,this.isOpenTabHandler=!1}generateDummyData(e,o){const i=new Array(o);for(let l=0;l<i.length;l++)i[l]=e[Math.floor(Math.random()*e.length)];return i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.gz),t.Y36(H.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-my-wallet"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Vt,5),t.Gf(Xt,5),t.Gf($t,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.tabBar=i.first),t.iGM(i=t.CRH())&&(o.popover=i.first),t.iGM(i=t.CRH())&&(o.swiper=i.first)}},features:[t.qOj],decls:54,vars:49,consts:[[1,"flex","flex-col","w-full","sm:px-5","pt-4","sm:pb-4"],[1,"flex","items-start","justify-between","w-full"],[1,"flex","items-center"],[1,"block","sm:hidden","mr-1","cursor-pointer","w-8","h-8",3,"routerLink"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"text-2xl","text-text-strong","font-medium"],[1,"px-2","sm:px-0","mt-4","sm:mt-5",3,"accountCredits","rewardsPoints","giftCodesCount","ottoOptions","handleOnClickAccountCredits","handleOnClickRewardsPoints","handleOnClickGiftCodes","handleOnClickOttoOptions"],[1,"flex","flex-col","mt-4","sm:mt-9","w-full","flex-1"],[1,"max-w-full"],[1,"flex","overflow-hidden"],[1,"tab-bar","flex","flex-auto","justify-between","whitespace-nowrap","overflow-x-auto","overflow-y-hidden"],["TabBar",""],[1,"flex","sm:gap-x-1.5"],[1,"wallet-tab","min-w-fit","flex","items-center","px-2","sm:px-2","md:px-3","py-2.5","sm:py-1.5","text-text-strong","font-medium","cursor-pointer","sm:rounded-t-xl","border-b","sm:border-b-0","border-t","border-r","sm:border-l","border-grey-1","sm:border-transparent","text-center","sm:text-left","text-lg","sm:text-base","xl:text-lg","whitespace-nowrap","select-none",3,"ngClass","click"],["src","assets/icon/wallet/ottopoints-green.png","alt","Otto",1,"mr-2","sm:mr-1","xl:mr-2","h-7","sm:h-6","2xl:h-6","xl:h-7","3xl:h-7","sm:hidden","md:block"],["src","assets/images/rewards-points.png","alt","Rewards",1,"mr-2","sm:mr-1","xl:mr-2","h-7","sm:h-6","2xl:h-6","xl:h-7","3xl:h-7","sm:hidden","md:block"],[1,"wallet-tab","min-w-fit","flex","items-center","px-2","sm:px-2","md:px-3","py-2.5","sm:py-1.5","text-text-strong","font-medium","cursor-pointer","sm:rounded-t-xl","border-b","sm:border-b-0","border-t","border-r","sm:border-l","border-grey-1","sm:border-transparent","text-center","sm:text-left","text-lg","sm:text-base","xl:text-lg","whitespace-nowrap","select-none","justify-between",3,"ngClass","click"],["src","assets/icon/wallet/gift-box.png","alt","Gift Codes",1,"mr-2","sm:mr-1","xl:mr-2","h-7","sm:h-6","2xl:h-6","xl:h-7","3xl:h-7","sm:hidden","md:block"],["class","text-white gift-code-count flex items-center justify-center ml-4 rounded-full w-6 h-6 text-base",4,"ngIf"],["src","assets/icon/wallet/otto-options.png","alt","Otto Options",1,"mr-2","sm:mr-1","xl:mr-2","h-7","sm:h-6","2xl:h-6","xl:h-7","3xl:h-7","sm:hidden","md:block"],["class","relative tab-handler flex items-center justify-center border z-10","appRippleEffect","",3,"ngClass","click",4,"ngIf"],["reference","event",1,"tab-popover",3,"isOpen","didDismiss"],["tabPopover",""],[1,"tab-body","flex","flex-col","sm:border","border-main-border","flex-1","w-full","h-full",3,"config"],["swiper",""],["swiperSlide",""],[3,"availableBalance","isOpen","isOpenChange","handleSend","handleDeposit","handleViewDepositHistory"],[3,"isOpen","isOpenChange","handleRedeemGiftCode"],[3,"isOpen","isOpenChange","handleOpenOttoOptionsModal","handleOpenConvertModal"],[3,"rewardsPoints","isOpen","isOpenChange","handleOpenRewardsPointsModal"],[3,"ottoPoints","balance","ottoOptions","isOpen","convertOption","isOpenChange","refresh"],[3,"isOpen","isOpenChange"],[1,"text-white","gift-code-count","flex","items-center","justify-center","ml-4","rounded-full","w-6","h-6","text-base"],["appRippleEffect","",1,"relative","tab-handler","flex","items-center","justify-center","border","z-10",3,"ngClass","click"],[1,"icon-dots3","text-xl"],[1,"flex","flex-col","rounded-lg","border","border-main-border","text-base"],[1,"p-3","text-text-strong","font-medium","hover:bg-main-blue-transparent","cursor-pointer",3,"ngClass","click"],[1,"p-3","text-text-strong","font-medium","hover:bg-main-blue-transparent","cursor-pointer","rounded-b-md",3,"ngClass","click"],["class","h-full flex flex-col",4,"ngIf"],[1,"h-full","flex","flex-col"],[1,"flex","flex-1","w-full",3,"balanceHistories"],[1,"flex","flex-1","w-full",3,"ottoHistories"],[1,"flex","flex-1","w-full",3,"giftCodeHistories"]],template:function(e,o){1&e&&(t.TgZ(0,"ng-scrollbar")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"ion-icon",4),t.qZA(),t.TgZ(6,"h1",5),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"app-wallet-overview",6),t.NdJ("handleOnClickAccountCredits",function(){return o.onClickAccountCredits()})("handleOnClickRewardsPoints",function(){return o.onClickRewardsPoints()})("handleOnClickGiftCodes",function(){return o.onClickGiftCodes()})("handleOnClickOttoOptions",function(){return o.onClickOttoOptions()}),t.qZA(),t.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10,11)(15,"div",12)(16,"div",13),t.NdJ("click",function(){return o.onOpenTab(1)}),t._UZ(17,"img",14),t.TgZ(18,"span"),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"div",13),t.NdJ("click",function(){return o.onOpenTab(2)}),t._UZ(22,"img",15),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"translate"),t.qZA()(),t.TgZ(26,"div",16),t.NdJ("click",function(){return o.onOpenTab(3)}),t._UZ(27,"img",17),t.TgZ(28,"span"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.YNc(31,te,2,1,"span",18),t.qZA(),t.TgZ(32,"div",13),t.NdJ("click",function(){return o.onOpenTab(4)}),t._UZ(33,"img",19),t.TgZ(34,"span"),t._uU(35),t.ALo(36,"translate"),t.qZA()()()(),t.YNc(37,ne,2,3,"button",20),t.TgZ(38,"ion-popover",21,22),t.NdJ("didDismiss",function(){return o.isOpenTabHandler=!1}),t.YNc(40,oe,13,24,"ng-template"),t.qZA()()(),t.TgZ(41,"swiper",23,24),t.YNc(43,ae,1,1,"ng-template",25),t.YNc(44,re,1,1,"ng-template",25),t.YNc(45,se,2,1,"ng-template",25),t.YNc(46,de,1,1,"ng-template",25),t.qZA()()()(),t.TgZ(47,"app-deposit-modal",26),t.NdJ("isOpenChange",function(l){return o.isOpenDepositModal=l})("handleSend",function(){return o.isOpenSendModal=!0})("handleDeposit",function(){return o.onDeposit()})("handleViewDepositHistory",function(){return o.onViewDepositHistory()}),t.qZA(),t.TgZ(48,"app-giftcode-purchase-modal",27),t.NdJ("isOpenChange",function(l){return o.isOpenGiftCodePurchaseModal=l})("handleRedeemGiftCode",function(){return o.isOpenGiftCodeRedeemModal=!0}),t.qZA(),t.TgZ(49,"app-rewards-points-modal",28),t.NdJ("isOpenChange",function(l){return o.isOpenRewardsPointsModal=l})("handleOpenOttoOptionsModal",function(){return o.onOpenOttoOptionsModal()})("handleOpenConvertModal",function(l){return o.onOpenConvertModal(l)}),t.qZA(),t.TgZ(50,"app-otto-options-modal",29),t.NdJ("isOpenChange",function(l){return o.isOpenOttoOptionsModal=l})("handleOpenRewardsPointsModal",function(){return o.onOpenRewardsPointsModal()}),t.qZA(),t.TgZ(51,"app-convert-points-modal",30),t.NdJ("isOpenChange",function(l){return o.isOpenConvertPointsModal=l})("refresh",function(){return o.getWalletInfo(),o.getOttoOptionsLog()}),t.qZA(),t.TgZ(52,"app-send-credits-modal",31),t.NdJ("isOpenChange",function(l){return o.isOpenSendModal=l}),t.qZA(),t.TgZ(53,"app-giftcode-redeem-modal",31),t.NdJ("isOpenChange",function(l){return o.isOpenGiftCodeRedeemModal=l}),t.qZA()),2&e&&(t.xp6(4),t.Q6J("routerLink","/m"),t.xp6(3),t.hij(" ",t.lcZ(8,31,"my-wallet")," "),t.xp6(2),t.Q6J("accountCredits",o.walletInfo.balance)("rewardsPoints",o.walletInfo.point)("giftCodesCount",o.walletInfo.gift)("ottoOptions",o.walletInfo.ottoOptions),t.xp6(7),t.Q6J("ngClass",t.VKq(41,M,1===o.openTab)),t.xp6(3),t.hij(" ",t.lcZ(20,33,"account-credits")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(43,M,2===o.openTab)),t.xp6(3),t.hij(" ",t.lcZ(25,35,"rewards-points")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(45,M,3===o.openTab)),t.xp6(3),t.hij(" ",t.lcZ(30,37,"gift-codes")," "),t.xp6(2),t.Q6J("ngIf",o.unusedGiftCodes>0),t.xp6(1),t.Q6J("ngClass",t.VKq(47,M,4===o.openTab)),t.xp6(3),t.hij(" ",t.lcZ(36,39,"otto-options")," "),t.xp6(2),t.Q6J("ngIf",o.isTabBarOverflowed),t.xp6(1),t.Q6J("isOpen",o.isOpenTabHandler),t.xp6(3),t.Q6J("config",o.slideOption),t.xp6(6),t.Q6J("availableBalance",o.walletInfo.balance)("isOpen",o.isOpenDepositModal),t.xp6(1),t.Q6J("isOpen",o.isOpenGiftCodePurchaseModal),t.xp6(1),t.Q6J("isOpen",o.isOpenRewardsPointsModal),t.xp6(1),t.Q6J("rewardsPoints",o.walletInfo.point)("isOpen",o.isOpenOttoOptionsModal),t.xp6(1),t.Q6J("ottoPoints",o.walletInfo.point)("balance",o.walletInfo.balance)("ottoOptions",o.walletInfo.ottoOptions)("isOpen",o.isOpenConvertPointsModal)("convertOption",o.convertOption),t.xp6(1),t.Q6J("isOpen",o.isOpenSendModal),t.xp6(1),t.Q6J("isOpen",o.isOpenGiftCodeRedeemModal))},dependencies:[c.mk,c.O5,s.gu,s.d8,s.YI,u.KC,h.nF,h.YC,O.rH,Z.R,C.w,j.Z,U.p,D.X,R.M,P,G.k,L,I.A,Q.K,jt,zt,g.X$],styles:['.ng-scroll-content{max-width:100%;min-height:100%;display:flex!important;flex-direction:column}button[_ngcontent-%COMP%]{min-width:140px}button.buy-gift-btn[_ngcontent-%COMP%]{width:170px;border:1px solid #ffd553}button.buy-gift-btn[_ngcontent-%COMP%]   .gift-icon[_ngcontent-%COMP%]{top:7px}.wallet-tab[_ngcontent-%COMP%]{background-color:#272532;border-color:#373747}.wallet-tab.active[_ngcontent-%COMP%]{position:relative;border-color:var(--main-blue);border-left-color:transparent;border-right-color:transparent;background-color:var(--main-blue-transparent)}@media (min-width: 640px){.wallet-tab.active[_ngcontent-%COMP%]{border-bottom-width:2px}}.wallet-tab.active[_ngcontent-%COMP%]:before{background-color:var(--main-blue);content:"";left:-1px;width:1px;height:calc(100% + 2px);position:absolute}.wallet-tab.active[_ngcontent-%COMP%]:after{background-color:var(--main-blue);content:"";right:-1px;width:1px;height:calc(100% + 2px);position:absolute}@media (min-width: 640px){.wallet-tab.active[_ngcontent-%COMP%]{border-left-color:var(--main-blue);border-right-color:var(--main-blue)}.wallet-tab.active[_ngcontent-%COMP%]:before, .wallet-tab.active[_ngcontent-%COMP%]:after{display:none}}.wallet-tab[_ngcontent-%COMP%]   .gift-code-count[_ngcontent-%COMP%]{background-color:#fe003f}.tab-bar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tab-bar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.tab-handler[_ngcontent-%COMP%]{min-width:inherit}.tab-handler[_ngcontent-%COMP%]:not(.end){box-shadow:rgba(0,0,0,.97) 0 0 28px}ion-popover.tab-popover[_ngcontent-%COMP%]{--offset-x: 0px;--offset-y: 0px}  ion-select{--padding-start: 10px;--padding-end: 6px}  ion-popover.select-popover::part(content){width:160px;border-radius:10px;border:1px solid var(--main-border)}  ion-popover.select-popover ion-item{--color: var(--text-strong) !important}  ion-popover.select-popover ion-item:hover{--color: var(--main-blue) !important}  ion-popover.select-popover ion-item.item-radio-checked{--background: var(--main-blue-transparent) !important;--color: var(--text-strong) !important;--background-focused: var(--main-blue-transparent) !important;--background-focused-opacity: 1 !important;--background-hover: var(--main-blue-transparent) !important;--background-hover-opacity: 1 !important}  ion-popover.select-popover ion-item.item-radio-checked:before{content:"";width:4px;height:100%;left:0;top:0;background:linear-gradient(#0091ff,#003dff);position:absolute;z-index:10}  ion-popover.select-popover ion-item.item-radio-checked:after{content:"";width:4px;height:100%;right:0;top:0;background:linear-gradient(#0091ff,#003dff);position:absolute;z-index:10}.tab-body[_ngcontent-%COMP%]{background-color:var(--bg-table)}.tab-body[_ngcontent-%COMP%] > *.ng-animating[_ngcontent-%COMP%]{position:absolute}  .copy-cell.copied app-copy{display:none}  .copy-cell.copied i{display:block}  .copy-cell:not(.copied) app-copy{display:block}  .copy-cell:not(.copied) i{display:none}  .dark-mode .wallet-tab{background-color:#403d50;border-color:#403d50;color:#cac9d0}  .dark-mode .wallet-tab.active{color:var(--text-strong)}  .dark-mode .wallet-box-section>div{background-color:#1f173c}  .dark-mode .wallet-box-section>div:hover{cursor:pointer}  .dark-mode .tab-handler{background-color:#373747;border-color:#5b5b6c;color:#fff}  .light-mode .wallet-tab{background-color:#f0f0f9;border-color:var(--main-border)}  .light-mode .wallet-tab.active{border-color:var(--main-blue);--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));background:linear-gradient(to left,#4b21ff,#0564ff)}  .light-mode .wallet-box-section>div{background-color:#fff}  .light-mode .tab-handler{background-color:#f0f0f9;border-color:var(--main-border);color:var(--grey-2)}']}),n})()}];let me=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[O.Bz.forChild(pe),O.Bz]}),n})(),ge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,d.u5,d.UX,s.Pc,g.aw,u.kb,h.kz,me,_.Q,p.T,C.w,b.K,F.Q,j.Z,U.p,D.X,R.M,P,G.k,L,I.A,Q.K]}),n})()},8798:(J,w,r)=>{r.d(w,{B:()=>u});var c=r(655),s=r(4650),g=r(5433);let u=(()=>{class d{constructor(p){this.el=p,this.backToTopBtn="100",this.myValue=!0,this.content=p}ngAfterViewInit(){return(0,c.mG)(this,void 0,void 0,function*(){this.btn=document.createElement("button"),this.btn.innerHTML='\n    <svg class="icon__arrow-up" viewBox="0 0 24 24">\n      <title>Back to top</title>\n      <path d="M18.71,11.71a1,1,0,0,1-1.42,0L13,7.41V19a1,1,0,0,1-2,0V7.41l-4.29,4.3a1,1,0,0,1-1.42-1.42l6-6a1,1,0,0,1,1.42,0l6,6A1,1,0,0,1,18.71,11.71Z"/>\n    </svg>',this.btn.classList.add("back-to-top-btn"),this.btn.addEventListener("click",()=>{this.content.scrollTo({top:0,duration:300})}),this.content.nativeElement.append(this.btn),this.content.scrolled.subscribe(p=>{const _="number"==typeof this.backToTopBtn?this.backToTopBtn:parseInt(this.backToTopBtn||"100");p.target.scrollTop>(_||100)?this.btn.classList.add("show-btn"):this.btn.classList.remove("show-btn")})})}}return d.\u0275fac=function(p){return new(p||d)(s.Y36(g.KC))},d.\u0275dir=s.lG2({type:d,selectors:[["","backToTopBtn",""]],hostVars:1,hostBindings:function(p,_){2&p&&s.Ikx("overflow-scroll",_.myValue)},inputs:{backToTopBtn:"backToTopBtn"}}),d})()},9787:(J,w,r)=>{r.d(w,{E:()=>u});var c=r(655),s=r(4650),g=r(5433);let u=(()=>{class d{constructor(p){this.el=p,this.content=p}ngAfterViewInit(){return(0,c.mG)(this,void 0,void 0,function*(){const p=this.content.nativeElement;this.shadowTop=document.createElement("div"),this.shadowBottom=document.createElement("div"),this.shadowTop.classList.add("absolute","w-full","left-0","top-0","z-10"),this.shadowBottom.classList.add("absolute","w-full","left-0","bottom-0","z-10"),p.append(this.shadowTop),p.append(this.shadowBottom),this.content.scrolled.subscribe(_=>{const b=_.target.scrollHeight,C=_.target.offsetHeight;this.shadowTop.style.boxShadow=`0px 0px ${C/25}px ${Math.min(C/30,_.target.scrollTop/5)}px var(--scroll-shadow-color)`,this.shadowBottom.style.boxShadow=`0px 0px ${C/25}px ${Math.min(C/30,(b-(_.target.scrollTop+_.target.offsetHeight))/5)}px var(--scroll-shadow-color)`})})}}return d.\u0275fac=function(p){return new(p||d)(s.Y36(g.KC))},d.\u0275dir=s.lG2({type:d,selectors:[["","scrollShadow",""]]}),d})()}}]);