"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7533],{7533:(I,T,a)=>{a.r(T),a.d(T,{AuthModule:()=>ke});var g=a(6895),i=a(4006),d=a(8008),x=a(3416),v=a(8854),e=a(4650);let w=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-loader"]],standalone:!0,features:[e.jDz],decls:5,vars:0,consts:[[1,"orange-loader","w-5","h-5","absolute","block","top-1/2","left-1/2","-mt-2.5","-ml-2.5"],[1,"w-[9px]","h-[9px]","block","bg-[#fb8811]","rounded-full","opacity-30","origin-[50%_50%]","scale-75","absolute","top-0","left-0"],[1,"w-[9px]","h-[9px]","block","bg-[#fb8811]","rounded-full","opacity-30","origin-[50%_50%]","scale-75","absolute","top-0","right-0"],[1,"w-[9px]","h-[9px]","block","bg-[#fb8811]","rounded-full","opacity-30","origin-[50%_50%]","scale-75","absolute","right-0","bottom-0"],[1,"w-[9px]","h-[9px]","block","bg-[#fb8811]","rounded-full","opacity-30","origin-[50%_50%]","scale-75","absolute","left-0","bottom-0"]],template:function(n,t){1&n&&(e.TgZ(0,"span",0),e._UZ(1,"i",1)(2,"i",2)(3,"i",3)(4,"i",4),e.qZA())},dependencies:[g.ez,d.Pc]}),r})();var b=a(1169),c=a(7933),o=a(7340);(0,o.X$)("numberGoUp",[(0,o.eR)(":increment",[(0,o.oB)({color:"#2dd36f"}),(0,o.jt)("900ms",(0,o.oB)({color:"#2dd36f"}))])]),(0,o.X$)("numberGoUpWithBackground",[(0,o.eR)(":increment",[(0,o.oB)({background:"#2dd36f4b"}),(0,o.jt)("300ms",(0,o.oB)({background:"#2dd36f4b"}))])]),(0,o.X$)("fade",[(0,o.eR)(":leave",[(0,o.oB)({opacity:1,transform:"translateX(0%)"}),(0,o.jt)("100ms",(0,o.oB)({opacity:0,transform:"translateX(-50%)"}))])]),(0,o.X$)("staggerList",[(0,o.eR)("* => *",[(0,o.IO)(":enter",[(0,o.oB)({opacity:0,transform:"{{scale}} {{translateY}}"}),(0,o.EY)(50,[(0,o.jt)("{{time}}",(0,o.oB)({opacity:1,transform:"scale(1) translateY(0)"}))])],{optional:!0})],{params:{scale:"scale(0.6)",time:"0.5s",translateY:"translateY(-.8rem)"}})]),(0,o.X$)("listAnimation",[(0,o.eR)("* => *",[(0,o.IO)(":enter",[(0,o.oB)({opacity:0}),(0,o.EY)(50,[(0,o.jt)("{{time}}",(0,o.oB)({opacity:1}))])],{optional:!0})],{params:{scale:"scale(0.6)",time:"0.3s"}})]),(0,o.X$)("fade2",[(0,o.eR)(":enter",[(0,o.oB)({opacity:0}),(0,o.jt)("100ms",(0,o.oB)({opacity:1}))]),(0,o.eR)(":leave",[(0,o.jt)("100ms",(0,o.oB)({opacity:0}))])]);const k=(0,o.X$)("slideLeftRight",[(0,o.eR)(":enter",[(0,o.oB)({transform:"translateX(-100%)",opacity:0}),(0,o.jt)("200ms ease-out",(0,o.oB)({transform:"translateX(0%)",opacity:1}))]),(0,o.eR)(":leave",[(0,o.jt)("200ms ease-out",(0,o.oB)({transform:"translateX(-100%)",opacity:0}))])]),S=(0,o.X$)("slideRightLeft",[(0,o.eR)(":enter",[(0,o.oB)({transform:"translateX(100%)",opacity:0}),(0,o.jt)("200ms ease-out",(0,o.oB)({transform:"translateX(0%)",opacity:1}))]),(0,o.eR)(":leave",[(0,o.jt)("200ms ease-out",(0,o.oB)({transform:"translateX(100%)",opacity:0}))])]),O=((0,o.X$)("slideInOutY",[(0,o.eR)(":enter",[(0,o.oB)({transform:"translateY(-100%)",opacity:0,scale:.8}),(0,o.jt)("200ms ease-out",(0,o.oB)({transform:"translateX(0%)",opacity:1,scale:1}))]),(0,o.eR)(":leave",[(0,o.jt)("200ms ease-out",(0,o.oB)({transform:"translateY(-100%)",opacity:0,scale:.8}))])]),(0,o.X$)("slideInOutVertical",[(0,o.eR)("Login-d => Register-d",[(0,o.IO)(":enter, :leave",(0,o.oB)({position:"absolute",top:0,left:0,right:0,transform:"translate(0, -50%)"}),{optional:!0}),(0,o.ru)([(0,o.IO)(":enter",[(0,o.oB)({left:"150%",opacity:0}),(0,o.jt)("200ms 100ms ease-out",(0,o.oB)({left:0,opacity:1}))],{optional:!0}),(0,o.IO)(":leave",[(0,o.oB)({left:0,opacity:1}),(0,o.jt)("250ms ease-out",(0,o.oB)({left:"-150%",opacity:0}))],{optional:!0})])]),(0,o.eR)("Register-d => Login-d",[(0,o.IO)(":enter, :leave",(0,o.oB)({position:"absolute",top:0,left:0,right:0,transform:"translate(0, -50%)"}),{optional:!0}),(0,o.ru)([(0,o.IO)(":enter",[(0,o.oB)({left:"-150%",opacity:0}),(0,o.jt)("250ms 100ms ease-out",(0,o.oB)({left:0,opacity:1}))],{optional:!0}),(0,o.IO)(":leave",[(0,o.oB)({left:0,opacity:1}),(0,o.jt)("250ms ease-out",(0,o.oB)({left:"150%",opacity:0}))],{optional:!0})])]),(0,o.eR)("Login-m => Register-m",[(0,o.IO)(":enter, :leave",(0,o.oB)({position:"absolute",top:0,left:0,right:0,"transform-origin":"top left"}),{optional:!0}),(0,o.ru)([(0,o.IO)(":enter",[(0,o.oB)({transform:"translateX(-100%)",opacity:0}),(0,o.jt)("200ms 100ms ease-in",(0,o.oB)({transform:"translateX(0)",opacity:1}))],{optional:!0}),(0,o.IO)(":leave",[(0,o.oB)({transform:"translateX(0)",opacity:1}),(0,o.jt)("200ms ease-in",(0,o.oB)({transform:"translateX(100%)",opacity:0}))],{optional:!0})])]),(0,o.eR)("Register-m => Login-m",[(0,o.IO)(":enter, :leave",(0,o.oB)({position:"absolute",top:0,left:0,right:0,"transform-origin":"top left"}),{optional:!0}),(0,o.ru)([(0,o.IO)(":enter",[(0,o.oB)({transform:"translateX(100%)",opacity:0}),(0,o.jt)("200ms 100ms ease-in",(0,o.oB)({transform:"translateX(0)",opacity:1}))],{optional:!0}),(0,o.IO)(":leave",[(0,o.oB)({transform:"translateX(0)",opacity:1}),(0,o.jt)("200ms ease-in",(0,o.oB)({transform:"translateX(-100%)",opacity:0}))],{optional:!0})])])]));var u=a(9300),p=a(5762);const Z=function(r){return{register:r}},A=function(r){return{"hidden sm:block":r}};let R=(()=>{class r extends p.H{constructor(n){super(),this.changeDetectorRef=n,this.bgNum=1,this.isMobile=!1,this.isRegisterPage=!1,this.isMobile=window.innerWidth<992,this.router.events.pipe((0,u.h)(t=>t instanceof c.m2)).subscribe(t=>{this.isRegisterPage="/auth/register"===t.url.slice(0,14)})}onResize(){this.isMobile=window.innerWidth<992}ngOnInit(){this.bgNum=this.getRandomInt(1,7)}getRandomInt(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}prepareRoute(n){return n&&n.activatedRouteData&&n.activatedRouteData.animation?(setTimeout(()=>{this.changeDetectorRef.detectChanges()},0),`${n.activatedRouteData.animation}-${this.isMobile?"m":"d"}`):""}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-auth"]],hostBindings:function(n,t){1&n&&e.NdJ("resize",function(){return t.onResize()},!1,e.Jf7)},features:[e.qOj],decls:8,vars:10,consts:[[1,"auth-page",3,"ngClass","fullscreen"],[1,"auth-wrapper","w-full","min-h-screen","xl:w-10/12","px-2","m-auto","2md:h-full","flex","flex-col","2md:flex-row","items-center","2md:justify-between","overflow-hidden"],[1,"auth-logo-wrapper","w-full","2md:w-1/2","my-10","2md:my-0","mx-auto",3,"ngClass"],["src","assets/logo-light.png","alt","",1,"m-auto","light-element",3,"routerLink"],["src","assets/logo-dark.png","alt","",1,"m-auto","dark-element",3,"routerLink"],[1,"auth-container","relative","min-w-full","sm:min-w-[450px]"],["outlet","outlet"]],template:function(n,t){if(1&n&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3)(4,"img",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"router-outlet",null,6),e.qZA()()()),2&n){const l=e.MAs(7);e.Q6J("ngClass",e.VKq(6,Z,t.isRegisterPage))("fullscreen",!0),e.xp6(2),e.Q6J("ngClass",e.VKq(8,A,t.isRegisterPage)),e.xp6(1),e.Q6J("routerLink","/"),e.xp6(1),e.Q6J("routerLink","/"),e.xp6(1),e.Q6J("@slideInOutVertical",t.prepareRoute(l))}},dependencies:[g.mk,c.lC,c.rH,d.W2,d.YI],styles:[".auth-container.ng-animating[_ngcontent-%COMP%]{position:absolute}.auth-logo-wrapper[_ngcontent-%COMP%]{max-width:75%}@media (min-width: 375px){.auth-logo-wrapper[_ngcontent-%COMP%]{max-width:60%}}@media (min-width: 640px){.auth-logo-wrapper[_ngcontent-%COMP%]{max-width:616px}}  .light-mode ion-content.auth-page{--background: url(/assets/login-bg/login-bg-new-light-min.png) top left / cover no-repeat}  .light-mode input:-webkit-autofill,   .light-mode input:-webkit-autofill:hover,   .light-mode input:-webkit-autofill:focus,   .light-mode input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px white inset!important;-webkit-text-fill-color:black!important}  .dark-mode ion-content.auth-page{--background: url(/assets/login-bg/login-bg-new-dark-min.png) top left / cover no-repeat}  .dark-mode input:-webkit-autofill,   .dark-mode input:-webkit-autofill:hover,   .dark-mode input:-webkit-autofill:focus,   .dark-mode input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px var(--bg-input) inset!important;-webkit-text-fill-color:white!important}"],data:{animation:[O]},changeDetection:0}),r})();var V=a(655),ne=a(9808);const re=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);class M{static number(s){return s.value&&!/^[0-9]*$/.test(s.value)?{error:!0}:{}}static phone(s){return s.value?/^(\+\d{1,2}\s?)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/.test(s.value)?{}:{error:!0,label:"phone-validation-syntax"}:{error:!0,label:"phone-validation-required"}}static userName(s){return s.value?/(?![A-Z]*$)(?![a-z]*$)(?![0-9]*$)(?![^a-zA-Z0-9]*$)/.test(s.value)?s.value.trim().length<6||s.value.trim().length>20?{error:!0,label:"username-validation-length"}:{}:{error:!0,label:"username-validation-syntax"}:{error:!0,label:"username-validation-required"}}static password(s){return s.value?/(?![A-Z]*$)(?![a-z]*$)(?![0-9]*$)(?![^a-zA-Z0-9]*$)/.test(s.value)?s.value.trim().length<6?{length:!0,label:"password-validation-length"}:{}:{error:!0,label:"password-validation-syntax"}:{error:!0,label:"password-validation-required"}}static email(s){return s.value?re.test(s.value)?{}:{error:!0,label:"email-validation-syntax"}:{error:!0,label:"email-validation-required"}}}var F=a(5939),U=a(6540),E=a(7139),J=a(6948),B=a(3284),D=a(6065);function ie(r,s){1&r&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"username-validation-required")," "))}function ae(r,s){1&r&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"password-validation-required")," "))}const se=function(r){return{"border-red-1":r}},X=function(r){return{"btn-disabled":r}},le=function(r){return{inviterId:r}};function ue(r,s){if(1&r){const n=e.EpF();e.TgZ(0,"form",14),e.NdJ("submit",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.emailSubmit())}),e.TgZ(1,"div",15)(2,"div",16),e._UZ(3,"i",17)(4,"ion-input",18),e.ALo(5,"translate"),e.qZA(),e.YNc(6,ie,3,3,"div",19),e.qZA(),e.TgZ(7,"div",20),e._UZ(8,"app-password-field",21),e.ALo(9,"translate"),e.YNc(10,ae,3,3,"div",19),e.qZA(),e.TgZ(11,"div",22)(12,"a",23),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"button",24),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",25)(19,"a",26),e._uU(20),e.ALo(21,"translate"),e.qZA()()()}if(2&r){const n=e.oxw();let t,l,m,C;e.Q6J("formGroup",n.emailLoginForm)("@slideLeftRight",void 0),e.xp6(2),e.Q6J("ngClass",e.VKq(23,se,(null==(t=n.emailLoginForm.get("username"))?null:t.errors)&&n.isEmailSubmitted)),e.xp6(2),e.s9C("placeholder",e.lcZ(5,13,"input-placeholder-username")),e.xp6(2),e.Q6J("ngIf",(null==(l=n.emailLoginForm.get("username"))?null:l.errors)&&n.isEmailSubmitted),e.xp6(2),e.s9C("placeholder",e.lcZ(9,15,"input-placeholder-password")),e.Q6J("isInvalid",(null==(m=n.emailLoginForm.get("password"))?null:m.errors)&&n.isEmailSubmitted),e.xp6(2),e.Q6J("ngIf",(null==(C=n.emailLoginForm.get("password"))?null:C.errors)&&n.isEmailSubmitted),e.xp6(3),e.hij(" ",e.lcZ(14,17,"forgot-password")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,X,n.emailLoginForm.invalid)),e.xp6(1),e.hij(" ",e.lcZ(17,19,"login-button-login")," "),e.xp6(3),e.Q6J("queryParams",e.VKq(27,le,n.inviterId)),e.xp6(1),e.hij(" ",e.lcZ(21,21,"login-button-register")," ")}}function me(r,s){if(1&r&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw(2);let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=n.smsLoginForm.get("mobile"))||null==t.errors?null:t.errors.label)," ")}}function de(r,s){1&r&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"verification-code-required")," "))}const ce=function(r){return{"!border-red-1":r}};function pe(r,s){if(1&r){const n=e.EpF();e.TgZ(0,"form",28),e.NdJ("submit",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.smsSubmit())}),e.TgZ(1,"div",29)(2,"app-phone-control",30),e.NdJ("onSelectPhoneCountry",function(l){e.CHM(n);const m=e.oxw();return e.KtG(m.onSelectPhoneCountry(l))})("onPhoneNumberChange",function(l){e.CHM(n);const m=e.oxw();return e.KtG(m.onPhoneNumberChange(l))}),e.qZA(),e.YNc(3,me,3,3,"div",19),e.qZA(),e.TgZ(4,"div",31)(5,"div",32)(6,"div",33),e._UZ(7,"ion-input",34),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",35),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.onSendVerificationCode())}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,de,3,3,"div",19),e.qZA(),e.TgZ(13,"button",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",25)(17,"a",36),e._uU(18),e.ALo(19,"translate"),e.qZA()()()}if(2&r){const n=e.oxw();let t,l,m,C,y,P;e.Q6J("formGroup",n.smsLoginForm)("@slideRightLeft",void 0),e.xp6(2),e.Q6J("isInvalid",(null==(t=n.smsLoginForm.get("mobile"))?null:t.errors)&&n.isSMSSubmitted)("phoneNumber",null==(l=n.smsLoginForm.get("mobile"))?null:l.value),e.xp6(1),e.Q6J("ngIf",(null==(m=n.smsLoginForm.get("mobile"))?null:m.errors)&&n.isSMSSubmitted),e.xp6(3),e.Q6J("ngClass",e.VKq(21,ce,(null==(C=n.smsLoginForm.get("verificationCode"))?null:C.errors)&&n.isSMSSubmitted)),e.xp6(1),e.s9C("placeholder",e.lcZ(8,13,"verification-code")),e.xp6(2),e.Q6J("disabled",!0===(null==(y=n.smsLoginForm.get("mobile"))||null==y.errors?null:y.errors.error)),e.xp6(1),e.hij(" ",e.lcZ(11,15,"get-sms-code")," "),e.xp6(2),e.Q6J("ngIf",(null==(P=n.smsLoginForm.get("verificationCode"))?null:P.errors)&&n.isSMSSubmitted),e.xp6(1),e.Q6J("ngClass",e.VKq(23,X,n.smsLoginForm.invalid)),e.xp6(1),e.hij(" ",e.lcZ(15,17,"login-button-login")," "),e.xp6(4),e.hij(" ",e.lcZ(19,19,"login-button-register")," ")}}const ge=function(r,s){return{failed:r,success:s}},$=function(r){return{active:r}},fe=function(r){return{success:r}};function be(r,s){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=n.form.get("username"))||null==t.errors?null:t.errors.label)," ")}}function _e(r,s){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=n.form.get("password"))||null==t.errors?null:t.errors.label)," ")}}function ve(r,s){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=n.form.get("confirmPassword"))||null==t.errors?null:t.errors.label)," ")}}function xe(r,s){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=n.form.get("mobile"))||null==t.errors?null:t.errors.label)," ")}}function Ce(r,s){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=n.form.get("email"))||null==t.errors?null:t.errors.label)," ")}}function we(r,s){1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"verification-code-required")," "))}const Ze=function(r){return{failed:r}},j=function(r){return{"!border-red-1":r}},ye=function(r){return{"has-inviter":r}};function Oe(r,s){if(1&r&&(e.TgZ(0,"div",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const n=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=n.form.get("mobile"))||null==t.errors?null:t.errors.label)," ")}}function Pe(r,s){1&r&&(e.TgZ(0,"div",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"verification-code-required")," "))}const Ae=function(r){return{failed:r}},Le=function(r){return{"!border-red-1":r}},Me=[{path:"",component:R,children:[{path:"login",component:(()=>{class r extends p.H{constructor(n,t,l,m){super(),this.fb=n,this.userService=t,this.route=l,this.authService=m,this.showPassword=!1,this.loginMethod="email",this.loginFailed=!1,this.loginSuccess=!1,this.isEmailSubmitted=!1,this.isSMSSubmitted=!1,this.initForm()}get isSubmitDisabled(){return"email"===this.loginMethod?this.emailLoginForm.invalid:this.smsLoginForm.invalid}get inviterId(){return this.userService.inviterId}ngOnInit(){this.emailLoginForm=this.fb.group({username:[null,[i.kI.required]],password:[null,[i.kI.required]]}),this.smsLoginForm=this.fb.group({countryCode:["+86",[i.kI.required]],mobile:[null,[M.phone]],verificationCode:[null,[i.kI.required]]})}emailSubmit(){var n;return(0,V.mG)(this,void 0,void 0,function*(){if(this.isEmailSubmitted=!0,this.emailLoginForm.invalid)return void this.loginHasFailed();const t=this.emailLoginForm.getRawValue();t.username=t.username.trim(),t.password=t.password.trim();try{const l=yield(0,ne.n)(this.authService.login(t));yield this.userService.setToken(l.headers.get("token")),this.loginSuccess=!0,setTimeout(()=>(0,V.mG)(this,void 0,void 0,function*(){yield this.userService.setUserInfo(l.body.data),yield this.userService.updateUserInfo();const m=this.route.snapshot.queryParamMap.get("back")||"/dashboard";this.router.navigateByUrl(decodeURIComponent(m))}),400)}catch(l){this.toast.toastError(null===(n=null==l?void 0:l.error)||void 0===n?void 0:n.message),this.loginHasFailed()}})}smsSubmit(){this.isSMSSubmitted=!0,this.loginHasFailed()}onSelectPhoneCountry(n){var t;n&&(null===(t=this.smsLoginForm.get("countryCode"))||void 0===t||t.patchValue(n))}onPhoneNumberChange(n){var t;null===(t=this.smsLoginForm.get("mobile"))||void 0===t||t.patchValue(n)}onLogin(){this.smsLoginForm.invalid||this.smsLoginForm.reset({countryCode:"+86"})}onSendVerificationCode(){console.log("onSendVerificationCode")}initForm(){this.emailLoginForm=this.fb.group({username:[null],password:[null]}),this.smsLoginForm=this.fb.group({phone:[null],countryCode:[null]})}changeLoginMethod(n){this.loginMethod=n,this.isSMSSubmitted=!1,this.isEmailSubmitted=!1}loginHasFailed(){this.loginFailed=!0,setTimeout(()=>{this.loginFailed=!1},800)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(i.qu),e.Y36(F.K),e.Y36(c.gz),e.Y36(U.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],features:[e.qOj],decls:18,vars:22,consts:[[1,"relative","auth-box","login-component","rounded-2xl","border-main-border","border-2","bg-main-bg","px-4","sm:px-8","py-8","font-medium","overflow-hidden","z-10",3,"ngClass"],[1,"flex","mb-8"],[1,"tab","relative","cursor-pointer","rounded-t","py-3","font-medium","whitespace-nowrap","flex-auto","text-center","hover:border-b-4","hover:border-main-blue","mr-1",3,"ngClass","click"],[1,"tab","relative","cursor-pointer","rounded-t","py-3","font-medium","whitespace-nowrap","flex-auto","text-center","hover:border-b-4","hover:border-main-blue",3,"ngClass","click"],[1,"hidden","sm:flex","items-center","ml-4"],[1,"login-form"],["class","w-full email-login-form",3,"formGroup","submit",4,"ngIf"],["class","w-full sms-login-form",3,"formGroup","submit",4,"ngIf"],[1,"flex","items-center","justify-between","sm:justify-center","my-5"],[1,"language-btn","flex","items-center","justify-center","w-fit","rounded-md","p-1.5"],["interface","modal",3,"showText"],["name","chevron-forward-outline"],[1,"mr-2","sm:hidden"],[1,"success-circle","absolute","left-1/2","top-1/2","origin-center","w-4","h-4","bg-main-bg","rounded-full","transition-transform",3,"ngClass"],[1,"w-full","email-login-form",3,"formGroup","submit"],[1,"mb-8"],[1,"rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-2",3,"ngClass"],[1,"icon-person","text-text-strong","text-xl"],["formControlName","username",1,"text-text-strong",3,"placeholder"],["class","mt-1 text-sm text-red-1",4,"ngIf"],[1,"mb-2"],["formControlName","password","customInvalidClass","border-red-1",3,"placeholder","isInvalid"],[1,"flex","justify-end","mb-4"],["routerLink","/auth/forgot-password",1,"block","text-accent-blue","text-base","leading-5"],["type","submit","appRippleEffect","",1,"btn-blue","font-medium","border-solid","border-2","text-center","block","w-full","rounded-lg","py-3","uppercase","text-2xl","mb-6","transition-colors",3,"ngClass"],[1,"text-center"],["routerLink","/auth/register",1,"text-accent-blue","text-xl","font-medium",3,"queryParams"],[1,"mt-1","text-sm","text-red-1"],[1,"w-full","sms-login-form",3,"formGroup","submit"],[1,"relative"],["customInvalidClass","!border-red-1",3,"isInvalid","phoneNumber","onSelectPhoneCountry","onPhoneNumberChange"],[1,"mt-8","mb-11"],[1,"sms-field","flex","w-full"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-l-lg","border","border-border-input","text-text-strong","text-xl",3,"ngClass"],["formControlName","verificationCode","required","",1,"sms-code",3,"placeholder"],["appRippleEffect","",1,"btn-blue","sms-btn","border","border-border-input","rounded-r-lg","font-medium","text-text-strong","p-3","whitespace-nowrap",3,"disabled","click"],["routerLink","/auth/register",1,"text-accent-blue","text-xl","font-medium"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return t.changeLoginMethod("email")}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.NdJ("click",function(){return t.changeLoginMethod("sms")}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"app-theme-toggle",4),e.qZA(),e.TgZ(9,"div",5),e.YNc(10,ue,22,29,"form",6),e.YNc(11,pe,20,25,"form",7),e.qZA()(),e.TgZ(12,"div",8)(13,"div",9),e._UZ(14,"app-language-dropdown",10)(15,"ion-icon",11),e.qZA(),e._UZ(16,"app-theme-toggle",12),e.qZA(),e._UZ(17,"div",13)),2&n&&(e.Q6J("ngClass",e.WLB(13,ge,t.loginFailed,t.loginSuccess)),e.xp6(2),e.Q6J("ngClass",e.VKq(16,$,"email"===t.loginMethod)),e.xp6(1),e.hij(" ",e.lcZ(4,9,"login-account-login")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(18,$,"sms"===t.loginMethod)),e.xp6(1),e.hij(" ",e.lcZ(7,11,"login-sms-login")," "),e.xp6(4),e.Q6J("ngIf","email"===t.loginMethod),e.xp6(1),e.Q6J("ngIf","sms"===t.loginMethod),e.xp6(3),e.Q6J("showText",!0),e.xp6(3),e.Q6J("ngClass",e.VKq(20,fe,t.loginSuccess)))},dependencies:[g.mk,g.O5,c.rH,d.gu,d.pK,d.j9,d.Fo,i._Y,i.JJ,i.JL,i.Q7,i.sg,i.u,E.q,J.b,B.T,D.R,b.b,x.X$],styles:["[_nghost-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto}button[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}ion-input[_ngcontent-%COMP%]{--padding-start: 8px;font-size:1.1rem;line-height:24px}form.email-login-form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-top: 11px;--padding-bottom: 11px}form.sms-login-form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-top: 9px;--padding-bottom: 9px}form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--placeholder-weight: 500;--placeholder-color: var(--input-placeholder);--placeholder-opacity: 1}.auth-box[_ngcontent-%COMP%]{max-width:100%;width:100%;box-shadow:0 0 10px 10px rgba(0,0,0,.3)}@media (min-width: 640px){.auth-box[_ngcontent-%COMP%]{width:450px;min-width:450px}}.auth-box.failed[_ngcontent-%COMP%]{animation:angry-shake .4s}.auth-box.failed[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:var(--main-red);border-color:var(--main-red);color:#fff;opacity:1}.auth-box.success[_ngcontent-%COMP%]{animation:slideOutToUp .5s}.tab[_ngcontent-%COMP%]{font-size:1.35rem;line-height:1.75rem}.login-form[_ngcontent-%COMP%]{position:relative;width:100%;min-height:290px;transition:transform .4s}.login-form[_ngcontent-%COMP%]   form.ng-animating[_ngcontent-%COMP%]{position:absolute}.login-form.sms-login[_ngcontent-%COMP%]   form.email-login-form[_ngcontent-%COMP%]{pointer-events:none}.email-login-form[_ngcontent-%COMP%], .sms-login-form[_ngcontent-%COMP%]{width:100%;height:100%}.success-circle.success[_ngcontent-%COMP%]{transition:all .5s ease-in-out;transform:scale(300)}  .dark-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#21213a}  .dark-mode app-auth .tab.active{background-color:#181f42;border-color:var(--main-blue)}  .dark-mode app-auth .tab-body{background-color:#232232}  .dark-mode app-auth .language-btn:hover{background-color:rgba(255,255,255,.23)}  .light-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#f0f0f0}  .light-mode app-auth .tab.active{border-color:var(--main-blue);color:var(--main-blue);background:#dee8f8}  .light-mode app-auth .tab.active app-globe-icon svg *{fill:#fff}  .light-mode app-auth .tab-body{background-color:#fff}  .light-mode app-auth .language-btn:hover{background-color:rgba(255,255,255,.23)}"],data:{animation:[k,S]}}),r})(),data:{animation:"Login"}},{path:"register",component:(()=>{class r extends p.H{constructor(n,t,l,m,C){super(),this.fb=n,this.userService=t,this.cdr=l,this.activatedRoute=m,this.authService=C,this.type="register",this.smsTimeRemaining=0,this.registerFailed=!1,this.isSubmitted=!1,this.confirmationValidator=y=>y.value?Object.is(y.value,this.form.controls.password.value)?{}:{error:!0,label:"confirm-password-validation-dismatch"}:{error:!0,label:"confirm-password-validation-required"},this.initForm()}ngOnInit(){this.getVerifyCode()}validate(){this.form.valid?this.submit():Object.values(this.form.controls).forEach(n=>{n.invalid&&(n.markAsDirty(),n.updateValueAndValidity({onlySelf:!0}))})}getVerifyCode(){this.verifyCode=null}onSelectPhoneCountry(n){var t;n&&(null===(t=this.form.get("mobileArea"))||void 0===t||t.patchValue(n))}onPhoneNumberChange(n){var t;null===(t=this.form.get("mobile"))||void 0===t||t.patchValue(n)}getSmsCode(){}startTimeInterval(){this.timeInterval=setInterval(()=>{this.smsTimeRemaining-=1,this.smsTimeRemaining<1&&clearInterval(this.timeInterval)},1e3)}getEmailCode(){if(!this.form.controls.email.valid)return this.form.controls.email.markAsDirty(),void this.form.controls.email.updateValueAndValidity({onlySelf:!0});this.type="email"}submit(){this.isSubmitted=!0,this.form.invalid&&this.registerHasFailed()}initForm(){var n;const t=this.activatedRoute.snapshot.queryParams;console.log("initForm"),this.inviterId=null,!this.userService.inviterId&&t.inviterId?(this.userService.inviterId=t.inviterId,this.inviterId=this.userService.inviterId):this.userService.inviterId&&(this.inviterId=this.userService.inviterId),this.form=this.fb.group({username:[null,[M.userName]],password:[null,[M.password]],confirmPassword:[null,[i.kI.required,this.confirmationValidator]],mobileArea:["+86"],mobile:[null,M.phone],email:[null,M.email],verifyCode:[null,[i.kI.required]],inviterId:[this.inviterId],isProfessionalTrader:[!1,[i.kI.required]]}),this.inviterId&&(null===(n=this.form.get("inviterId"))||void 0===n||n.disable())}registerHasFailed(){this.registerFailed=!0,setTimeout(()=>{this.registerFailed=!1},800)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(i.qu),e.Y36(F.K),e.Y36(e.sBO),e.Y36(c.gz),e.Y36(U.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],features:[e.qOj],decls:67,vars:63,consts:[[1,"auth-box","register-component","rounded-2xl","border-main-border","border-2","bg-main-bg","px-2","py-8","font-medium","mt-8","sm:mt-0",3,"ngClass"],[1,"flex","items-center","mb-8","pr-2","sm:pr-4"],["routerLink","/auth/login",1,"cursor-pointer","w-8","h-8","mr-1"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"active","tab","relative","text-lg","cursor-pointer","rounded-t","py-3","font-medium","whitespace-nowrap","flex-auto","text-center","mr-1"],[1,"hidden","sm:flex","items-center","ml-4"],[1,"w-full","px-2","sm:px-6",3,"formGroup","submit"],[1,"form-field"],[1,"rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-2",3,"ngClass"],[1,"icon-person","text-text-strong","text-xl"],["formControlName","username",3,"placeholder"],["class","mt-1 text-sm text-red-1",4,"ngIf"],["formControlName","password","customInvalidClass","border-red-1",3,"placeholder","isInvalid"],["formControlName","confirmPassword","customInvalidClass","border-red-1",3,"placeholder","isInvalid"],[1,"form-field","relative"],["customInvalidClass","!border-red-1",3,"isInvalid","onSelectPhoneCountry","onPhoneNumberChange"],[1,"icon-letter","text-text-strong","text-xl"],["formControlName","email",1,"",3,"placeholder"],[1,"sms-field","flex","w-full","gap-x-2"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-lg","border","border-border-input","text-text-strong",3,"ngClass"],["formControlName","verifyCode",1,"sms-code",3,"placeholder"],["appRippleEffect","",1,"btn-blue","sms-btn","border","border-border-input","rounded-lg","font-medium","text-text-strong","px-3","whitespace-nowrap",3,"disabled"],[1,"flex","flex-col"],[1,"icon-phone_1","text-xl"],[1,"text-sm","leading-none"],[1,"icon-letter","text-xl"],[1,"form-field","inviter-input","rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-2",3,"ngClass"],[1,"icon-chaine","text-text-strong","text-xl"],["formControlName","inviterId",3,"placeholder"],["for","professionalTrader",1,"flex","items-center","mb-5","cursor-pointer"],["name","professionalTrader","mode","md","formControlName","isProfessionalTrader",1,"m-0","mr-1.5"],[1,"text-text-strong"],["type","submit","appRippleEffect","",1,"btn-blue","font-medium","border-solid","border-2","text-center","block","w-full","rounded-lg","py-3","uppercase","text-2xl"],[1,"flex","items-center","justify-between","sm:justify-center","my-5"],[1,"flex","items-center","justify-center"],["interface","modal",3,"showText"],["name","chevron-forward-outline"],[1,"mr-2","sm:hidden"],[1,"mt-1","text-sm","text-red-1"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"ion-icon",3),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"app-theme-toggle",5),e.qZA(),e.TgZ(8,"form",6),e.NdJ("submit",function(){return t.submit()}),e.TgZ(9,"div",7)(10,"div",8),e._UZ(11,"i",9)(12,"ion-input",10),e.ALo(13,"translate"),e.qZA(),e.YNc(14,be,3,3,"div",11),e.qZA(),e.TgZ(15,"div",7),e._UZ(16,"app-password-field",12),e.ALo(17,"translate"),e.YNc(18,_e,3,3,"div",11),e.qZA(),e.TgZ(19,"div",7),e._UZ(20,"app-password-field",13),e.ALo(21,"translate"),e.YNc(22,ve,3,3,"div",11),e.qZA(),e.TgZ(23,"div",14)(24,"app-phone-control",15),e.NdJ("onSelectPhoneCountry",function(m){return t.onSelectPhoneCountry(m)})("onPhoneNumberChange",function(m){return t.onPhoneNumberChange(m)}),e.qZA(),e.YNc(25,xe,3,3,"div",11),e.qZA(),e.TgZ(26,"div",7)(27,"div",8),e._UZ(28,"i",16)(29,"ion-input",17),e.ALo(30,"translate"),e.qZA(),e.YNc(31,Ce,3,3,"div",11),e.qZA(),e.TgZ(32,"div",7)(33,"div",18)(34,"div",19),e._UZ(35,"ion-input",20),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"button",21)(38,"div",22),e._UZ(39,"i",23),e.TgZ(40,"span",24),e._uU(41),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",21)(44,"div",22),e._UZ(45,"i",25),e.TgZ(46,"span",24),e._uU(47),e.ALo(48,"translate"),e.qZA()()()(),e.YNc(49,we,3,3,"div",11),e.qZA(),e.TgZ(50,"div",26),e._UZ(51,"i",27)(52,"ion-input",28),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"label",29),e._UZ(55,"ion-checkbox",30),e.TgZ(56,"ion-label",31),e._uU(57),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"button",32),e._uU(60),e.ALo(61,"translate"),e.qZA()()(),e.TgZ(62,"div",33)(63,"div",34),e._UZ(64,"app-language-dropdown",35)(65,"ion-icon",36),e.qZA(),e._UZ(66,"app-theme-toggle",37),e.qZA()),2&n){let l,m,C,y,P,G,H,z,W,ee,te,q,Q,oe;e.Q6J("ngClass",e.VKq(53,Ze,t.registerFailed)),e.xp6(5),e.hij(" ",e.lcZ(6,31,"register")," "),e.xp6(3),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngClass",e.VKq(55,j,(null==(l=t.form.get("username"))?null:l.errors)&&t.isSubmitted)),e.xp6(2),e.s9C("placeholder",e.lcZ(13,33,"username")),e.xp6(2),e.Q6J("ngIf",(null==(m=t.form.get("username"))?null:m.errors)&&t.isSubmitted),e.xp6(2),e.s9C("placeholder",e.lcZ(17,35,"password")),e.Q6J("isInvalid",(null==(C=t.form.get("password"))?null:C.errors)&&t.isSubmitted),e.xp6(2),e.Q6J("ngIf",(null==(y=t.form.get("password"))?null:y.errors)&&t.isSubmitted),e.xp6(2),e.s9C("placeholder",e.lcZ(21,37,"confirm-password")),e.Q6J("isInvalid",(null==(P=t.form.get("confirmPassword"))?null:P.errors)&&t.isSubmitted),e.xp6(2),e.Q6J("ngIf",(null==(G=t.form.get("confirmPassword"))?null:G.errors)&&t.isSubmitted),e.xp6(2),e.Q6J("isInvalid",(null==(H=t.form.get("mobile"))?null:H.errors)&&t.isSubmitted),e.xp6(1),e.Q6J("ngIf",(null==(z=t.form.get("mobile"))?null:z.errors)&&t.isSubmitted),e.xp6(2),e.Q6J("ngClass",e.VKq(57,j,(null==(W=t.form.get("email"))?null:W.errors)&&t.isSubmitted)),e.xp6(2),e.s9C("placeholder",e.lcZ(30,39,"email")),e.xp6(2),e.Q6J("ngIf",(null==(ee=t.form.get("email"))?null:ee.errors)&&t.isSubmitted),e.xp6(3),e.Q6J("ngClass",e.VKq(59,j,(null==(te=t.form.get("verifyCode"))?null:te.errors)&&t.isSubmitted)),e.xp6(1),e.Q6J("placeholder",e.lcZ(36,41,"verification-code")),e.xp6(2),e.Q6J("disabled",!0===(null==(q=t.form.get("mobile"))||null==q.errors?null:q.errors.error)),e.xp6(4),e.hij(" ",e.lcZ(42,43,"sms")," "),e.xp6(2),e.Q6J("disabled",!0===(null==(Q=t.form.get("email"))||null==Q.errors?null:Q.errors.error)),e.xp6(4),e.hij(" ",e.lcZ(48,45,"email")," "),e.xp6(2),e.Q6J("ngIf",(null==(oe=t.form.get("verifyCode"))?null:oe.errors)&&t.isSubmitted),e.xp6(1),e.Q6J("ngClass",e.VKq(61,ye,t.inviterId)),e.xp6(2),e.s9C("placeholder",e.lcZ(53,47,"fill-inviter")),e.xp6(5),e.hij(" ",e.lcZ(58,49,"professional-trader-question")," "),e.xp6(2),e.ekj("btn-disabled",t.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(61,51,"register")," "),e.xp6(4),e.Q6J("showText",!0)}},dependencies:[g.mk,g.O5,c.rH,d.nz,d.gu,d.pK,d.Q$,d.w,d.j9,d.Fo,i._Y,i.JJ,i.JL,i.sg,i.u,E.q,J.b,B.T,D.R,b.b,x.X$],styles:["[_nghost-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto}ion-input[_ngcontent-%COMP%]{--padding-start: 8px;--padding-top: 11px;--padding-bottom: 11px;--placeholder-opacity: 1;--placeholder-color: var(--input-placeholder);--placeholder-weight: 500;font-size:1.1rem;line-height:24px;color:var(--text-strong)}ion-checkbox[_ngcontent-%COMP%]{--background: var(--main-bg);--border-color: var(--main-border)}.auth-box[_ngcontent-%COMP%]{max-width:100%;width:100%;box-shadow:0 0 10px 10px rgba(0,0,0,.3)}@media (min-width: 640px){.auth-box[_ngcontent-%COMP%]{width:450px;min-width:450px}}.auth-box.failed[_ngcontent-%COMP%]{animation:angry-shake .4s}.auth-box.failed[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:var(--main-red);border-color:var(--main-red);color:#fff;opacity:1}.tab[_ngcontent-%COMP%]{font-size:1.35rem;line-height:1.75rem}.form-field[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.form-field[_ngcontent-%COMP%]{margin-bottom:.75rem}}  .dark-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#21213a}  .dark-mode app-auth .tab.active{background-color:#181f42;border-color:var(--main-blue)}  .dark-mode app-auth .tab-body{background-color:#232232}  .dark-mode app-auth .inviter-input.has-inviter{background-color:#302d4b}  .dark-mode app-auth .inviter-input.has-inviter ion-input{color:#7c78a1!important}  .dark-mode app-auth .inviter-input.has-inviter i{color:#7c78a1!important}  .dark-mode app-auth .inviter-input.has-inviter   input{opacity:1!important}  .light-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#f0f0f0}  .light-mode app-auth .tab.active{border-color:var(--main-blue);color:var(--main-blue);background:#dee8f8}  .light-mode app-auth .tab.active app-globe-icon svg *{fill:#fff}  .light-mode app-auth .tab-body{background-color:#fff}"]}),r})(),data:{animation:"Register"}},{path:"forgot-password",component:(()=>{class r extends p.H{constructor(n,t,l,m,C){super(),this.fb=n,this.userService=t,this.cdr=l,this.activatedRoute=m,this.authService=C,this.type="register",this.smsTimeRemaining=0,this.forgotPasswordFailed=!1,this.isSubmitted=!1,this.initForm()}ngOnInit(){this.getVerifyCode()}validate(){this.form.valid?this.submit():Object.values(this.form.controls).forEach(n=>{n.invalid&&(console.log("control",n.errors),n.markAsDirty(),n.updateValueAndValidity({onlySelf:!0}))})}getVerifyCode(){this.verifyCode=null}onSelectPhoneCountry(n){var t;n&&(null===(t=this.form.get("mobileArea"))||void 0===t||t.patchValue(n))}onPhoneNumberChange(n){var t;null===(t=this.form.get("mobile"))||void 0===t||t.patchValue(n)}getSmsCode(){}startTimeInterval(){this.timeInterval=setInterval(()=>{this.smsTimeRemaining-=1,this.smsTimeRemaining<1&&clearInterval(this.timeInterval)},1e3)}getEmailCode(){if(!this.form.controls.email.valid)return this.form.controls.email.markAsDirty(),void this.form.controls.email.updateValueAndValidity({onlySelf:!0});this.type="email"}submit(){this.isSubmitted=!0,this.form.invalid&&this.forgotPasswordHasFailed()}initForm(){this.form=this.fb.group({mobileArea:["+86"],mobile:[null,M.phone],verifyCode:[null,[i.kI.required]]})}forgotPasswordHasFailed(){this.forgotPasswordFailed=!0,setTimeout(()=>{this.forgotPasswordFailed=!1},800)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(i.qu),e.Y36(F.K),e.Y36(e.sBO),e.Y36(c.gz),e.Y36(U.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-forgot-password"]],features:[e.qOj],decls:32,vars:26,consts:[[1,"auth-box","register-component","rounded-2xl","border-main-border","border-2","bg-main-bg","px-2","py-8","font-medium",3,"ngClass"],[1,"flex","items-center","mb-8","pr-2","sm:pr-4"],["routerLink","/auth/login",1,"cursor-pointer","w-8","h-8","mr-1"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"active","tab","cursor-pointer","rounded-t","py-3","font-medium","whitespace-nowrap","flex-auto","text-center","mr-1"],[1,"hidden","sm:flex","items-center","ml-4"],[1,"w-full","px-2","sm:px-6",3,"formGroup","submit"],[1,"relative"],["customInvalidClass","!border-red-1",3,"isInvalid","onSelectPhoneCountry","onPhoneNumberChange"],["class","mt-1 text-sm text-red-1",4,"ngIf"],[1,"my-3"],[1,"sms-field","flex","w-full","gap-x-2"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-lg","border","border-border-input","text-text-strong",3,"ngClass"],["formControlName","verifyCode",1,"sms-code",3,"placeholder"],["type","button","appRippleEffect","",1,"btn-blue","sms-btn","border","border-border-input","rounded-lg","font-medium","text-text-strong","px-3","whitespace-nowrap",3,"disabled","click"],[1,"flex","flex-col"],[1,"icon-phone_1","text-xl"],[1,"text-sm","leading-none"],["type","submit","appRippleEffect","",1,"btn-blue","font-medium","border-solid","border-2","text-center","block","w-full","rounded-lg","py-3","uppercase","text-2xl"],[1,"flex","items-center","justify-between","sm:justify-center","my-5"],[1,"flex","items-center","justify-center"],["interface","modal",3,"showText"],["name","chevron-forward-outline"],[1,"mr-2","sm:hidden"],[1,"mt-1","text-sm","text-red-1"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"ion-icon",3),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"app-theme-toggle",5),e.qZA(),e.TgZ(8,"form",6),e.NdJ("submit",function(){return t.submit()}),e.TgZ(9,"div",7)(10,"app-phone-control",8),e.NdJ("onSelectPhoneCountry",function(m){return t.onSelectPhoneCountry(m)})("onPhoneNumberChange",function(m){return t.onPhoneNumberChange(m)}),e.qZA(),e.YNc(11,Oe,3,3,"div",9),e.qZA(),e.TgZ(12,"div",10)(13,"div",11)(14,"div",12),e._UZ(15,"ion-input",13),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",14),e.NdJ("click",function(){return t.getSmsCode()}),e.TgZ(18,"div",15),e._UZ(19,"i",16),e.TgZ(20,"span",17),e._uU(21),e.ALo(22,"translate"),e.qZA()()()(),e.YNc(23,Pe,3,3,"div",9),e.qZA(),e.TgZ(24,"button",18),e._uU(25),e.ALo(26,"translate"),e.qZA()()(),e.TgZ(27,"div",19)(28,"div",20),e._UZ(29,"app-language-dropdown",21)(30,"ion-icon",22),e.qZA(),e._UZ(31,"app-theme-toggle",23),e.qZA()),2&n){let l,m,C,y,P;e.Q6J("ngClass",e.VKq(22,Ae,t.forgotPasswordFailed)),e.xp6(5),e.hij(" ",e.lcZ(6,14,"forgot-password")," "),e.xp6(3),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("isInvalid",(null==(l=t.form.get("mobile"))?null:l.errors)&&t.isSubmitted),e.xp6(1),e.Q6J("ngIf",(null==(m=t.form.get("mobile"))?null:m.errors)&&t.isSubmitted),e.xp6(3),e.Q6J("ngClass",e.VKq(24,Le,(null==(C=t.form.get("verifyCode"))?null:C.errors)&&t.isSubmitted)),e.xp6(1),e.Q6J("placeholder",e.lcZ(16,16,"verification-code")),e.xp6(2),e.Q6J("disabled",!0===(null==(y=t.form.get("mobile"))||null==y.errors?null:y.errors.error)),e.xp6(4),e.hij(" ",e.lcZ(22,18,"sms")," "),e.xp6(2),e.Q6J("ngIf",(null==(P=t.form.get("verifyCode"))?null:P.errors)&&t.isSubmitted),e.xp6(1),e.ekj("btn-disabled",t.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(26,20,"submit")," "),e.xp6(4),e.Q6J("showText",!0)}},dependencies:[g.mk,g.O5,c.rH,d.gu,d.pK,d.j9,d.Fo,i._Y,i.JJ,i.JL,i.sg,i.u,E.q,J.b,B.T,D.R,x.X$],styles:["[_nghost-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto}ion-input[_ngcontent-%COMP%]{--padding-start: 8px;--padding-top: 11px;--padding-bottom: 11px;--placeholder-opacity: 1;--placeholder-color: var(--input-placeholder);--placeholder-weight: 500;font-size:1.1rem;line-height:24px;color:var(--text-strong)}ion-checkbox[_ngcontent-%COMP%]{--background: var(--main-bg);--border-color: var(--main-border)}.auth-box[_ngcontent-%COMP%]{max-width:100%;width:100%;box-shadow:0 0 10px 10px rgba(0,0,0,.3)}@media (min-width: 640px){.auth-box[_ngcontent-%COMP%]{width:450px;min-width:450px}}.auth-box.failed[_ngcontent-%COMP%]{animation:angry-shake .4s}.auth-box.failed[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:var(--main-red);border-color:var(--main-red);color:#fff;opacity:1}.tab[_ngcontent-%COMP%]{font-size:1.35rem;line-height:1.75rem}  .dark-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#21213a}  .dark-mode app-auth .tab.active{background-color:#181f42;border-color:var(--main-blue)}  .dark-mode app-auth .tab-body{background-color:#232232}  .dark-mode app-auth .inviter-input.has-inviter{background-color:#302d4b}  .dark-mode app-auth .inviter-input.has-inviter ion-input{color:#7c78a1!important}  .dark-mode app-auth .inviter-input.has-inviter i{color:#7c78a1!important}  .dark-mode app-auth .inviter-input.has-inviter   input{opacity:1!important}  .light-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#f0f0f0}  .light-mode app-auth .tab.active{border-color:var(--main-blue);color:var(--main-blue);background:#dee8f8}  .light-mode app-auth .tab.active app-globe-icon svg *{fill:#fff}  .light-mode app-auth .tab-body{background-color:#fff}"]}),r})(),data:{animation:"Register"}}]}];let Ie=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.Bz.forChild(Me),c.Bz]}),r})(),ke=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,Ie,d.Pc,x.aw,i.u5,i.UX,v.T,w,b.b]}),r})()},7139:(I,T,a)=>{a.d(T,{q:()=>S});var g=a(655),i=a(8008),d=a(2722),x=a(5762),v=a(866),e=a(4650),w=a(7933),b=a(3416),c=a(7179),o=a(6895);function _(f,O){if(1&f&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&f){const u=e.oxw();e.Q6J("ngClass",u.customTextClass),e.xp6(1),e.Oqu(u.currentLang.text)}}function h(f,O){1&f&&e._UZ(0,"ion-icon",8)}function L(f,O){if(1&f&&(e.TgZ(0,"ion-content"),e.GkF(1,9),e.qZA()),2&f){e.oxw();const u=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",u)}}function N(f,O){if(1&f&&e.GkF(0,9),2&f){e.oxw();const u=e.MAs(9);e.Q6J("ngTemplateOutlet",u)}}const Y=function(f){return{activated:f}};function K(f,O){if(1&f){const u=e.EpF();e.TgZ(0,"ion-item",12),e.NdJ("click",function(){const A=e.CHM(u).$implicit,R=e.oxw(2);return e.KtG(R.setLanguage(A))}),e._UZ(1,"img",13),e.TgZ(2,"ion-label",14),e._uU(3),e.qZA()()}if(2&f){const u=O.$implicit,p=e.oxw(2);e.Q6J("ngClass",e.VKq(3,Y,p.currentLang.code===u.code)),e.xp6(1),e.Q6J("src",u.icon,e.LSH),e.xp6(2),e.hij(" ",u.text," ")}}function k(f,O){if(1&f&&(e.TgZ(0,"ion-list",10),e.YNc(1,K,4,5,"ion-item",11),e.qZA()),2&f){const u=e.oxw();e.xp6(1),e.Q6J("ngForOf",u.languages)}}let S=(()=>{class f extends x.H{constructor(u,p,Z){super(),this.activatedRoute=u,this.translateService=p,this.storage=Z,this.showText=!1,this.showIcon=!1,this.customTextClass="",this.interface="popover",this.isModalOpen=!1,this.isPopoverOpen=!1,this.languages=[{icon:"assets/images/english.svg",text:"English",code:"en"},{icon:"assets/images/china.svg",text:"\u7b80\u4f53\u4e2d\u6587",code:"cn"},{icon:"assets/images/china-tradition.svg",text:"\u7e41\u9ad4\u4e2d\u6587",code:"tr"}],this.currentLang=this.languages[0]}ngOnInit(){const u=this.translateService.currentLang;this.currentLang=this.languages.find(p=>p.code===u)||this.languages[0],this.translateService.onLangChange.pipe((0,d.R)(this.onDestroy$)).subscribe(p=>{this.currentLang=this.languages.find(Z=>Z.code===p.lang)||this.languages[0],this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{lang:p.lang},queryParamsHandling:"merge"})}),this.activatedRoute.queryParams.pipe((0,d.R)(this.onDestroy$)).subscribe(p=>{if(p.lang){const Z=this.languages.find(A=>A.code===p.lang)||this.languages[0];this.setLanguage(Z)}})}setLanguage(u){return(0,g.mG)(this,void 0,void 0,function*(){this.currentLang=u,this.translateService.use(u.code),new Date((new Date).setFullYear((new Date).getFullYear()+1)),yield this.storage.set(v.L,u.code),this.isPopoverOpen=!1,this.isModalOpen=!1})}handleTriger(u){"popover"===this.interface?(this.popover.event=u,this.isPopoverOpen=!0):this.isModalOpen=!0}}return f.\u0275fac=function(u){return new(u||f)(e.Y36(w.gz),e.Y36(b.sK),e.Y36(c.V))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-language-dropdown"]],viewQuery:function(u,p){if(1&u&&e.Gf(i.d8,5),2&u){let Z;e.iGM(Z=e.CRH())&&(p.popover=Z.first)}},inputs:{showText:"showText",showIcon:"showIcon",customTextClass:"customTextClass",interface:"interface"},features:[e.qOj],decls:10,vars:5,consts:[[1,"ml-1","flex","justify-center","items-center",3,"click"],[1,"h-5",3,"src"],["class","ml-2 text-text-strong",3,"ngClass",4,"ngIf"],["class","ml-1","name","chevron-down-outline",4,"ngIf"],["side","bottom","alignment","center",3,"isOpen","didDismiss"],[1,"theme-modal",3,"isOpen","didDismiss"],["languageList",""],[1,"ml-2","text-text-strong",3,"ngClass"],["name","chevron-down-outline",1,"ml-1"],[3,"ngTemplateOutlet"],["lines","full",1,"py-2"],["class","cursor-pointer","lines","none",3,"ngClass","click",4,"ngFor","ngForOf"],["lines","none",1,"cursor-pointer",3,"ngClass","click"],[1,"mr-2","h-8",3,"src"],[1,"text-text-strong","my-4"]],template:function(u,p){1&u&&(e.TgZ(0,"button",0),e.NdJ("click",function(A){return p.handleTriger(A)}),e._UZ(1,"img",1),e.YNc(2,_,2,2,"div",2),e.YNc(3,h,1,0,"ion-icon",3),e.qZA(),e.TgZ(4,"ion-popover",4),e.NdJ("didDismiss",function(){return p.isPopoverOpen=!1}),e.YNc(5,L,2,1,"ng-template"),e.qZA(),e.TgZ(6,"ion-modal",5),e.NdJ("didDismiss",function(){return p.isModalOpen=!1}),e.YNc(7,N,1,1,"ng-template"),e.qZA(),e.YNc(8,k,2,1,"ng-template",null,6,e.W1O)),2&u&&(e.xp6(1),e.Q6J("src",p.currentLang.icon,e.LSH),e.xp6(1),e.Q6J("ngIf",p.showText),e.xp6(1),e.Q6J("ngIf",p.showIcon),e.xp6(1),e.Q6J("isOpen",p.isPopoverOpen),e.xp6(2),e.Q6J("isOpen",p.isModalOpen))},dependencies:[o.mk,o.sg,o.O5,o.tP,i.W2,i.gu,i.Ie,i.Q$,i.q_,i.ki,i.d8],styles:["ion-popover[_ngcontent-%COMP%]{--backdrop-opacity: 0;--max-width: 300px}ion-item[_ngcontent-%COMP%]{--color: var(--text-strong);font-size:20px}ion-item.activated[_ngcontent-%COMP%]{--background: var(--main-blue-transparent);--color: var(--main-blue)}ion-modal[_ngcontent-%COMP%]{--width: 320px;--height: auto}"]}),f})()},3284:(I,T,a)=>{a.d(T,{T:()=>b});var g=a(7341),i=a(4650),d=a(5379),x=a(6895),v=a(8008);const e=function(c,o){return{dark:c,light:o}};function w(c,o){if(1&c){const _=i.EpF();i.TgZ(0,"div",1),i.NdJ("click",function(){i.CHM(_);const L=i.oxw();return i.KtG(L.themeService.toggle())}),i._UZ(1,"div",2)(2,"div",3)(3,"ion-icon",4)(4,"ion-icon",5)(5,"ion-icon",6)(6,"ion-icon",7),i.qZA()}if(2&c){const _=o.ngIf;i.Q6J("ngClass",i.WLB(1,e,"dark"===_,"light"===_))}}let b=(()=>{class c extends g.u{constructor(_){super(),this.themeService=_}ngOnInit(){}}return c.\u0275fac=function(_){return new(_||c)(i.Y36(d.f))},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-theme-toggle"]],features:[i.qOj],decls:2,vars:3,consts:[["class","container cursor-pointer",3,"ngClass","click",4,"ngIf"],[1,"container","cursor-pointer",3,"ngClass","click"],[1,"knob","absolute","z-10"],[1,"track","w-full","h-full","rounded-full"],["name","star",1,"w-1","h-1","fill-white","absolute","left-4","top-1"],["name","star",1,"w-1","h-1","fill-white","absolute","left-1","top-3"],["name","star",1,"w-1","h-1","fill-white","absolute","left-9","top-1"],["name","star",1,"w-1","h-1","fill-white","absolute","left-7","top-3"]],template:function(_,h){1&_&&(i.YNc(0,w,7,4,"div",0),i.ALo(1,"async")),2&_&&i.Q6J("ngIf",i.lcZ(1,1,h.themeService.theme$))},dependencies:[x.mk,x.O5,v.gu,x.Ov],styles:[".container[_ngcontent-%COMP%]{height:24px;width:50px;position:relative}.container.dark[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]{background:linear-gradient(to right,white,#23174B)}.container.dark[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{transform:translate(0) translateY(-50%)}.container.light[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]{background:linear-gradient(to right,#2ED5F2,white)}.container.light[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{transform:translate(26px) translateY(-50%)}.knob[_ngcontent-%COMP%]{width:24px;height:24px;top:50%;left:0;transform:translate(0) translateY(-50%);transition:transform .3s;position:absolute;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}"]}),c})()},5762:(I,T,a)=>{a.d(T,{H:()=>c});var g=a(7933),i=a(7579),d=a(727),x=a(5594),v=a(655),e=a(4650),w=a(8008);let b=(()=>{class o{constructor(h){this.toast=h}toastError(h){return(0,v.mG)(this,void 0,void 0,function*(){yield this.presentToast({position:"bottom",message:h,icon:"alert-circle-outline",duration:2500,color:"danger"})})}toastSuccess(h){return(0,v.mG)(this,void 0,void 0,function*(){yield this.presentToast({position:"bottom",message:h,duration:2500,icon:"checkmark-circle-outline",color:"success"})})}presentToast(h){return(0,v.mG)(this,void 0,void 0,function*(){yield(yield this.toast.create(h)).present()})}}return o.\u0275fac=function(h){return new(h||o)(e.LFG(w.yF))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),c=(()=>{class o{constructor(){this.onDestroy$=new i.x,this.subscriptions=new d.w0,this.isApp=!1;const h=x.k.getInjector();this.router=h.get(g.F0),this.toast=h.get(b),this.isApp=0!==document.URL.indexOf("http")}ngOnDestroy(){this.subscriptions.unsubscribe(),this.onDestroy$.next(!0),this.onDestroy$.complete()}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:0,vars:0,template:function(h,L){},encapsulation:2}),o})()},7341:(I,T,a)=>{a.d(T,{u:()=>x});var g=a(4650),i=a(8008),d=a(5762);let x=(()=>{class v extends d.H{constructor(){super(...arguments),this.isOpenChange=new g.vpe}handleDismiss(){this.isOpenChange.emit(!1)}}return v.\u0275fac=function(){let e;return function(b){return(e||(e=g.n5z(v)))(b||v)}}(),v.\u0275cmp=g.Xpm({type:v,selectors:[["ng-component"]],viewQuery:function(w,b){if(1&w&&g.Gf(i.ki,5),2&w){let c;g.iGM(c=g.CRH())&&(b.modalRef=c.first)}},inputs:{isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},features:[g.qOj],decls:0,vars:0,template:function(w,b){},encapsulation:2}),v})()},2722:(I,T,a)=>{a.d(T,{R:()=>v});var g=a(4482),i=a(5403),d=a(8421),x=a(5032);function v(e){return(0,g.e)((w,b)=>{(0,d.Xf)(e).subscribe((0,i.x)(b,()=>b.complete(),x.Z)),!b.closed&&w.subscribe(b)})}}}]);