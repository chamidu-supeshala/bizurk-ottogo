(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8899],{8899:(k,c,a)=>{"use strict";a.r(c),a.d(c,{SecurityModule:()=>pe});var r=a(6895),o=a(8008),t=a(3416),i=a(5433),s=a(8854),u=a(1782),l=a(655);const h=[{key:"login",label:"on-login"},{key:"payment",label:"payment"},{key:"activateStrategy",label:"activate-strategy"},{key:"bindExchange",label:"blind-exchange"}];var f=a(5762),P=a(9769),e=a(4650),_=a(5939),y=a(6540),v=a(6065),U=a(7312),L=a(7341);const I=function(m,T,n){return{active:m,fail:T,success:n}};function F(m,T){if(1&m&&e._UZ(0,"div",15),2&m){const n=T.index,d=e.oxw(2);e.Q6J("ngClass",e.kEZ(1,I,n<d.displayPIN.length,d.isPINInvalid,d.isPINValid))}}const S=function(m){return{"!text-main-green":m}},M=function(){return[]};function B(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"ion-icon",4),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e.qZA()()(),e.TgZ(4,"div",5)(5,"div",6)(6,"h3",7),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9),e.YNc(11,F,1,5,"div",10),e.qZA(),e.TgZ(12,"div",11)(13,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"1"))}),e._uU(14," 1 "),e.qZA(),e.TgZ(15,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"2"))}),e._uU(16," 2 "),e.qZA(),e.TgZ(17,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"3"))}),e._uU(18," 3 "),e.qZA(),e.TgZ(19,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"4"))}),e._uU(20," 4 "),e.qZA(),e.TgZ(21,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"5"))}),e._uU(22," 5 "),e.qZA(),e.TgZ(23,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"6"))}),e._uU(24," 6 "),e.qZA(),e.TgZ(25,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"7"))}),e._uU(26," 7 "),e.qZA(),e.TgZ(27,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"8"))}),e._uU(28," 8 "),e.qZA(),e.TgZ(29,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"9"))}),e._uU(30," 9 "),e.qZA(),e.TgZ(31,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(""))}),e._UZ(32,"ion-icon",13),e.qZA(),e.TgZ(33,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"0"))}),e._uU(34," 0 "),e.qZA(),e.TgZ(35,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN.slice(0,-1)))}),e._UZ(36,"ion-icon",14),e.qZA()()()()()}if(2&m){const n=e.oxw();e.xp6(6),e.Q6J("ngClass",e.VKq(5,S,n.step>1&&n.isPINValid)),e.xp6(1),e.hij(" ",e.lcZ(8,3,n.titles[n.step])," "),e.xp6(4),e.Q6J("ngForOf",e.DdM(7,M).constructor(n.PINLength))}}let J=(()=>{class m extends L.u{constructor(n){super(),this.authService=n,this.currentPIN="",this.step=0,this.handleChangeTradingPIN=new e.vpe,this.titles=["enter-current-trading-pin","enter-new-pin","confirm-new-pin","success"],this.PINLength=4,this.pinArray=["","",""],this.displayPIN="",this.isPINInvalid=!1,this.isPINValid=!1}onChangePIN(n){if(this.displayPIN=n,n.length===this.PINLength)switch(this.pinArray[this.step]=this.displayPIN,this.step){case 0:console.log(this.displayPIN),this.authService.checkModifyPassword({type:U.nS.PaymentPassword,password:P(this.displayPIN).toString()}).subscribe({next:d=>(0,l.mG)(this,void 0,void 0,function*(){0!==d.code?(this.handleFailure(0),this.toast.toastError(d.message)):this.handleSuccess(0)}),error:d=>{console.error(d)}}).add();break;case 1:this.step++,this.displayPIN="";break;case 2:this.pinArray[1]!==this.pinArray[2]?(console.log("Failure: Confirmed PIN does not match entered PIN",this.pinArray[1],this.pinArray[2],this.step),this.handleFailure(2)):(console.log("Success: PIN updated successfully"),this.step++,this.handleSuccess(2))}}handleFailure(n){this.isPINInvalid=!0,setTimeout(()=>{this.pinArray[n]="",this.displayPIN="",this.isPINInvalid=!1},500)}handleSuccess(n){this.isPINValid=!0,setTimeout(()=>{this.step++,n>1?(this.handleChangeTradingPIN.emit(this.pinArray),this.displayPIN="",this.isPINValid=!1,this.step=0):(this.displayPIN="",this.isPINValid=!1)},500)}}return m.\u0275fac=function(n){return new(n||m)(e.Y36(y.e))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-trading-password-modal"]],inputs:{currentPIN:"currentPIN",step:"step"},outputs:{handleChangeTradingPIN:"handleChangeTradingPIN"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","mb-8","px-1","sm:px-3","h-full"],[1,"h-2/5","flex","items-center","justify-center"],[1,"text-2xl","text-text-strong","font-medium",3,"ngClass"],[1,"h-3/5","flex","flex-col","rounded-t-md","bg-main-bg"],[1,"pin-code"],["class","pin-code__circle w-4 h-4 ng rounded-full mx-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"keypad","grid","grid-cols-3"],[1,"keypad__button",3,"click"],["name","refresh-outline"],["name","backspace-outline"],[1,"pin-code__circle","w-4","h-4","ng","rounded-full","mx-2",3,"ngClass"]],template:function(n,d){1&n&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return d.handleDismiss()}),e.YNc(1,B,37,8,"ng-template"),e.qZA()),2&n&&e.Q6J("isOpen",d.isOpen)},dependencies:[r.ez,r.mk,r.sg,o.Pc,o.gu,o.ki,t.aw,t.X$],styles:["ion-modal[_ngcontent-%COMP%]{--width: 100%;--height: 100%;--border-radius: 0px;--border-width: 0px}@media (min-width: 640px){ion-modal[_ngcontent-%COMP%]{--width: 400px;--height: 640px;--border-radius: 15px;--border-width: 2px}}.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1rem}}.modal-content[_ngcontent-%COMP%]   .pin-code[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   .pin-code__circle.fail[_ngcontent-%COMP%]{border-color:var(--main-red);background-color:var(--main-red);animation:_ngcontent-%COMP%_shake .5s}.modal-content[_ngcontent-%COMP%]   .pin-code__circle.success[_ngcontent-%COMP%]{background-color:var(--main-green)}.modal-content[_ngcontent-%COMP%]   .keypad[_ngcontent-%COMP%]{flex:1 1 auto;cursor:pointer;font-size:1.875rem;line-height:2.25rem;color:var(--text-strong)}.modal-content[_ngcontent-%COMP%]   .keypad__button[_ngcontent-%COMP%]{display:flex;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;justify-content:center}  .light-mode .pin-code__circle:not(.success, .fail)[_ngcontent-%COMP%]{border-width:2px;--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}  .light-mode .pin-code__circle:not(.success, .fail).active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}  .dark-mode .pin-code__circle:not(.success, .fail)[_ngcontent-%COMP%]{border-width:2px;--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}  .dark-mode .pin-code__circle:not(.success, .fail).active[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(71 85 105 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}@keyframes _ngcontent-%COMP%_shake{0%{transform:translate(0)}25%{transform:translate(-5px)}50%{transform:translate(5px)}75%{transform:translate(-5px)}to{transform:translate(0)}}"]}),m})();var C=a(5915),A=a(3366);function x(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",11)(1,"span",12),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-toggle",13),e.NdJ("ionChange",function(g){const R=e.CHM(n).$implicit,D=e.oxw(2);return e.KtG(D.toggleAuth(g,R.key))}),e.qZA()()}if(2&m){const n=T.$implicit,d=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,2,n.label)," "),e.xp6(2),e.Q6J("checked",d.securedMethods[n.key]||!1)}}function w(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-icon",5),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e.qZA()()(),e.TgZ(7,"div",6),e.YNc(8,x,5,4,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onConfirmAuth())}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()}if(2&m){const n=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,5,"two-factor-authentication")," "),e.xp6(4),e.Q6J("ngForOf",n.securableMethods),e.xp6(3),e.hij(" ",e.lcZ(12,7,"cancel")," "),e.xp6(2),e.Q6J("disabled",!n.isChanged),e.xp6(1),e.hij(" ",e.lcZ(15,9,"confirm")," ")}}let Z=(()=>{class m extends L.u{constructor(){super(),this.handleTwoFactorAuth=new e.vpe,this.securableMethods=h}get isChanged(){return JSON.stringify(this._securedMethods)!==JSON.stringify(this.securedMethods)}ngOnChanges(n){var d,g;(null===(d=n.securedMethods)||void 0===d?void 0:d.currentValue)!==(null===(g=n.securedMethods)||void 0===g?void 0:g.previousValue)&&(this._securedMethods=Object.assign({},this.securedMethods))}toggleAuth(n,d){this._securedMethods[d]=n.detail.checked}onConfirmAuth(){this.handleTwoFactorAuth.emit(this._securedMethods)}}return m.\u0275fac=function(n){return new(n||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-two-factor-modal"]],inputs:{securedMethods:"securedMethods"},outputs:{handleTwoFactorAuth:"handleTwoFactorAuth"},standalone:!0,features:[e.qOj,e.TTD,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","mb-8","px-1","sm:px-3"],["class","w-full flex items-center justify-between pb-3 my-4 border-b border-main-border",4,"ngFor","ngForOf"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],["appRippleEffect","",1,"btn-medium",3,"click"],["appRippleEffect","",1,"btn-blue","font-medium",3,"disabled","click"],[1,"w-full","flex","items-center","justify-between","pb-3","my-4","border-b","border-main-border"],[1,"text-lg","font-medium","text-text-strong"],[3,"checked","ionChange"]],template:function(n,d){1&n&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return d.handleDismiss()}),e.YNc(1,w,16,11,"ng-template"),e.qZA()),2&n&&e.Q6J("isOpen",d.isOpen)},dependencies:[r.ez,r.sg,o.Pc,o.gu,o.ho,o.ki,o.w,t.aw,t.X$,s.T,v.R],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto}ion-toggle[_ngcontent-%COMP%]{height:32px;width:65px;padding:0;--handle-width: 28px;--handle-height: 28px;--background: rgb(54, 55, 83);--background-checked: var(--accent-blue);--handle-background: rgb(107, 107, 143);--handle-background-checked: var(--main-blue);--handle-spacing: 2px;--border-radius: 16px}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}  .light-mode ion-toggle{--background: var(--grey-3);--handle-background: rgb(53, 53, 68, .34)}  .dark-mode ion-toggle{--background: #363753;--background-checked: #00328f;--handle-background: rgb(107, 107, 143)}"]}),m})();var p=a(4006),b=a(1169),O=a(6948);function E(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"h2",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-icon",5),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e.qZA()()(),e.TgZ(7,"div",6)(8,"app-phone-control",7),e.NdJ("onSelectPhoneCountry",function(g){e.CHM(n);const N=e.oxw();return e.KtG(N.onSelectPhoneCountry(g))})("onPhoneNumberChange",function(g){e.CHM(n);const N=e.oxw();return e.KtG(N.onPhoneNumberChange(g))}),e.qZA(),e.TgZ(9,"div",8)(10,"div",9),e._UZ(11,"ion-input",10),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onSendVerificationCode())}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9),e._UZ(18,"app-password-field",12),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"div",13)(21,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"button",15),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.forgetPhoneNumber())}),e._uU(25),e.ALo(26,"translate"),e.qZA()()()}if(2&m){const n=e.oxw();e.Q6J("formGroup",n.changePhoneNumberForm),e.xp6(4),e.hij(" ",e.lcZ(5,9,"forgot-password")," "),e.xp6(7),e.s9C("placeholder",e.lcZ(12,11,"verification-code")),e.xp6(2),e.Q6J("disabled",n.changePhoneNumberForm.controls.phoneNumber.invalid),e.xp6(1),e.hij(" ",e.lcZ(15,13,"get-sms-code")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(19,15,"new-password")),e.xp6(4),e.hij(" ",e.lcZ(23,17,"cancel")," "),e.xp6(2),e.Q6J("disabled",n.changePhoneNumberForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(26,19,"confirm")," ")}}let G=(()=>{class m extends L.u{constructor(n,d){super(),this.formBuilder=n,this.authService=d,this.handleForgotPassword=new e.vpe}ngOnInit(){this.changePhoneNumberForm=this.formBuilder.group({countryCode:["+86",[p.kI.required]],phoneNumber:[null,[p.kI.required]],verificationCode:[null,[p.kI.required]],newPassword:[null,[p.kI.required]]})}onSelectPhoneCountry(n){var d;n&&(null===(d=this.changePhoneNumberForm.get("countryCode"))||void 0===d||d.patchValue(n))}onPhoneNumberChange(n){var d;null===(d=this.changePhoneNumberForm.get("phoneNumber"))||void 0===d||d.patchValue(n)}onSendVerificationCode(){const n=this.changePhoneNumberForm.getRawValue();console.log("onSendVerificationCode",n),this.authService.sendSmsCode({type:U.eo.ResetPassword,mobileArea:n.countryCode?n.countryCode:"+86",mobile:n.phoneNumber}).pipe().subscribe(d=>{0===d.code?this.toast.toastSuccess("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001"):this.toast.toastError(d.message)})}forgetPhoneNumber(){this.changePhoneNumberForm.invalid||(this.handleForgotPassword.emit(this.changePhoneNumberForm.value),console.log("onSendVerificationCode"))}}return m.\u0275fac=function(n){return new(n||m)(e.Y36(p.qu),e.Y36(y.e))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-forgot-password-modal"]],outputs:{handleForgotPassword:"handleForgotPassword"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full",3,"formGroup"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","m-1","cursor-pointer",3,"click"],[1,"modal-content","px-1","sm:px-3"],[3,"onSelectPhoneCountry","onPhoneNumberChange"],[1,"sms-field","flex","w-full"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-l-lg","border","border-border-input","text-text-strong","text-xl"],["formControlName","verificationCode","required","",1,"sms-code",3,"placeholder"],[1,"btn-blue","sms-btn","border","border-border-input","rounded-r-lg","font-medium","text-text-strong","p-3","whitespace-nowrap",3,"disabled","click"],["formControlName","newPassword",1,"w-full",3,"placeholder"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],[1,"btn-medium","text-text-strong",3,"click"],[1,"btn-blue","font-medium",3,"disabled","click"]],template:function(n,d){1&n&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return d.handleDismiss()}),e.YNc(1,E,27,21,"ng-template"),e.qZA()),2&n&&e.Q6J("isOpen",d.isOpen)},dependencies:[r.ez,p.u5,p._Y,p.JJ,p.JL,p.Q7,p.UX,p.sg,p.u,t.aw,t.X$,o.Pc,o.gu,o.pK,o.ki,o.j9,s.T,O.b,b.b],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto;--overflow: visible}ion-modal[_ngcontent-%COMP%]     .ion-page{overflow:visible}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-font-weight: 500;--padding-top: 4px;--padding-bottom: 4px}ion-input.sms-code[_ngcontent-%COMP%]{--padding-start: 10px}.sms-field[_ngcontent-%COMP%]{margin-top:1.2rem}@media (min-width: 640px){.sms-field[_ngcontent-%COMP%]{margin-top:1.7rem}}.sms-btn[_ngcontent-%COMP%]{font-size:1.16rem}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}"]}),m})();var q=a(3259),X=a(5195),ee=a(6339);function oe(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-icon",5),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7),e._UZ(9,"img",8),e.TgZ(10,"p",9),e._uU(11," Scan the QR Code with your "),e.TgZ(12,"a",10),e._uU(13," Google Authenticator app "),e.qZA(),e._uU(14," . "),e.qZA(),e.TgZ(15,"div",11)(16,"ion-input",12),e.NdJ("ngModelChange",function(g){e.CHM(n);const N=e.oxw();return e.KtG(N.authCode=g)}),e.ALo(17,"translate"),e.qZA()()()(),e.TgZ(18,"div",13)(19,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"button",15),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onNext())}),e._uU(23),e.ALo(24,"translate"),e.qZA()()()}if(2&m){const n=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,8,"google-auth")," "),e.xp6(5),e.Q6J("src",n.qrcode,e.LSH),e.xp6(3),e.Q6J("href",n.googleAuthDownloadURL,e.LSH),e.xp6(4),e.s9C("placeholder",e.lcZ(17,10,"enter-code")),e.Q6J("ngModel",n.authCode),e.xp6(4),e.hij(" ",e.lcZ(21,12,"cancel")," "),e.xp6(2),e.Q6J("disabled",""===n.authCode),e.xp6(1),e.hij(" ",e.lcZ(24,14,"next")," ")}}let Q=(()=>{class m extends L.u{constructor(n,d){super(),this.platform=n,this.walletService=d,this.handleSuccess=new e.vpe,this.googleAuthDownloadURL="",this.authCode="",this.platform.ready().then(()=>{const g=X.aN.findIndex(N=>"Google Auth"===N.name);this.googleAuthDownloadURL=this.getGoogleAuthUrl(X.aN[g].url)})}ngOnInit(){this.getGoogleUrl()}getGoogleUrl(){this.walletService.getQrCode().pipe().subscribe(n=>(0,l.mG)(this,void 0,void 0,function*(){0===n.code&&(this.secretKey=n.data.secret,q.toDataURL(n.data.qrCode).then(d=>{console.log(d),this.qrcode=d}))}))}getGoogleAuthUrl(n){return Array.isArray(n)?n[this.platform.is("ios")?1:0]:n}onNext(){this.walletService.sendCode({code:this.authCode,secret:this.secretKey}).pipe().subscribe(n=>(0,l.mG)(this,void 0,void 0,function*(){0===n.code?setTimeout(()=>{this.toast.toastSuccess("Google Auth Setup Successfully"),this.handleSuccess.emit()},500):this.toast.toastError(n.message)}))}}return m.\u0275fac=function(n){return new(n||m)(e.Y36(o.t4),e.Y36(ee.X))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-google-auth-modal"]],outputs:{handleSuccess:"handleSuccess"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","flex","flex-col","items-center","justify-center","mb-8","px-1","sm:px-3"],[1,"w-4/5"],["alt","",1,"w-full",3,"src"],[1,"align-middle","text-text-strong","my-4"],[1,"text-main-blue",3,"href"],[1,"rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-2","text-text-strong"],[3,"placeholder","ngModel","ngModelChange"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],["appRippleEffect","",1,"btn-medium",3,"click"],["appRippleEffect","",1,"btn-blue","font-medium","capitalize",3,"disabled","click"]],template:function(n,d){1&n&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return d.handleDismiss()}),e.YNc(1,oe,25,16,"ng-template"),e.qZA()),2&n&&e.Q6J("isOpen",d.isOpen)},dependencies:[r.ez,p.u5,p.JJ,p.On,p.UX,t.aw,t.X$,o.Pc,o.gu,o.pK,o.ki,o.j9,s.T,v.R],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-weight: 500}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}"]}),m})();var z=a(2738);function te(m,T){1&m&&(e.TgZ(0,"div",54),e._uU(1),e.qZA()),2&m&&(e.xp6(1),e.Oqu("****"))}function Y(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",43)(1,"button",44),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(3);return g.isOpenTradingPINModal=!0,e.KtG(g.step=1)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&m&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"bind-now")," "))}function ie(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",45),e._UZ(1,"div",46),e.TgZ(2,"button",44),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(3);return g.isOpenTradingPINModal=!0,e.KtG(g.step=0)}),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&m&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"change-password")," "))}function V(m,T){if(1&m&&(e.TgZ(0,"div",42),e.YNc(1,te,2,1,"div",51),e.YNc(2,Y,4,3,"ng-template",null,52,e.W1O),e.YNc(4,ie,5,3,"div",53),e.qZA()),2&m){const n=e.MAs(3),d=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",d.paymentPassword)("ngIfElse",n),e.xp6(3),e.Q6J("ngIf",d.paymentPassword)}}function ne(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return g.isOpenTradingPINModal=!0,e.KtG(g.step=1)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&m&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"not-set")," "))}function j(m,T){1&m&&e._UZ(0,"ion-icon",41)}function K(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",42)(1,"div",54),e._uU(2),e.qZA(),e.TgZ(3,"div",45),e._UZ(4,"div",46),e.TgZ(5,"button",44),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenEditEmailModal=!0)}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&m){const n=e.oxw().ngIf;e.xp6(2),e.Oqu(n.email),e.xp6(4),e.hij(" ",e.lcZ(7,2,"security-change-email")," ")}}function H(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenEditEmailModal=!0)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&m&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"bind-now")," "))}function $(m,T){1&m&&e._UZ(0,"ion-icon",41)}function se(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e._uU(2),e.qZA(),e.TgZ(3,"div",45),e._UZ(4,"div",46),e.TgZ(5,"button",44),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenChangePhoneModal=!0)}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&m){const n=e.oxw().ngIf;e.xp6(2),e.Oqu(n.phone),e.xp6(4),e.hij(" ",e.lcZ(7,2,"change-number")," ")}}function ae(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",43)(1,"button",44),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenChangePhoneModal=!0)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&m&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"bind-now")," "))}function le(m,T){1&m&&(e.TgZ(0,"span"),e._uU(1," , "),e.qZA())}function ce(m,T){if(1&m&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.YNc(3,le,2,0,"span",62),e.qZA()),2&m){const n=T.$implicit,d=T.index,g=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,2,n)," "),e.xp6(2),e.Q6J("ngIf",d!==g.securedMethodsWith2FA.length-1)}}function de(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",57)(1,"div",58),e.YNc(2,ce,4,4,"span",59),e.qZA(),e.TgZ(3,"div",60),e._UZ(4,"div",61),e.TgZ(5,"button",50),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenTwoFactorAuthModal=!0)}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&m){const n=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",n.securedMethodsWith2FA),e.xp6(4),e.hij(" ",e.lcZ(7,2,"update-2FA")," ")}}function ue(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",43)(1,"button",50),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenTwoFactorAuthModal=!0)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&m&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"not-set")," "))}const re=function(m){return[m]};function ge(m,T){if(1&m){const n=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29),e._UZ(5,"ion-icon",30),e.qZA()(),e.TgZ(6,"div",31)(7,"div",32),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",33),e.YNc(11,V,5,3,"div",34),e.YNc(12,ne,3,3,"ng-template",null,35,e.W1O),e.qZA()(),e.TgZ(14,"div",27)(15,"div",28)(16,"div",29),e.YNc(17,j,1,0,"ion-icon",36),e.qZA()(),e.TgZ(18,"div",31)(19,"div",37),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",33),e.YNc(23,K,8,4,"div",34),e.YNc(24,H,3,3,"ng-template",null,38,e.W1O),e.qZA()(),e.TgZ(26,"div",27)(27,"div",28)(28,"div",29),e.YNc(29,$,1,0,"ion-icon",36),e.qZA()(),e.TgZ(30,"div",31)(31,"div",37),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",33),e.YNc(35,se,8,4,"div",39),e.YNc(36,ae,4,3,"ng-template",null,40,e.W1O),e.qZA()(),e.TgZ(38,"div",27)(39,"div",28)(40,"div",29),e._UZ(41,"ion-icon",41),e.qZA()(),e.TgZ(42,"div",31)(43,"div",37),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",33)(47,"div",42)(48,"div",43)(49,"button",44),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.isOpenLoginPasswordModal=!0)}),e._uU(50),e.ALo(51,"translate"),e.qZA()(),e.TgZ(52,"div",45),e._UZ(53,"div",46),e.TgZ(54,"button",44),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.isOpenForgotPasswordModal=!0)}),e._uU(55),e.ALo(56,"translate"),e.qZA()()()()(),e.TgZ(57,"div",27)(58,"div",28)(59,"div",29),e._UZ(60,"ion-icon",30),e.qZA()(),e.TgZ(61,"div",31)(62,"div",37),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.TgZ(65,"div",33),e.YNc(66,de,8,4,"div",47),e.YNc(67,ue,4,3,"ng-template",null,48,e.W1O),e.qZA()(),e.TgZ(69,"div",27)(70,"div",28)(71,"div",29),e._UZ(72,"ion-icon",30),e.qZA()(),e.TgZ(73,"div",31)(74,"div",37),e._uU(75),e.ALo(76,"translate"),e.qZA()(),e.TgZ(77,"div",33)(78,"div",49)(79,"button",50),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.isOpenGoogleAuthModal=!0)}),e._uU(80),e.ALo(81,"translate"),e.qZA()()()()()()}if(2&m){const n=T.ngIf,d=e.MAs(13),g=e.MAs(25),N=e.MAs(37),R=e.MAs(68),D=e.oxw();e.xp6(5),e.Q6J("ngClass",e.VKq(40,re,n.paymentPassword?"text-main-green":"text-grey-2")),e.xp6(3),e.hij(" ",e.lcZ(9,22,"trading-password")," "),e.xp6(3),e.Q6J("ngIf",n.paymentPassword)("ngIfElse",d),e.xp6(6),e.Q6J("ngIf",n.email),e.xp6(3),e.hij(" ",e.lcZ(21,24,"email")," "),e.xp6(3),e.Q6J("ngIf",n.email)("ngIfElse",g),e.xp6(6),e.Q6J("ngIf",n.phone),e.xp6(3),e.hij(" ",e.lcZ(33,26,"phone-number")," "),e.xp6(3),e.Q6J("ngIf",n.phone)("ngIfElse",N),e.xp6(9),e.hij(" ",e.lcZ(45,28,"login-password")," "),e.xp6(6),e.hij(" ",e.lcZ(51,30,"change-password")," "),e.xp6(5),e.hij(" ",e.lcZ(56,32,"forgot-password")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(42,re,D.securedMethodsWith2FA.length>0?"text-main-green":"text-grey-2")),e.xp6(3),e.hij(" ",e.lcZ(64,34,"require-2FA")," "),e.xp6(3),e.Q6J("ngIf",D.securedMethodsWith2FA.length>0)("ngIfElse",R),e.xp6(6),e.Q6J("ngClass",e.VKq(44,re,n.googleAuthSecret.length>0?"text-main-green":"text-grey-2")),e.xp6(3),e.hij(" ",e.lcZ(76,36,"google-auth")," "),e.xp6(5),e.hij(" ",e.lcZ(81,38,"set-up")," ")}}const he=function(m){return{"background-image":m}},me=[{path:"",component:(()=>{class m extends f.H{constructor(n,d){super(),this.userService=n,this.authService=d,this.isOpenTradingPINModal=!1,this.isOpenChangePhoneModal=!1,this.isOpenEditEmailModal=!1,this.isOpenLoginPasswordModal=!1,this.isOpenTwoFactorAuthModal=!1,this.isOpenForgotPasswordModal=!1,this.isOpenGoogleAuthModal=!1,this.tradingPIN="0218",this.securedMethods={login:!1,payment:!1,activateStrategy:!1,bindExchange:!1},this.securedMethodsWith2FA=[],this.hasGoogleAuthenticator=!1,this.step=0}ngOnInit(){this.get2FAStatus()}get securityLevel(){let n=1;return this.userService._userInfo&&(this.userService._userInfo.paymentPassword&&n++,this.userService._userInfo.email&&n++,this.userService._userInfo.phone&&n++,this.securedMethodsWith2FA.length>0&&n++,this.userService._userInfo.googleAuthSecret.length>0&&n++),n}get securityLevelBackground(){return`conic-gradient(var(--main-green) 0 ${60*this.securityLevel}deg, var(--security-level) 0 288deg)`}get2FAStatus(){this.authService.getTwoFactorAuth().pipe().subscribe(n=>(0,l.mG)(this,void 0,void 0,function*(){if(0!==n.code)return;const g=Object.entries(n.data[0]).filter(([N,R])=>!0===R).map(([N,R])=>N);this.securedMethodsWith2FA=g;for(const N of g)this.securedMethods.hasOwnProperty(N)&&(this.securedMethods[N]=!0)}))}handleChangeEmailNumber(n){console.log(n),this.authService.bindEmail({email:n.email,emailCode:n.verificationCode}).pipe().subscribe(d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.isOpenEditEmailModal=!1):this.toast.toastError(d.message)}))}onChangeLoginPassword(n){console.log(n),this.authService.modifyPassword({oldPassword:P(n.currentPassword).toString(),newPassword:P(n.confirmNewPassword).toString()}).pipe().subscribe(d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.isOpenLoginPasswordModal=!1):this.toast.toastError(d.message)}))}onChangeTradingPIN(n){console.log("Change Trading Password Form",n),console.log(this.userService._userInfo.paymentPassword,n[0]),this.userService._userInfo.paymentPassword&&0!==n[0].length?(this.authService.modifyPaymentPassword({oldPassword:P(n[0]).toString(),newPassword:P(n[1]).toString()}).subscribe({next:d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),console.log(d)):this.toast.toastError(d.message)}),error:d=>{console.error(d)}}).add(),this.isOpenTradingPINModal=!1):(this.authService.modifyPaymentPassword({newPassword:P(n[2]).toString()}).subscribe({next:d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u8bbe\u7f6e\u6210\u529f"),console.log(d)):this.toast.toastError(d.message)}),error:d=>{console.error(d)}}).add(),this.isOpenTradingPINModal=!1)}onChangePhoneNumber(n){this.authService.bindMobile({smsCode:n.verificationCode,mobileArea:n.countryCode?n.countryCode:"+86",mobile:n.phoneNumber}).pipe().subscribe(d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.isOpenChangePhoneModal=!1):this.toast.toastError(d.message)}))}onChangeTwoFactorAuth(n){this.securedMethods=n;const d=Object.keys(this.securedMethods).filter(R=>this.securedMethods[R]);this.securedMethodsWith2FA=d.map(R=>{const D=h.find(W=>W.key===R);return D?D.key:""}),console.log("this.securedMethods",this.securedMethods),console.log("this.securedMethodsWith2FA",this.securedMethodsWith2FA);const N=[{type:1,login:!1,payment:!1,activateStrategy:!1,bindExchange:!1},{type:2,login:!1,payment:!1,activateStrategy:!1,bindExchange:!1}].map(R=>{if(1===R.type){const D={};for(const W in R)D[W]=!!this.securedMethodsWith2FA.includes(W);return D.type=1,D}return R});console.log("authFields",N),this.authService.twoFactorAuth({factorFields:N}).pipe().subscribe(R=>(0,l.mG)(this,void 0,void 0,function*(){0===R.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f")):this.toast.toastError(R.message)})),this.isOpenTwoFactorAuthModal=!1}onGoogleAuthSetup(){return(0,l.mG)(this,void 0,void 0,function*(){this.hasGoogleAuthenticator=!0,yield this.userService.updateUserInfo(),setTimeout(()=>{this.isOpenGoogleAuthModal=!1},500)})}handleForgotPassword(n){console.log(n),this.authService.forgetPassword({codeType:"sms_code",code:n.verificationCode,newPassword:P(n.newPassword).toString(),mobileArea:n.countryCode,mobile:n.phoneNumber}).pipe().subscribe(d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.isOpenForgotPasswordModal=!1):this.toast.toastError(d.message)}))}}return m.\u0275fac=function(n){return new(n||m)(e.Y36(_.K),e.Y36(y.e))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-security"]],features:[e.qOj],decls:37,vars:39,consts:[[1,"flex","flex-col","w-full","sm:px-5","py-4"],[1,"flex","flex-auto","items-center","sm:justify-between","w-full"],[1,"block","sm:hidden","mr-1","cursor-pointer","w-8","h-8",3,"routerLink"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"text-lg","xs:text-2xl","text-text-strong","font-medium"],[1,"security"],[1,"security__level"],[1,"flex","items-center","gap-x-2"],[1,"relative","w-14","h-14","rounded-full","bg-main-bg"],[1,"absolute","rounded-full","w-full","h-full",3,"ngStyle"],[1,"security-circle","absolute","flex","items-center","justify-center","inset-0","w-11","h-11","m-auto","rounded-full"],[1,"text-3xl","icon-shieldok","text-main-green"],[1,"flex","flex-col"],[1,"text-2xl","text-text-strong","font-medium"],[1,"text-sm","font-medium","text-red-1"],[1,"text-sm","font-medium","text-main-yellow"],[1,"text-sm","font-medium","text-main-green"],["class","px-2 sm:px-0 sm:ml-5 sm:table sm:table-auto w-full font-medium sm:max-w-fit",4,"ngIf"],[3,"currentPIN","step","isOpen","handleChangeTradingPIN","isOpenChange"],[3,"isOpen","handleChangePhoneNumber","isOpenChange"],[3,"isOpen","handleChangePassword","isOpenChange"],[3,"securedMethods","isOpen","handleTwoFactorAuth","isOpenChange"],[3,"isOpen","isOpenChange","handleChangeEmailNumber"],[3,"isOpen","isOpenChange","handleForgotPassword"],[3,"isOpen","isOpenChange","handleSuccess"],[1,"px-2","sm:px-0","sm:ml-5","sm:table","sm:table-auto","w-full","font-medium","sm:max-w-fit"],[1,"block","sm:table-row-group"],[1,"block","sm:table-row","mb-4","sm:mb-0","border-b","border-main-border"],[1,"security-level-cell"],[1,"flex","items-center"],["name","checkmark-circle-outline",1,"w-8","h-8",3,"ngClass"],[1,"security-info-key-cell"],[1,"flex","items-center","h-full","whitespace-nowrap"],[1,"security-info-value-cell"],["class","flex w-full",4,"ngIf","ngIfElse"],["setTradingPasswordTemplate",""],["class","text-main-green w-8 h-8","name","checkmark-circle-outline",4,"ngIf"],[1,"flex","items-center","h-full","justify-end"],["setUserEmailTemplate",""],["class","flex",4,"ngIf","ngIfElse"],["setPhoneNumberTemplate",""],["name","checkmark-circle-outline",1,"text-main-green","w-8","h-8"],[1,"flex","w-full"],[1,"w-1/2","pr-4","md:pr-6"],[1,"primary-btn","w-full",3,"click"],[1,"flex","w-1/2"],[1,"border-l","border-main-border","pr-4","md:pr-6","my-1"],["class","flex w-full max-w-sm sm:max-w-none",4,"ngIf","ngIfElse"],["setTwoFactorTemplate",""],[1,"flex","w-1/2","max-w-sm","sm:max-w-none","pr-4","md-pr-6"],["appRippleEffect","",1,"primary-btn","w-full",3,"click"],["class","flex items-center select-none w-1/2",4,"ngIf","ngIfElse"],["noPassword",""],["class","flex w-1/2",4,"ngIf"],[1,"flex","items-center","select-none","w-1/2"],[1,"flex"],[1,"flex","items-center","w-1/2"],[1,"flex","w-full","max-w-sm","sm:max-w-none"],[1,"w-1/2"],[4,"ngFor","ngForOf"],[1,"flex","w-1/2","items-center"],[1,"border-l","border-main-border","pr-4","md:pr-6","my-1","h-9"],[4,"ngIf"]],template:function(n,d){1&n&&(e.TgZ(0,"ng-scrollbar")(1,"div",0)(2,"div",1)(3,"div",2),e._UZ(4,"ion-icon",3),e.qZA(),e.TgZ(5,"h1",4),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),e._UZ(12,"div",9),e.TgZ(13,"div",10),e._UZ(14,"i",11),e.qZA()(),e.TgZ(15,"div",12)(16,"h2",13),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"span",14),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"span",15),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"span",16),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.YNc(28,ge,82,46,"div",17),e.ALo(29,"async"),e.qZA()(),e.TgZ(30,"app-trading-password-modal",18),e.NdJ("handleChangeTradingPIN",function(N){return d.onChangeTradingPIN(N)})("isOpenChange",function(N){return d.isOpenTradingPINModal=N}),e.qZA(),e.TgZ(31,"app-edit-phone-modal",19),e.NdJ("handleChangePhoneNumber",function(N){return d.onChangePhoneNumber(N)})("isOpenChange",function(N){return d.isOpenChangePhoneModal=N}),e.qZA(),e.TgZ(32,"app-change-password-modal",20),e.NdJ("handleChangePassword",function(N){return d.onChangeLoginPassword(N)})("isOpenChange",function(N){return d.isOpenLoginPasswordModal=N}),e.qZA(),e.TgZ(33,"app-two-factor-modal",21),e.NdJ("handleTwoFactorAuth",function(N){return d.onChangeTwoFactorAuth(N)})("isOpenChange",function(N){return d.isOpenTwoFactorAuthModal=N}),e.qZA(),e.TgZ(34,"app-edit-email-modal",22),e.NdJ("isOpenChange",function(N){return d.isOpenEditEmailModal=N})("handleChangeEmailNumber",function(N){return d.handleChangeEmailNumber(N)}),e.qZA(),e.TgZ(35,"app-forgot-password-modal",23),e.NdJ("isOpenChange",function(N){return d.isOpenForgotPasswordModal=N})("handleForgotPassword",function(N){return d.handleForgotPassword(N)}),e.qZA(),e.TgZ(36,"app-google-auth-modal",24),e.NdJ("isOpenChange",function(N){return d.isOpenGoogleAuthModal=N})("handleSuccess",function(){return d.onGoogleAuthSetup()}),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("routerLink","/m"),e.xp6(3),e.hij(" ",e.lcZ(7,25,"security")," "),e.xp6(6),e.Q6J("ngStyle",e.VKq(37,he,d.securityLevelBackground)),e.xp6(5),e.AsE(" ",e.lcZ(18,27,"security-level")," ",d.securityLevel,"/6 "),e.xp6(2),e.ekj("hidden",d.securityLevel>3),e.xp6(1),e.hij(" ",e.lcZ(21,29,"low-security")," "),e.xp6(2),e.ekj("hidden",d.securityLevel>5||d.securityLevel<4),e.xp6(1),e.hij(" ",e.lcZ(24,31,"medium-security")," "),e.xp6(2),e.ekj("hidden",d.securityLevel<6),e.xp6(1),e.hij(" ",e.lcZ(27,33,"full-secured"),"! "),e.xp6(2),e.Q6J("ngIf",e.lcZ(29,35,d.userService.userInfo$)),e.xp6(2),e.Q6J("currentPIN",d.tradingPIN)("step",d.step)("isOpen",d.isOpenTradingPINModal),e.xp6(1),e.Q6J("isOpen",d.isOpenChangePhoneModal),e.xp6(1),e.Q6J("isOpen",d.isOpenLoginPasswordModal),e.xp6(1),e.Q6J("securedMethods",d.securedMethods)("isOpen",d.isOpenTwoFactorAuthModal),e.xp6(1),e.Q6J("isOpen",d.isOpenEditEmailModal),e.xp6(1),e.Q6J("isOpen",d.isOpenForgotPasswordModal),e.xp6(1),e.Q6J("isOpen",d.isOpenGoogleAuthModal))},dependencies:[r.mk,r.sg,r.O5,r.PC,o.gu,o.YI,i.KC,u.rH,v.R,J,C.q,A.N,Z,G,Q,z.T,r.Ov,t.X$],styles:[".dark-mode .security__level{background-color:rgba(41,42,63,.59);border:2px solid rgba(70,70,97,.231372549)}  .dark-mode .security-circle{background-color:var(--grey-4)}  .light-mode .security__level{border-width:2px;border-color:var(--grey-3);--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}  .light-mode .security-circle{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}button.primary-btn[_ngcontent-%COMP%]{max-width:176px}.security[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;flex-direction:column;padding-left:.625rem;padding-right:.625rem}@media (min-width: 640px){.security[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.security__level[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem;display:flex;align-items:center;justify-content:space-between;border-radius:.375rem;padding:1.75rem .5rem}@media (min-width: 340px){.security__level[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}.security-level-cell[_ngcontent-%COMP%]{display:none;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-left:0;padding-right:0;vertical-align:middle}@media (min-width: 640px){.security-level-cell[_ngcontent-%COMP%]{display:table-cell;padding-left:.5rem;padding-right:.5rem}}@media (min-width: 1024px){.security-level-cell[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}.security-info-key-cell[_ngcontent-%COMP%]{display:block;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-left:0;padding-right:0;text-align:right;font-size:1.25rem;line-height:1.75rem;font-weight:500}@media (min-width: 640px){.security-info-key-cell[_ngcontent-%COMP%]{display:table-cell;padding-left:.5rem;padding-right:.5rem;font-size:1rem;line-height:1.5rem}}@media (min-width: 768px){.security-info-key-cell[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width: 640px){.security-info-key-cell[_ngcontent-%COMP%]{height:60px}}@media (min-width: 768px){.security-info-key-cell[_ngcontent-%COMP%]{height:68px}}.security-info-value-cell[_ngcontent-%COMP%]{display:block;width:100%;padding-top:.5rem;padding-bottom:.5rem;vertical-align:middle;color:var(--text-strong)}@media (min-width: 640px){.security-info-value-cell[_ngcontent-%COMP%]{display:table-cell}}@media (min-width: 768px){.security-info-value-cell[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}}@media (min-width: 640px){.security-info-value-cell[_ngcontent-%COMP%]{height:68px;width:400px}}"]}),m})()}];let fe=(()=>{class m{}return m.\u0275fac=function(n){return new(n||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[u.Bz.forChild(me),u.Bz]}),m})(),pe=(()=>{class m{}return m.\u0275fac=function(n){return new(n||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[r.ez,o.Pc,t.aw,i.kb,fe,s.T,J,C.q,A.N,Z,G,Q,z.T]}),m})()},6339:(k,c,a)=>{"use strict";a.d(c,{X:()=>i});var r=a(2340),o=a(4650),t=a(529);let i=(()=>{class s{constructor(l){this.http=l}ottoOptionsLog(l,h,f){return this.http.get(`${r.N.BASE_URL}/user/wallet/ottoOptionsLog?balanceType=${f}&page=${l}&rows=${h}`)}balanceLog(l,h,f){return this.http.get(`${r.N.BASE_URL}/user/wallet/balanceLog?balanceType=${f}&page=${l}&rows=${h}`)}giftLog(l,h,f){return this.http.get(`${r.N.BASE_URL}/user/wallet/giftLog?balanceType=${f}&page=${l}&rows=${h}`)}pointLog(l,h,f){return this.http.get(`${r.N.BASE_URL}/user/wallet/pointLog?balanceType=${f}&page=${l}&rows=${h}`)}walletInfo(){return this.http.get(`${r.N.BASE_URL}/user/wallet/info`)}buyGift(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/buyGift`,l)}pointExchangeBalance(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/pointExchangeBalance`,l)}exchangeOttoOptions(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/exchangeOttoOptions`,l)}exchangeGift(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/exchangeGift`,l)}givePoint(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/giveBalance`,l)}getQrCode(){return this.http.get(`${r.N.BASE_URL}/user/setUp/googleAuth/getQrCode`)}sendCode(l){return this.http.post(`${r.N.BASE_URL}/user/setUp/googleAuth/bindGoogleAuth`,l)}}return s.\u0275fac=function(l){return new(l||s)(o.LFG(t.eN))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4901:k=>{"use strict";var c={single_source_shortest_paths:function(a,r,o){var t={},i={};i[r]=0;var u,l,h,f,P,_,s=c.PriorityQueue.make();for(s.push(r,0);!s.empty();)for(h in f=(u=s.pop()).cost,P=a[l=u.value]||{})P.hasOwnProperty(h)&&(_=f+P[h],(typeof i[h]>"u"||i[h]>_)&&(i[h]=_,s.push(h,_),t[h]=l));if(typeof o<"u"&&typeof i[o]>"u"){var U=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(U)}return t},extract_shortest_path_from_predecessor_list:function(a,r){for(var o=[],t=r;t;)o.push(t),t=a[t];return o.reverse(),o},find_path:function(a,r,o){var t=c.single_source_shortest_paths(a,r,o);return c.extract_shortest_path_from_predecessor_list(t,o)},PriorityQueue:{make:function(a){var t,r=c.PriorityQueue,o={};for(t in a=a||{},r)r.hasOwnProperty(t)&&(o[t]=r[t]);return o.queue=[],o.sorter=a.sorter||r.default_sorter,o},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){this.queue.push({value:a,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};k.exports=c},8419:k=>{"use strict";k.exports=function(a){for(var r=[],o=a.length,t=0;t<o;t++){var i=a.charCodeAt(t);if(i>=55296&&i<=56319&&o>t+1){var s=a.charCodeAt(t+1);s>=56320&&s<=57343&&(i=1024*(i-55296)+s-56320+65536,t+=1)}i<128?r.push(i):i<2048?(r.push(i>>6|192),r.push(63&i|128)):i<55296||i>=57344&&i<65536?(r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)):i>=65536&&i<=1114111?(r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)):r.push(239,191,189)}return new Uint8Array(r).buffer}},3259:(k,c,a)=>{const r=a(8695),o=a(1465),t=a(3210),i=a(2334);function s(u,l,h,f,P){const e=[].slice.call(arguments,1),_=e.length,y="function"==typeof e[_-1];if(!y&&!r())throw new Error("Callback required as last argument");if(!y){if(_<1)throw new Error("Too few arguments provided");return 1===_?(h=l,l=f=void 0):2===_&&!l.getContext&&(f=h,h=l,l=void 0),new Promise(function(v,U){try{const L=o.create(h,f);v(u(L,l,f))}catch(L){U(L)}})}if(_<2)throw new Error("Too few arguments provided");2===_?(P=h,h=l,l=f=void 0):3===_&&(l.getContext&&typeof P>"u"?(P=f,f=void 0):(P=f,f=h,h=l,l=void 0));try{const v=o.create(h,f);P(null,u(v,l,f))}catch(v){P(v)}}c.create=o.create,c.toCanvas=s.bind(null,t.render),c.toDataURL=s.bind(null,t.renderToDataURL),c.toString=s.bind(null,function(u,l,h){return i.render(u,h)})},8695:k=>{k.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(k,c,a)=>{const r=a(4792).getSymbolSize;c.getRowColCoords=function(t){if(1===t)return[];const i=Math.floor(t/7)+2,s=r(t),u=145===s?26:2*Math.ceil((s-13)/(2*i-2)),l=[s-7];for(let h=1;h<i-1;h++)l[h]=l[h-1]-u;return l.push(6),l.reverse()},c.getPositions=function(t){const i=[],s=c.getRowColCoords(t),u=s.length;for(let l=0;l<u;l++)for(let h=0;h<u;h++)0===l&&0===h||0===l&&h===u-1||l===u-1&&0===h||i.push([s[l],s[h]]);return i}},2424:(k,c,a)=>{const r=a(4016),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(i){this.mode=r.ALPHANUMERIC,this.data=i}t.getBitsLength=function(s){return 11*Math.floor(s/2)+s%2*6},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){let u;for(u=0;u+2<=this.data.length;u+=2){let l=45*o.indexOf(this.data[u]);l+=o.indexOf(this.data[u+1]),s.put(l,11)}this.data.length%2&&s.put(o.indexOf(this.data[u]),6)},k.exports=t},2118:k=>{function c(){this.buffer=[],this.length=0}c.prototype={get:function(a){const r=Math.floor(a/8);return 1==(this.buffer[r]>>>7-a%8&1)},put:function(a,r){for(let o=0;o<r;o++)this.putBit(1==(a>>>r-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),a&&(this.buffer[r]|=128>>>this.length%8),this.length++}},k.exports=c},4425:k=>{function c(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}c.prototype.set=function(a,r,o,t){const i=a*this.size+r;this.data[i]=o,t&&(this.reservedBit[i]=!0)},c.prototype.get=function(a,r){return this.data[a*this.size+r]},c.prototype.xor=function(a,r,o){this.data[a*this.size+r]^=o},c.prototype.isReserved=function(a,r){return this.reservedBit[a*this.size+r]},k.exports=c},5663:(k,c,a)=>{const r=a(8419),o=a(4016);function t(i){this.mode=o.BYTE,"string"==typeof i&&(i=r(i)),this.data=new Uint8Array(i)}t.getBitsLength=function(s){return 8*s},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){for(let s=0,u=this.data.length;s<u;s++)i.put(this.data[s],8)},k.exports=t},4655:(k,c,a)=>{const r=a(2259),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];c.getBlocksCount=function(s,u){switch(u){case r.L:return o[4*(s-1)+0];case r.M:return o[4*(s-1)+1];case r.Q:return o[4*(s-1)+2];case r.H:return o[4*(s-1)+3];default:return}},c.getTotalCodewordsCount=function(s,u){switch(u){case r.L:return t[4*(s-1)+0];case r.M:return t[4*(s-1)+1];case r.Q:return t[4*(s-1)+2];case r.H:return t[4*(s-1)+3];default:return}}},2259:(k,c)=>{c.L={bit:1},c.M={bit:0},c.Q={bit:3},c.H={bit:2},c.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},c.from=function(o,t){if(c.isValid(o))return o;try{return function a(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return c.L;case"m":case"medium":return c.M;case"q":case"quartile":return c.Q;case"h":case"high":return c.H;default:throw new Error("Unknown EC Level: "+r)}}(o)}catch(i){return t}}},3114:(k,c,a)=>{const r=a(4792).getSymbolSize;c.getPositions=function(i){const s=r(i);return[[0,0],[s-7,0],[0,s-7]]}},7078:(k,c,a)=>{const r=a(4792),i=r.getBCHDigit(1335);c.getEncodedBits=function(u,l){const h=u.bit<<3|l;let f=h<<10;for(;r.getBCHDigit(f)-i>=0;)f^=1335<<r.getBCHDigit(f)-i;return 21522^(h<<10|f)}},5339:(k,c)=>{const a=new Uint8Array(512),r=new Uint8Array(256);(function(){let t=1;for(let i=0;i<255;i++)a[i]=t,r[t]=i,t<<=1,256&t&&(t^=285);for(let i=255;i<512;i++)a[i]=a[i-255]})(),c.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},c.exp=function(t){return a[t]},c.mul=function(t,i){return 0===t||0===i?0:a[r[t]+r[i]]}},449:(k,c,a)=>{const r=a(4016),o=a(4792);function t(i){this.mode=r.KANJI,this.data=i}t.getBitsLength=function(s){return 13*s},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let s;for(s=0;s<this.data.length;s++){let u=o.toSJIS(this.data[s]);if(u>=33088&&u<=40956)u-=33088;else{if(!(u>=57408&&u<=60351))throw new Error("Invalid SJIS character: "+this.data[s]+"\nMake sure your charset is UTF-8");u-=49472}u=192*(u>>>8&255)+(255&u),i.put(u,13)}},k.exports=t},3667:(k,c)=>{c.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(o,t,i){switch(o){case c.Patterns.PATTERN000:return(t+i)%2==0;case c.Patterns.PATTERN001:return t%2==0;case c.Patterns.PATTERN010:return i%3==0;case c.Patterns.PATTERN011:return(t+i)%3==0;case c.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case c.Patterns.PATTERN101:return t*i%2+t*i%3==0;case c.Patterns.PATTERN110:return(t*i%2+t*i%3)%2==0;case c.Patterns.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}}c.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},c.from=function(t){return c.isValid(t)?parseInt(t,10):void 0},c.getPenaltyN1=function(t){const i=t.size;let s=0,u=0,l=0,h=null,f=null;for(let P=0;P<i;P++){u=l=0,h=f=null;for(let e=0;e<i;e++){let _=t.get(P,e);_===h?u++:(u>=5&&(s+=u-5+3),h=_,u=1),_=t.get(e,P),_===f?l++:(l>=5&&(s+=l-5+3),f=_,l=1)}u>=5&&(s+=u-5+3),l>=5&&(s+=l-5+3)}return s},c.getPenaltyN2=function(t){const i=t.size;let s=0;for(let u=0;u<i-1;u++)for(let l=0;l<i-1;l++){const h=t.get(u,l)+t.get(u,l+1)+t.get(u+1,l)+t.get(u+1,l+1);(4===h||0===h)&&s++}return 3*s},c.getPenaltyN3=function(t){const i=t.size;let s=0,u=0,l=0;for(let h=0;h<i;h++){u=l=0;for(let f=0;f<i;f++)u=u<<1&2047|t.get(h,f),f>=10&&(1488===u||93===u)&&s++,l=l<<1&2047|t.get(f,h),f>=10&&(1488===l||93===l)&&s++}return 40*s},c.getPenaltyN4=function(t){let i=0;const s=t.data.length;for(let l=0;l<s;l++)i+=t.data[l];return 10*Math.abs(Math.ceil(100*i/s/5)-10)},c.applyMask=function(t,i){const s=i.size;for(let u=0;u<s;u++)for(let l=0;l<s;l++)i.isReserved(l,u)||i.xor(l,u,r(t,l,u))},c.getBestMask=function(t,i){const s=Object.keys(c.Patterns).length;let u=0,l=1/0;for(let h=0;h<s;h++){i(h),c.applyMask(h,t);const f=c.getPenaltyN1(t)+c.getPenaltyN2(t)+c.getPenaltyN3(t)+c.getPenaltyN4(t);c.applyMask(h,t),f<l&&(l=f,u=h)}return u}},4016:(k,c,a)=>{const r=a(4406),o=a(2699);c.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},c.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},c.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},c.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},c.MIXED={bit:-1},c.getCharCountIndicator=function(s,u){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!r.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?s.ccBits[0]:u<27?s.ccBits[1]:s.ccBits[2]},c.getBestModeForData=function(s){return o.testNumeric(s)?c.NUMERIC:o.testAlphanumeric(s)?c.ALPHANUMERIC:o.testKanji(s)?c.KANJI:c.BYTE},c.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},c.isValid=function(s){return s&&s.bit&&s.ccBits},c.from=function(s,u){if(c.isValid(s))return s;try{return function t(i){if("string"!=typeof i)throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return c.NUMERIC;case"alphanumeric":return c.ALPHANUMERIC;case"kanji":return c.KANJI;case"byte":return c.BYTE;default:throw new Error("Unknown mode: "+i)}}(s)}catch(l){return u}}},7783:(k,c,a)=>{const r=a(4016);function o(t){this.mode=r.NUMERIC,this.data=t.toString()}o.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){let s,u,l;for(s=0;s+3<=this.data.length;s+=3)u=this.data.substr(s,3),l=parseInt(u,10),i.put(l,10);const h=this.data.length-s;h>0&&(u=this.data.substr(s),l=parseInt(u,10),i.put(l,3*h+1))},k.exports=o},1106:(k,c,a)=>{const r=a(5339);c.mul=function(t,i){const s=new Uint8Array(t.length+i.length-1);for(let u=0;u<t.length;u++)for(let l=0;l<i.length;l++)s[u+l]^=r.mul(t[u],i[l]);return s},c.mod=function(t,i){let s=new Uint8Array(t);for(;s.length-i.length>=0;){const u=s[0];for(let h=0;h<i.length;h++)s[h]^=r.mul(i[h],u);let l=0;for(;l<s.length&&0===s[l];)l++;s=s.slice(l)}return s},c.generateECPolynomial=function(t){let i=new Uint8Array([1]);for(let s=0;s<t;s++)i=c.mul(i,new Uint8Array([1,r.exp(s)]));return i}},1465:(k,c,a)=>{const r=a(4792),o=a(2259),t=a(2118),i=a(4425),s=a(6221),u=a(3114),l=a(3667),h=a(4655),f=a(2636),P=a(2088),e=a(7078),_=a(4016),y=a(2033);function F(C,A,x){const w=C.size,Z=e.getEncodedBits(A,x);let p,b;for(p=0;p<15;p++)b=1==(Z>>p&1),C.set(p<6?p:p<8?p+1:w-15+p,8,b,!0),C.set(8,p<8?w-p-1:p<9?15-p-1+1:15-p-1,b,!0);C.set(w-8,8,1,!0)}function J(C,A,x,w){let Z;if(Array.isArray(C))Z=y.fromArray(C);else{if("string"!=typeof C)throw new Error("Invalid data");{let G=A;if(!G){const q=y.rawSplit(C);G=P.getBestVersionForData(q,x)}Z=y.fromString(C,G||40)}}const p=P.getBestVersionForData(Z,x);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(A){if(A<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else A=p;const b=function M(C,A,x){const w=new t;x.forEach(function(E){w.put(E.mode.bit,4),w.put(E.getLength(),_.getCharCountIndicator(E.mode,C)),E.write(w)});const b=8*(r.getSymbolTotalCodewords(C)-h.getTotalCodewordsCount(C,A));for(w.getLengthInBits()+4<=b&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(0);const O=(b-w.getLengthInBits())/8;for(let E=0;E<O;E++)w.put(E%2?17:236,8);return function B(C,A,x){const w=r.getSymbolTotalCodewords(A),p=w-h.getTotalCodewordsCount(A,x),b=h.getBlocksCount(A,x),E=b-w%b,G=Math.floor(w/b),q=Math.floor(p/b),X=q+1,ee=G-q,oe=new f(ee);let Q=0;const z=new Array(b),te=new Array(b);let Y=0;const ie=new Uint8Array(C.buffer);for(let H=0;H<b;H++){const $=H<E?q:X;z[H]=ie.slice(Q,Q+$),te[H]=oe.encode(z[H]),Q+=$,Y=Math.max(Y,$)}const V=new Uint8Array(w);let j,K,ne=0;for(j=0;j<Y;j++)for(K=0;K<b;K++)j<z[K].length&&(V[ne++]=z[K][j]);for(j=0;j<ee;j++)for(K=0;K<b;K++)V[ne++]=te[K][j];return V}(w,C,A)}(A,x,Z),O=r.getSymbolSize(A),E=new i(O);return function v(C,A){const x=C.size,w=u.getPositions(A);for(let Z=0;Z<w.length;Z++){const p=w[Z][0],b=w[Z][1];for(let O=-1;O<=7;O++)if(!(p+O<=-1||x<=p+O))for(let E=-1;E<=7;E++)b+E<=-1||x<=b+E||C.set(p+O,b+E,O>=0&&O<=6&&(0===E||6===E)||E>=0&&E<=6&&(0===O||6===O)||O>=2&&O<=4&&E>=2&&E<=4,!0)}}(E,A),function U(C){const A=C.size;for(let x=8;x<A-8;x++){const w=x%2==0;C.set(x,6,w,!0),C.set(6,x,w,!0)}}(E),function L(C,A){const x=s.getPositions(A);for(let w=0;w<x.length;w++){const Z=x[w][0],p=x[w][1];for(let b=-2;b<=2;b++)for(let O=-2;O<=2;O++)C.set(Z+b,p+O,-2===b||2===b||-2===O||2===O||0===b&&0===O,!0)}}(E,A),F(E,x,0),A>=7&&function I(C,A){const x=C.size,w=P.getEncodedBits(A);let Z,p,b;for(let O=0;O<18;O++)Z=Math.floor(O/3),p=O%3+x-8-3,b=1==(w>>O&1),C.set(Z,p,b,!0),C.set(p,Z,b,!0)}(E,A),function S(C,A){const x=C.size;let w=-1,Z=x-1,p=7,b=0;for(let O=x-1;O>0;O-=2)for(6===O&&O--;;){for(let E=0;E<2;E++)if(!C.isReserved(Z,O-E)){let G=!1;b<A.length&&(G=1==(A[b]>>>p&1)),C.set(Z,O-E,G),p--,-1===p&&(b++,p=7)}if(Z+=w,Z<0||x<=Z){Z-=w,w=-w;break}}}(E,b),isNaN(w)&&(w=l.getBestMask(E,F.bind(null,E,x))),l.applyMask(w,E),F(E,x,w),{modules:E,version:A,errorCorrectionLevel:x,maskPattern:w,segments:Z}}c.create=function(A,x){if(typeof A>"u"||""===A)throw new Error("No input text");let Z,p,w=o.M;return typeof x<"u"&&(w=o.from(x.errorCorrectionLevel,o.M),Z=P.from(x.version),p=l.from(x.maskPattern),x.toSJISFunc&&r.setToSJISFunction(x.toSJISFunc)),J(A,Z,w,p)}},2636:(k,c,a)=>{const r=a(1106);function o(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(i){this.degree=i,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(i.length+this.degree);s.set(i);const u=r.mod(s,this.genPoly),l=this.degree-u.length;if(l>0){const h=new Uint8Array(this.degree);return h.set(u,l),h}return u},k.exports=o},2699:(k,c)=>{const a="[0-9]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+")(?:.|[\r\n]))+";c.KANJI=new RegExp(o,"g"),c.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),c.BYTE=new RegExp(t,"g"),c.NUMERIC=new RegExp(a,"g"),c.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+o+"$"),s=new RegExp("^"+a+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");c.testKanji=function(h){return i.test(h)},c.testNumeric=function(h){return s.test(h)},c.testAlphanumeric=function(h){return u.test(h)}},2033:(k,c,a)=>{const r=a(4016),o=a(7783),t=a(2424),i=a(5663),s=a(449),u=a(2699),l=a(4792),h=a(4901);function f(I){return unescape(encodeURIComponent(I)).length}function P(I,F,S){const M=[];let B;for(;null!==(B=I.exec(S));)M.push({data:B[0],index:B.index,mode:F,length:B[0].length});return M}function e(I){const F=P(u.NUMERIC,r.NUMERIC,I),S=P(u.ALPHANUMERIC,r.ALPHANUMERIC,I);let M,B;return l.isKanjiModeEnabled()?(M=P(u.BYTE,r.BYTE,I),B=P(u.KANJI,r.KANJI,I)):(M=P(u.BYTE_KANJI,r.BYTE,I),B=[]),F.concat(S,M,B).sort(function(C,A){return C.index-A.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function _(I,F){switch(F){case r.NUMERIC:return o.getBitsLength(I);case r.ALPHANUMERIC:return t.getBitsLength(I);case r.KANJI:return s.getBitsLength(I);case r.BYTE:return i.getBitsLength(I)}}function L(I,F){let S;const M=r.getBestModeForData(I);if(S=r.from(F,M),S!==r.BYTE&&S.bit<M.bit)throw new Error('"'+I+'" cannot be encoded with mode '+r.toString(S)+".\n Suggested mode is: "+r.toString(M));switch(S===r.KANJI&&!l.isKanjiModeEnabled()&&(S=r.BYTE),S){case r.NUMERIC:return new o(I);case r.ALPHANUMERIC:return new t(I);case r.KANJI:return new s(I);case r.BYTE:return new i(I)}}c.fromArray=function(F){return F.reduce(function(S,M){return"string"==typeof M?S.push(L(M,null)):M.data&&S.push(L(M.data,M.mode)),S},[])},c.fromString=function(F,S){const B=function v(I){const F=[];for(let S=0;S<I.length;S++){const M=I[S];switch(M.mode){case r.NUMERIC:F.push([M,{data:M.data,mode:r.ALPHANUMERIC,length:M.length},{data:M.data,mode:r.BYTE,length:M.length}]);break;case r.ALPHANUMERIC:F.push([M,{data:M.data,mode:r.BYTE,length:M.length}]);break;case r.KANJI:F.push([M,{data:M.data,mode:r.BYTE,length:f(M.data)}]);break;case r.BYTE:F.push([{data:M.data,mode:r.BYTE,length:f(M.data)}])}}return F}(e(F,l.isKanjiModeEnabled())),J=function U(I,F){const S={},M={start:{}};let B=["start"];for(let J=0;J<I.length;J++){const C=I[J],A=[];for(let x=0;x<C.length;x++){const w=C[x],Z=""+J+x;A.push(Z),S[Z]={node:w,lastCount:0},M[Z]={};for(let p=0;p<B.length;p++){const b=B[p];S[b]&&S[b].node.mode===w.mode?(M[b][Z]=_(S[b].lastCount+w.length,w.mode)-_(S[b].lastCount,w.mode),S[b].lastCount+=w.length):(S[b]&&(S[b].lastCount=w.length),M[b][Z]=_(w.length,w.mode)+4+r.getCharCountIndicator(w.mode,F))}}B=A}for(let J=0;J<B.length;J++)M[B[J]].end=0;return{map:M,table:S}}(B,S),C=h.find_path(J.map,"start","end"),A=[];for(let x=1;x<C.length-1;x++)A.push(J.table[C[x]].node);return c.fromArray(function y(I){return I.reduce(function(F,S){const M=F.length-1>=0?F[F.length-1]:null;return M&&M.mode===S.mode?(F[F.length-1].data+=S.data,F):(F.push(S),F)},[])}(A))},c.rawSplit=function(F){return c.fromArray(e(F,l.isKanjiModeEnabled()))}},4792:(k,c)=>{let a;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];c.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},c.getSymbolTotalCodewords=function(t){return r[t]},c.getBCHDigit=function(o){let t=0;for(;0!==o;)t++,o>>>=1;return t},c.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');a=t},c.isKanjiModeEnabled=function(){return typeof a<"u"},c.toSJIS=function(t){return a(t)}},4406:(k,c)=>{c.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},2088:(k,c,a)=>{const r=a(4792),o=a(4655),t=a(2259),i=a(4016),s=a(4406),l=r.getBCHDigit(7973);function f(_,y){return i.getCharCountIndicator(_,y)+4}function P(_,y){let v=0;return _.forEach(function(U){const L=f(U.mode,y);v+=L+U.getBitsLength()}),v}c.from=function(y,v){return s.isValid(y)?parseInt(y,10):v},c.getCapacity=function(y,v,U){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof U>"u"&&(U=i.BYTE);const F=8*(r.getSymbolTotalCodewords(y)-o.getTotalCodewordsCount(y,v));if(U===i.MIXED)return F;const S=F-f(U,y);switch(U){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);default:return Math.floor(S/8)}},c.getBestVersionForData=function(y,v){let U;const L=t.from(v,t.M);if(Array.isArray(y)){if(y.length>1)return function e(_,y){for(let v=1;v<=40;v++)if(P(_,v)<=c.getCapacity(v,y,i.MIXED))return v}(y,L);if(0===y.length)return 1;U=y[0]}else U=y;return function h(_,y,v){for(let U=1;U<=40;U++)if(y<=c.getCapacity(U,v,_))return U}(U.mode,U.getLength(),L)},c.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let v=y<<12;for(;r.getBCHDigit(v)-l>=0;)v^=7973<<r.getBCHDigit(v)-l;return y<<12|v}},3210:(k,c,a)=>{const r=a(6355);c.render=function(s,u,l){let h=l,f=u;typeof h>"u"&&(!u||!u.getContext)&&(h=u,u=void 0),u||(f=function t(){try{return document.createElement("canvas")}catch(i){throw new Error("You need to specify a canvas element")}}()),h=r.getOptions(h);const P=r.getImageWidth(s.modules.size,h),e=f.getContext("2d"),_=e.createImageData(P,P);return r.qrToImageData(_.data,s,h),function o(i,s,u){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=u,s.width=u,s.style.height=u+"px",s.style.width=u+"px"}(e,f,P),e.putImageData(_,0,0),f},c.renderToDataURL=function(s,u,l){let h=l;return typeof h>"u"&&(!u||!u.getContext)&&(h=u,u=void 0),h||(h={}),c.render(s,u,h).toDataURL(h.type||"image/png",(h.rendererOpts||{}).quality)}},2334:(k,c,a)=>{const r=a(6355);function o(s,u){const l=s.a/255,h=u+'="'+s.hex+'"';return l<1?h+" "+u+'-opacity="'+l.toFixed(2).slice(1)+'"':h}function t(s,u,l){let h=s+u;return typeof l<"u"&&(h+=" "+l),h}c.render=function(u,l,h){const f=r.getOptions(l),P=u.modules.size,e=u.modules.data,_=P+2*f.margin,y=f.color.light.a?"<path "+o(f.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",v="<path "+o(f.color.dark,"stroke")+' d="'+function i(s,u,l){let h="",f=0,P=!1,e=0;for(let _=0;_<s.length;_++){const y=Math.floor(_%u),v=Math.floor(_/u);!y&&!P&&(P=!0),s[_]?(e++,_>0&&y>0&&s[_-1]||(h+=P?t("M",y+l,.5+v+l):t("m",f,0),f=0,P=!1),y+1<u&&s[_+1]||(h+=t("h",e),e=0)):f++}return h}(e,P,f.margin)+'"/>',I='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+'viewBox="0 0 '+_+" "+_+'" shape-rendering="crispEdges">'+y+v+"</svg>\n";return"function"==typeof h&&h(null,I),I}},6355:(k,c)=>{function a(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||5===o.length||o.length>8)throw new Error("Invalid hex color: "+r);(3===o.length||4===o.length)&&(o=Array.prototype.concat.apply([],o.map(function(i){return[i,i]}))),6===o.length&&o.push("F","F");const t=parseInt(o.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+o.slice(0,6).join("")}}c.getOptions=function(o){o||(o={}),o.color||(o.color={});const i=o.width&&o.width>=21?o.width:void 0;return{width:i,scale:i?4:o.scale||4,margin:typeof o.margin>"u"||null===o.margin||o.margin<0?4:o.margin,color:{dark:a(o.color.dark||"#000000ff"),light:a(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},c.getScale=function(o,t){return t.width&&t.width>=o+2*t.margin?t.width/(o+2*t.margin):t.scale},c.getImageWidth=function(o,t){const i=c.getScale(o,t);return Math.floor((o+2*t.margin)*i)},c.qrToImageData=function(o,t,i){const s=t.modules.size,u=t.modules.data,l=c.getScale(s,i),h=Math.floor((s+2*i.margin)*l),f=i.margin*l,P=[i.color.light,i.color.dark];for(let e=0;e<h;e++)for(let _=0;_<h;_++){let y=4*(e*h+_),v=i.color.light;e>=f&&_>=f&&e<h-f&&_<h-f&&(v=P[u[Math.floor((e-f)/l)*s+Math.floor((_-f)/l)]?1:0]),o[y++]=v.r,o[y++]=v.g,o[y++]=v.b,o[y]=v.a}}}}]);