"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4598],{4598:(T,x,i)=>{i.r(x),i.d(x,{NotificationsPage:()=>O});var l=i(6895),t=i(7154),p=i(9116),f=i(8008),u=i(3416),g=i(6178),v=i(8854),n=i(4650),m=i(3709),h=i(6396);function E(s,d){if(1&s&&(n.TgZ(0,"div",8),n._uU(1),n.ALo(2,"async"),n.qZA()),2&s){const a=n.oxw();n.xp6(1),n.hij(" ",n.lcZ(2,1,a.notificationService.count$)," ")}}let O=(()=>{class s extends t.H{constructor(a,_){super(),this.route=a,this.notificationService=_}ngOnInit(){this.originUrl=this.route.snapshot.queryParamMap.get("originUrl")}handleBack(){var a;this.notificationService.markAsRead(),this.router.navigateByUrl(null!==(a=this.originUrl)&&void 0!==a?a:"/")}}return s.\u0275fac=function(a){return new(a||s)(n.Y36(m.gz),n.Y36(h.g))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-notifications-page"]],standalone:!0,features:[n.qOj,n.jDz],decls:12,vars:7,consts:[[1,"flex","flex-col","w-full","h-full","pt-4"],[1,"flex","flex-auto","items-center","w-full"],[1,"cursor-pointer","w-8","h-8","mr-1",3,"click"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"text-3xl","text-text-strong","font-medium"],["class","text-white unread-notification flex items-center justify-center rounded-full w-8 h-8 text-2xl ml-2",4,"ngIf"],[1,"flex","flex-col","h-full"],[3,"contentOnly"],[1,"text-white","unread-notification","flex","items-center","justify-center","rounded-full","w-8","h-8","text-2xl","ml-2"]],template:function(a,_){1&a&&(n.TgZ(0,"ion-content")(1,"div",0)(2,"div",1)(3,"a",2),n.NdJ("click",function(){return _.handleBack()}),n._UZ(4,"ion-icon",3),n.qZA(),n.TgZ(5,"h1",4),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.YNc(8,E,3,3,"div",5),n.ALo(9,"async"),n.qZA(),n.TgZ(10,"div",6),n._UZ(11,"app-notifications",7),n.qZA()()()),2&a&&(n.xp6(6),n.hij(" ",n.lcZ(7,3,"notifications")," "),n.xp6(2),n.Q6J("ngIf",(n.lcZ(9,5,_.notificationService.count$)||0)>0),n.xp6(3),n.Q6J("contentOnly",!0))},dependencies:[l.ez,l.O5,l.Ov,f.Pc,f.W2,f.gu,u.aw,u.X$,p.Q,v.T,g.t],styles:[".unread-notification[_ngcontent-%COMP%]{background-color:#ff0242}"]}),s})()},6178:(T,x,i)=>{i.d(x,{t:()=>C});var l=i(6895),t=i(4650),p=i(7154),f=i(8008),u=i(3416),g=i(9116),v=i(8854),n=i(2722),m=i(5433),h=i(6396),E=i(5939);function O(o,r){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.unreadCount," ")}}function s(o,r){if(1&o&&(t.TgZ(0,"div",5)(1,"div",6)(2,"h2",7),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,O,2,1,"div",8),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,2,"notifications")," "),t.xp6(2),t.Q6J("ngIf",e.unreadCount>0)}}function d(o,r){1&o&&t._UZ(0,"span",15)}const a=function(o,r,e,c){return{"text-grey-1":o,"pl-4":r,"text-text-strong":e,"text-lg leading-5":c}},_=function(o){return{value:o}};function P(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11),t.NdJ("click",function(){const M=t.CHM(e).$implicit,A=t.oxw();return t.KtG(A.onAction(M))}),t.YNc(2,d,1,0,"span",12),t.TgZ(3,"div",13),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",14),t._uU(7),t.qZA()()}if(2&o){const e=r.$implicit,c=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.read),t.xp6(1),t.Q6J("ngClass",t.l5B(8,a,e.read,e.read&&c.unreadCount>0,!e.read,c.contentOnly)),t.xp6(1),t.hij(" ",t.xi3(5,5,e.text,t.VKq(13,_,e.value))," "),t.xp6(2),t.Q6J("ngClass",c.contentOnly?"text-sm":"text-xs"),t.xp6(1),t.hij(" ",e.time," ")}}let C=(()=>{class o extends p.H{constructor(e,c){super(),this.notificationService=e,this.userService=c,this.contentOnly=!1,this.onUserAction=new t.vpe,this.unreadCount=0,this.notifications=[{text:"notification-hashpower-low",read:!0,time:"3/24/2023 - 18.00",actionType:"modal",actionRef:"app-hash-power-modal"},{text:"notification-subscription-renew-24",read:!0,time:"3/22/2023 - 18.00",actionType:"link",actionRef:"/settings/membership"},{text:"notification-subscription-renew-48",read:!0,time:"3/21/2023 - 18.00",actionType:"link",actionRef:"/settings/membership"},{text:"notification-account-credits-low",read:!0,time:"3/20/2023 - 20.00",actionType:"link",actionRef:"/settings/my-wallet"},{text:"notification-strategy-gain",value:"+10",read:!0,time:"3/20/2023 - 18.00",actionType:"link",actionRef:"/dashboard"},{text:"notification-rewards-earned",value:100,read:!0,time:"3/19/2023 - 14.00",actionType:"link",actionRef:"/invite"}],this.isOpenHashPowerModal=!1}ngOnInit(){this.notificationService.count$.pipe((0,n.R)(this.onDestroy$)).subscribe(e=>{this.unreadCount=e,this.setUnreadStatus()})}onAction(e){switch(this.notificationService.markAsRead(),e.actionType){case"modal":"app-hash-power-modal"===e.actionRef&&this.userService.isOpenHashPowerModal.next(!0);break;case"link":this.onUserAction.emit(!0),this.router.navigateByUrl(e.actionRef)}}setUnreadStatus(){this.notifications.forEach((e,c)=>{e.read=c>=this.unreadCount})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.g),t.Y36(E.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-notifications"]],inputs:{contentOnly:"contentOnly"},outputs:{onUserAction:"onUserAction"},standalone:!0,features:[t.qOj,t.jDz],decls:5,vars:2,consts:[[1,"flex","flex-col","px-3","py-3","h-full"],["class","flex flex-col items-center",4,"ngIf"],[1,"flex","flex-col","flex-auto","w-full","px-1","mt-2","text-text-strong","border-t","border-main-border"],[1,"disable-mobile",2,"height","352px"],["class","flex flex-col mt-1 py-1.5 pr-2 relative border-b border-main-border",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center"],[1,"flex","items-center","justify-start","w-full"],[1,"text-xl","pl-2","text-text-strong","font-medium"],["class","text-white unread-notification flex items-center justify-center rounded-full w-6 h-6 text-base ml-2",4,"ngIf"],[1,"text-white","unread-notification","flex","items-center","justify-center","rounded-full","w-6","h-6","text-base","ml-2"],[1,"flex","flex-col","mt-1","py-1.5","pr-2","relative","border-b","border-main-border"],[1,"flex","items-center","cursor-pointer",3,"click"],["class","rounded-full w-2 h-2 mr-2 unread-notification",4,"ngIf"],[1,"flex-1","text-base","font-medium","leading-4",3,"ngClass"],[1,"text-right","text-xs","text-grey-1","font-normal","mr-0.5","mt-1","sm:mt-0.5",3,"ngClass"],[1,"rounded-full","w-2","h-2","mr-2","unread-notification"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0),t.YNc(1,s,6,4,"div",1),t.TgZ(2,"div",2)(3,"ng-scrollbar",3),t.YNc(4,P,8,15,"div",4),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",!c.contentOnly),t.xp6(3),t.Q6J("ngForOf",c.notifications))},dependencies:[l.ez,l.mk,l.sg,l.O5,f.Pc,u.aw,u.X$,g.Q,v.T,m.kb,m.KC],styles:[".unread-notification[_ngcontent-%COMP%]{background-color:#ff0242}"]}),o})()}}]);