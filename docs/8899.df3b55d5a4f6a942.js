(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8899],{8899:(O,c,a)=>{"use strict";a.r(c),a.d(c,{SecurityModule:()=>pt});var r=a(6895),o=a(8008),e=a(3416),i=a(5433),s=a(8854),u=a(1782),l=a(655);const g=[{key:"login",label:"on-login"},{key:"payment",label:"payment"},{key:"activateStrategy",label:"activate-strategy"},{key:"bindExchange",label:"blind-exchange"}];var f=a(5762),t=a(4650),I=a(5939),_=a(6540),C=a(6065),v=a(9769),U=a(7341),L=a(7312);const S=function(m,P,n){return{active:m,fail:P,success:n}};function k(m,P){if(1&m&&t._UZ(0,"div",15),2&m){const n=P.index,d=t.oxw(2);t.Q6J("ngClass",t.kEZ(1,S,n<d.displayPIN.length,d.isPINInvalid,d.isPINValid))}}const A=function(m){return{"!text-main-green":m}},M=function(){return[]};function B(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"ion-icon",4),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.handleDismiss())}),t.qZA()()(),t.TgZ(4,"div",5)(5,"div",6)(6,"h3",7),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",8)(10,"div",9),t.YNc(11,k,1,5,"div",10),t.qZA(),t.TgZ(12,"div",11)(13,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"1"))}),t._uU(14," 1 "),t.qZA(),t.TgZ(15,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"2"))}),t._uU(16," 2 "),t.qZA(),t.TgZ(17,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"3"))}),t._uU(18," 3 "),t.qZA(),t.TgZ(19,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"4"))}),t._uU(20," 4 "),t.qZA(),t.TgZ(21,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"5"))}),t._uU(22," 5 "),t.qZA(),t.TgZ(23,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"6"))}),t._uU(24," 6 "),t.qZA(),t.TgZ(25,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"7"))}),t._uU(26," 7 "),t.qZA(),t.TgZ(27,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"8"))}),t._uU(28," 8 "),t.qZA(),t.TgZ(29,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"9"))}),t._uU(30," 9 "),t.qZA(),t.TgZ(31,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(""))}),t._UZ(32,"ion-icon",13),t.qZA(),t.TgZ(33,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN+"0"))}),t._uU(34," 0 "),t.qZA(),t.TgZ(35,"div",12),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onChangePIN(h.displayPIN.slice(0,-1)))}),t._UZ(36,"ion-icon",14),t.qZA()()()()()}if(2&m){const n=t.oxw();t.xp6(6),t.Q6J("ngClass",t.VKq(5,A,n.step>1&&n.isPINValid)),t.xp6(1),t.hij(" ",t.lcZ(8,3,n.titles[n.step])," "),t.xp6(4),t.Q6J("ngForOf",t.DdM(7,M).constructor(n.PINLength))}}let J=(()=>{class m extends U.u{constructor(n,d){super(),this.authService=n,this.userService=d,this.step=0,this.titles=["enter-current-trading-pin","enter-new-pin","confirm-new-pin","success"],this.PINLength=4,this.pinArray=["","",""],this.displayPIN="",this.isPINInvalid=!1,this.isPINValid=!1}onChangePIN(n){if(this.displayPIN=n,n.length===this.PINLength)switch(this.pinArray[this.step]=this.displayPIN,this.step){case 0:console.log(this.displayPIN),this.authService.checkModifyPassword({type:L.nS.PaymentPassword,password:v(this.displayPIN).toString()}).subscribe({next:d=>(0,l.mG)(this,void 0,void 0,function*(){0!==d.code?(this.handleFailure(0),this.toast.toastError(d.message)):this.handleSuccess(0)}),error:d=>{console.error(d)}}).add();break;case 1:this.step++,this.displayPIN="";break;case 2:this.pinArray[1]!==this.pinArray[2]?(console.log("Failure: Confirmed PIN does not match entered PIN",this.pinArray[1],this.pinArray[2],this.step),this.handleFailure(2)):(console.log("Success: PIN updated successfully"),this.step++,this.handleSuccess(2))}}handleFailure(n){this.isPINInvalid=!0,setTimeout(()=>{this.pinArray[n]="",this.displayPIN="",this.isPINInvalid=!1},500)}handleSuccess(n){this.isPINValid=!0,setTimeout(()=>{this.step++,n>1?(console.log("Change Trading Password Form",this.pinArray),console.log(this.userService._userInfo.paymentPassword,this.pinArray[0]),this.userService._userInfo.paymentPassword&&0!==this.pinArray[0].length?this.authService.modifyPaymentPassword({oldPassword:v(this.pinArray[0]).toString(),newPassword:v(this.pinArray[1]).toString()}).subscribe({next:d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),console.log(d),this.handleDismiss()):this.toast.toastError(d.message)}),error:d=>{console.error(d)}}).add():this.authService.modifyPaymentPassword({newPassword:v(this.pinArray[2]).toString()}).subscribe({next:d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u8bbe\u7f6e\u6210\u529f"),console.log(d),this.handleDismiss()):this.toast.toastError(d.message)}),error:d=>{console.error(d)}}).add()):this.resetValue()},500)}resetValue(){this.displayPIN="",this.isPINValid=!1,this.step>1&&(this.step=0)}}return m.\u0275fac=function(n){return new(n||m)(t.Y36(_.e),t.Y36(I.K))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-trading-password-modal"]],inputs:{step:"step"},standalone:!0,features:[t.qOj,t.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","willDismiss","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","mb-8","px-1","sm:px-3","h-full"],[1,"h-2/5","flex","items-center","justify-center"],[1,"text-2xl","text-text-strong","font-medium",3,"ngClass"],[1,"h-3/5","flex","flex-col","rounded-t-md","bg-main-bg"],[1,"pin-code"],["class","pin-code__circle w-4 h-4 ng rounded-full mx-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"keypad","grid","grid-cols-3"],[1,"keypad__button",3,"click"],["name","refresh-outline"],["name","backspace-outline"],[1,"pin-code__circle","w-4","h-4","ng","rounded-full","mx-2",3,"ngClass"]],template:function(n,d){1&n&&(t.TgZ(0,"ion-modal",0),t.NdJ("willDismiss",function(){return d.handleDismiss()})("didDismiss",function(){return d.resetValue()}),t.YNc(1,B,37,8,"ng-template"),t.qZA()),2&n&&t.Q6J("isOpen",d.isOpen)},dependencies:[r.ez,r.mk,r.sg,o.Pc,o.gu,o.ki,e.aw,e.X$],styles:["ion-modal[_ngcontent-%COMP%]{--width: 100%;--height: 100%;--border-radius: 0px;--border-width: 0px}@media (min-width: 640px){ion-modal[_ngcontent-%COMP%]{--width: 400px;--height: 640px;--border-radius: 15px;--border-width: 2px}}.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1rem}}.modal-content[_ngcontent-%COMP%]   .pin-code[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   .pin-code__circle.fail[_ngcontent-%COMP%]{border-color:var(--main-red);background-color:var(--main-red);animation:_ngcontent-%COMP%_shake .5s}.modal-content[_ngcontent-%COMP%]   .pin-code__circle.success[_ngcontent-%COMP%]{background-color:var(--main-green)}.modal-content[_ngcontent-%COMP%]   .keypad[_ngcontent-%COMP%]{flex:1 1 auto;cursor:pointer;font-size:1.875rem;line-height:2.25rem;color:var(--text-strong)}.modal-content[_ngcontent-%COMP%]   .keypad__button[_ngcontent-%COMP%]{display:flex;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;justify-content:center}  .light-mode .pin-code__circle:not(.success, .fail)[_ngcontent-%COMP%]{border-width:2px;--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}  .light-mode .pin-code__circle:not(.success, .fail).active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}  .dark-mode .pin-code__circle:not(.success, .fail)[_ngcontent-%COMP%]{border-width:2px;--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}  .dark-mode .pin-code__circle:not(.success, .fail).active[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(71 85 105 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}@keyframes _ngcontent-%COMP%_shake{0%{transform:translate(0)}25%{transform:translate(-5px)}50%{transform:translate(5px)}75%{transform:translate(-5px)}to{transform:translate(0)}}"]}),m})();var y=a(5915),T=a(3366);function x(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",11)(1,"span",12),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ion-toggle",13),t.NdJ("ionChange",function(h){const R=t.CHM(n).$implicit,D=t.oxw(2);return t.KtG(D.toggleAuth(h,R.key))}),t.qZA()()}if(2&m){const n=P.$implicit,d=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,n.label)," "),t.xp6(2),t.Q6J("checked",d.securedMethods[n.key]||!1)}}function w(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"ion-icon",5),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.handleDismiss())}),t.qZA()()(),t.TgZ(7,"div",6),t.YNc(8,x,5,4,"div",7),t.qZA(),t.TgZ(9,"div",8)(10,"button",9),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.handleDismiss())}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"button",10),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onConfirmAuth())}),t._uU(14),t.ALo(15,"translate"),t.qZA()()()}if(2&m){const n=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,5,"two-factor-authentication")," "),t.xp6(4),t.Q6J("ngForOf",n.securableMethods),t.xp6(3),t.hij(" ",t.lcZ(12,7,"cancel")," "),t.xp6(2),t.Q6J("disabled",!n.isChanged),t.xp6(1),t.hij(" ",t.lcZ(15,9,"confirm")," ")}}let N=(()=>{class m extends U.u{constructor(){super(),this.handleTwoFactorAuth=new t.vpe,this.securableMethods=g}get isChanged(){return JSON.stringify(this._securedMethods)!==JSON.stringify(this.securedMethods)}ngOnChanges(n){var d,h;(null===(d=n.securedMethods)||void 0===d?void 0:d.currentValue)!==(null===(h=n.securedMethods)||void 0===h?void 0:h.previousValue)&&(this._securedMethods=Object.assign({},this.securedMethods))}toggleAuth(n,d){this._securedMethods[d]=n.detail.checked}onConfirmAuth(){this.handleTwoFactorAuth.emit(this._securedMethods)}}return m.\u0275fac=function(n){return new(n||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-two-factor-modal"]],inputs:{securedMethods:"securedMethods"},outputs:{handleTwoFactorAuth:"handleTwoFactorAuth"},standalone:!0,features:[t.qOj,t.TTD,t.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","mb-8","px-1","sm:px-3"],["class","w-full flex items-center justify-between pb-3 my-4 border-b border-main-border",4,"ngFor","ngForOf"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],["appRippleEffect","",1,"btn-medium",3,"click"],["appRippleEffect","",1,"btn-blue","font-medium",3,"disabled","click"],[1,"w-full","flex","items-center","justify-between","pb-3","my-4","border-b","border-main-border"],[1,"text-lg","font-medium","text-text-strong"],[3,"checked","ionChange"]],template:function(n,d){1&n&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return d.handleDismiss()}),t.YNc(1,w,16,11,"ng-template"),t.qZA()),2&n&&t.Q6J("isOpen",d.isOpen)},dependencies:[r.ez,r.sg,o.Pc,o.gu,o.ho,o.ki,o.w,e.aw,e.X$,s.T,C.R],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto}ion-toggle[_ngcontent-%COMP%]{height:32px;width:65px;padding:0;--handle-width: 28px;--handle-height: 28px;--background: rgb(54, 55, 83);--background-checked: var(--accent-blue);--handle-background: rgb(107, 107, 143);--handle-background-checked: var(--main-blue);--handle-spacing: 2px;--border-radius: 16px}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}  .light-mode ion-toggle{--background: var(--grey-3);--handle-background: rgb(53, 53, 68, .34)}  .dark-mode ion-toggle{--background: #363753;--background-checked: #00328f;--handle-background: rgb(107, 107, 143)}"]}),m})();var p=a(4006),b=a(1169),E=a(6948);function Z(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"h2",4),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"ion-icon",5),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.handleDismiss())}),t.qZA()()(),t.TgZ(7,"div",6)(8,"app-phone-control",7),t.NdJ("onSelectPhoneCountry",function(h){t.CHM(n);const F=t.oxw();return t.KtG(F.onSelectPhoneCountry(h))})("onPhoneNumberChange",function(h){t.CHM(n);const F=t.oxw();return t.KtG(F.onPhoneNumberChange(h))}),t.qZA(),t.TgZ(9,"div",8)(10,"div",9),t._UZ(11,"ion-input",10),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"button",11),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onSendVerificationCode())}),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"div",8)(17,"div",9),t._UZ(18,"app-password-field",12),t.ALo(19,"translate"),t.qZA()()(),t.TgZ(20,"div",13)(21,"button",14),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.handleDismiss())}),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"button",15),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.forgetPhoneNumber())}),t._uU(25),t.ALo(26,"translate"),t.qZA()()()}if(2&m){const n=t.oxw();t.Q6J("formGroup",n.forgotPasswordForm),t.xp6(4),t.hij(" ",t.lcZ(5,9,"forgot-password")," "),t.xp6(7),t.s9C("placeholder",t.lcZ(12,11,"verification-code")),t.xp6(2),t.Q6J("disabled",n.forgotPasswordForm.controls.phoneNumber.invalid),t.xp6(1),t.hij(" ",t.lcZ(15,13,"get-sms-code")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(19,15,"new-password")),t.xp6(4),t.hij(" ",t.lcZ(23,17,"cancel")," "),t.xp6(2),t.Q6J("disabled",n.forgotPasswordForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(26,19,"confirm")," ")}}let G=(()=>{class m extends U.u{constructor(n,d,h){super(),this.formBuilder=n,this.authService=d,this.userService=h}ngOnInit(){this.forgotPasswordForm=this.formBuilder.group({countryCode:["+86",[p.kI.required]],phoneNumber:[null,[p.kI.required]],verificationCode:[null,[p.kI.required]],newPassword:[null,[p.kI.required]]})}onSelectPhoneCountry(n){var d;n&&(null===(d=this.forgotPasswordForm.get("countryCode"))||void 0===d||d.patchValue(n))}onPhoneNumberChange(n){var d;null===(d=this.forgotPasswordForm.get("phoneNumber"))||void 0===d||d.patchValue(n)}onSendVerificationCode(){const n=this.forgotPasswordForm.getRawValue();console.log("onSendVerificationCode",n),this.authService.sendSmsCode({type:L.eo.ResetPassword,mobileArea:n.countryCode?n.countryCode:"+86",mobile:n.phoneNumber}).pipe().subscribe(d=>{0===d.code?this.toast.toastSuccess("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001"):this.toast.toastError(d.message)})}forgetPhoneNumber(){if(this.forgotPasswordForm.invalid)return;const n=this.forgotPasswordForm.getRawValue();this.authService.forgetPassword({codeType:"sms_code",code:n.verificationCode,newPassword:v(n.newPassword).toString(),mobileArea:n.countryCode,mobile:n.phoneNumber}).subscribe(d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.handleDismiss()):this.toast.toastError(d.message)}))}}return m.\u0275fac=function(n){return new(n||m)(t.Y36(p.qu),t.Y36(_.e),t.Y36(I.K))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-forgot-password-modal"]],standalone:!0,features:[t.qOj,t.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full",3,"formGroup"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","m-1","cursor-pointer",3,"click"],[1,"modal-content","px-1","sm:px-3"],[3,"onSelectPhoneCountry","onPhoneNumberChange"],[1,"sms-field","flex","w-full"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-l-lg","border","border-border-input","text-text-strong","text-xl"],["formControlName","verificationCode","required","",1,"sms-code",3,"placeholder"],[1,"btn-blue","sms-btn","border","border-border-input","rounded-r-lg","font-medium","text-text-strong","p-3","whitespace-nowrap",3,"disabled","click"],["formControlName","newPassword",1,"w-full",3,"placeholder"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],[1,"btn-medium","text-text-strong",3,"click"],[1,"btn-blue","font-medium",3,"disabled","click"]],template:function(n,d){1&n&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return d.handleDismiss()}),t.YNc(1,Z,27,21,"ng-template"),t.qZA()),2&n&&t.Q6J("isOpen",d.isOpen)},dependencies:[r.ez,p.u5,p._Y,p.JJ,p.JL,p.Q7,p.UX,p.sg,p.u,e.aw,e.X$,o.Pc,o.gu,o.pK,o.ki,o.j9,s.T,E.b,b.b],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto;--overflow: visible}ion-modal[_ngcontent-%COMP%]     .ion-page{overflow:visible}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-font-weight: 500;--padding-top: 4px;--padding-bottom: 4px}ion-input.sms-code[_ngcontent-%COMP%]{--padding-start: 10px}.sms-field[_ngcontent-%COMP%]{margin-top:1.2rem}@media (min-width: 640px){.sms-field[_ngcontent-%COMP%]{margin-top:1.7rem}}.sms-btn[_ngcontent-%COMP%]{font-size:1.16rem}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}"]}),m})();var q=a(3259),X=a(5195),tt=a(6339);function ot(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"ion-icon",5),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.handleDismiss())}),t.qZA()()(),t.TgZ(7,"div",6)(8,"div",7),t._UZ(9,"img",8),t.TgZ(10,"p",9),t._uU(11," Scan the QR Code with your "),t.TgZ(12,"a",10),t._uU(13," Google Authenticator app "),t.qZA(),t._uU(14," . "),t.qZA(),t.TgZ(15,"div",11)(16,"ion-input",12),t.NdJ("ngModelChange",function(h){t.CHM(n);const F=t.oxw();return t.KtG(F.authCode=h)}),t.ALo(17,"translate"),t.qZA()()()(),t.TgZ(18,"div",13)(19,"button",14),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.handleDismiss())}),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"button",15),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.onNext())}),t._uU(23),t.ALo(24,"translate"),t.qZA()()()}if(2&m){const n=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,8,"google-auth")," "),t.xp6(5),t.Q6J("src",n.qrcode,t.LSH),t.xp6(3),t.Q6J("href",n.googleAuthDownloadURL,t.LSH),t.xp6(4),t.s9C("placeholder",t.lcZ(17,10,"enter-code")),t.Q6J("ngModel",n.authCode),t.xp6(4),t.hij(" ",t.lcZ(21,12,"cancel")," "),t.xp6(2),t.Q6J("disabled",""===n.authCode),t.xp6(1),t.hij(" ",t.lcZ(24,14,"next")," ")}}let Q=(()=>{class m extends U.u{constructor(n,d){super(),this.platform=n,this.walletService=d,this.handleSuccess=new t.vpe,this.googleAuthDownloadURL="",this.authCode="",this.platform.ready().then(()=>{const h=X.aN.findIndex(F=>"Google Auth"===F.name);this.googleAuthDownloadURL=this.getGoogleAuthUrl(X.aN[h].url)})}ngOnInit(){this.getGoogleUrl()}getGoogleUrl(){this.walletService.getQrCode().pipe().subscribe(n=>(0,l.mG)(this,void 0,void 0,function*(){0===n.code&&(this.secretKey=n.data.secret,q.toDataURL(n.data.qrCode).then(d=>{console.log(d),this.qrcode=d}))}))}getGoogleAuthUrl(n){return Array.isArray(n)?n[this.platform.is("ios")?1:0]:n}onNext(){this.walletService.sendCode({code:this.authCode,secret:this.secretKey}).pipe().subscribe(n=>(0,l.mG)(this,void 0,void 0,function*(){0===n.code?setTimeout(()=>{this.toast.toastSuccess("Google Auth Setup Successfully"),this.handleSuccess.emit()},500):this.toast.toastError(n.message)}))}}return m.\u0275fac=function(n){return new(n||m)(t.Y36(o.t4),t.Y36(tt.X))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-google-auth-modal"]],outputs:{handleSuccess:"handleSuccess"},standalone:!0,features:[t.qOj,t.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","flex","flex-col","items-center","justify-center","mb-8","px-1","sm:px-3"],[1,"w-4/5"],["alt","",1,"w-full",3,"src"],[1,"align-middle","text-text-strong","my-4"],[1,"text-main-blue",3,"href"],[1,"rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-2","text-text-strong"],[3,"placeholder","ngModel","ngModelChange"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],["appRippleEffect","",1,"btn-medium",3,"click"],["appRippleEffect","",1,"btn-blue","font-medium","capitalize",3,"disabled","click"]],template:function(n,d){1&n&&(t.TgZ(0,"ion-modal",0),t.NdJ("didDismiss",function(){return d.handleDismiss()}),t.YNc(1,ot,25,16,"ng-template"),t.qZA()),2&n&&t.Q6J("isOpen",d.isOpen)},dependencies:[r.ez,p.u5,p.JJ,p.On,p.UX,e.aw,e.X$,o.Pc,o.gu,o.pK,o.ki,o.j9,s.T,C.R],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-weight: 500}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}"]}),m})();var z=a(2738);function et(m,P){1&m&&(t.TgZ(0,"div",52),t._uU(1),t.qZA()),2&m&&(t.xp6(1),t.hij(" ","****"," "))}function Y(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",41)(1,"button",42),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(3);return h.isOpenTradingPINModal=!0,t.KtG(h.step=1)}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&m&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"bind-now")," "))}function it(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",43),t._UZ(1,"div",44),t.TgZ(2,"button",42),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(3);return h.isOpenTradingPINModal=!0,t.KtG(h.step=0)}),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&m&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"change-password")," "))}function V(m,P){if(1&m&&(t.TgZ(0,"div",40),t.YNc(1,et,2,1,"div",49),t.YNc(2,Y,4,3,"ng-template",null,50,t.W1O),t.YNc(4,it,5,3,"div",51),t.qZA()),2&m){const n=t.MAs(3),d=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",d.paymentPassword)("ngIfElse",n),t.xp6(3),t.Q6J("ngIf",d.paymentPassword)}}function nt(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return h.isOpenTradingPINModal=!0,t.KtG(h.step=1)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&m&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"not-set")," "))}function j(m,P){1&m&&t._UZ(0,"ion-icon",39)}function K(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",40)(1,"div",52),t._uU(2),t.qZA(),t.TgZ(3,"div",43),t._UZ(4,"div",44),t.TgZ(5,"button",42),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return t.KtG(h.isOpenEditEmailModal=!0)}),t._uU(6),t.ALo(7,"translate"),t.qZA()()()}if(2&m){const n=t.oxw().ngIf;t.xp6(2),t.hij(" ",n.email," "),t.xp6(4),t.hij(" ",t.lcZ(7,2,"security-change-email")," ")}}function H(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return t.KtG(h.isOpenEditEmailModal=!0)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&m&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"bind-now")," "))}function $(m,P){1&m&&t._UZ(0,"ion-icon",39)}function st(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",53)(1,"div",54),t._uU(2),t.qZA(),t.TgZ(3,"div",43),t._UZ(4,"div",44),t.TgZ(5,"button",42),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return t.KtG(h.isOpenChangePhoneModal=!0)}),t._uU(6),t.ALo(7,"translate"),t.qZA()()()}if(2&m){const n=t.oxw().ngIf;t.xp6(2),t.Oqu(n.phone),t.xp6(4),t.hij(" ",t.lcZ(7,2,"change-number")," ")}}function at(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",41)(1,"button",42),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return t.KtG(h.isOpenChangePhoneModal=!0)}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&m&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"bind-now")," "))}function lt(m,P){1&m&&(t.TgZ(0,"span"),t._uU(1," , "),t.qZA())}function ct(m,P){if(1&m&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.YNc(3,lt,2,0,"span",60),t.qZA()),2&m){const n=P.$implicit,d=P.index,h=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,2,n)," "),t.xp6(2),t.Q6J("ngIf",d!==h.securedMethodsWith2FA.length-1)}}function dt(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",55)(1,"div",56),t.YNc(2,ct,4,4,"span",57),t.qZA(),t.TgZ(3,"div",58),t._UZ(4,"div",59),t.TgZ(5,"button",48),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return t.KtG(h.isOpenTwoFactorAuthModal=!0)}),t._uU(6),t.ALo(7,"translate"),t.qZA()()()}if(2&m){const n=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",n.securedMethodsWith2FA),t.xp6(4),t.hij(" ",t.lcZ(7,2,"update-2FA")," ")}}function ut(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",41)(1,"button",48),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return t.KtG(h.isOpenTwoFactorAuthModal=!0)}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&m&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"not-set")," "))}const rt=function(m){return[m]};function gt(m,P){if(1&m){const n=t.EpF();t.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26)(4,"div",27),t._UZ(5,"ion-icon",28),t.qZA()(),t.TgZ(6,"div",29)(7,"div",30),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",31),t.YNc(11,V,5,3,"div",32),t.YNc(12,nt,3,3,"ng-template",null,33,t.W1O),t.qZA()(),t.TgZ(14,"div",25)(15,"div",26)(16,"div",27),t.YNc(17,j,1,0,"ion-icon",34),t.qZA()(),t.TgZ(18,"div",29)(19,"div",35),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",31),t.YNc(23,K,8,4,"div",32),t.YNc(24,H,3,3,"ng-template",null,36,t.W1O),t.qZA()(),t.TgZ(26,"div",25)(27,"div",26)(28,"div",27),t.YNc(29,$,1,0,"ion-icon",34),t.qZA()(),t.TgZ(30,"div",29)(31,"div",35),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"div",31),t.YNc(35,st,8,4,"div",37),t.YNc(36,at,4,3,"ng-template",null,38,t.W1O),t.qZA()(),t.TgZ(38,"div",25)(39,"div",26)(40,"div",27),t._UZ(41,"ion-icon",39),t.qZA()(),t.TgZ(42,"div",29)(43,"div",35),t._uU(44),t.ALo(45,"translate"),t.qZA()(),t.TgZ(46,"div",31)(47,"div",40)(48,"div",41)(49,"button",42),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.isOpenLoginPasswordModal=!0)}),t._uU(50),t.ALo(51,"translate"),t.qZA()(),t.TgZ(52,"div",43),t._UZ(53,"div",44),t.TgZ(54,"button",42),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.isOpenForgotPasswordModal=!0)}),t._uU(55),t.ALo(56,"translate"),t.qZA()()()()(),t.TgZ(57,"div",25)(58,"div",26)(59,"div",27),t._UZ(60,"ion-icon",28),t.qZA()(),t.TgZ(61,"div",29)(62,"div",35),t._uU(63),t.ALo(64,"translate"),t.qZA()(),t.TgZ(65,"div",31),t.YNc(66,dt,8,4,"div",45),t.YNc(67,ut,4,3,"ng-template",null,46,t.W1O),t.qZA()(),t.TgZ(69,"div",25)(70,"div",26)(71,"div",27),t._UZ(72,"ion-icon",28),t.qZA()(),t.TgZ(73,"div",29)(74,"div",35),t._uU(75),t.ALo(76,"translate"),t.qZA()(),t.TgZ(77,"div",31)(78,"div",47)(79,"button",48),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.isOpenGoogleAuthModal=!0)}),t._uU(80),t.ALo(81,"translate"),t.qZA()()()()()()}if(2&m){const n=P.ngIf,d=t.MAs(13),h=t.MAs(25),F=t.MAs(37),R=t.MAs(68),D=t.oxw();t.xp6(5),t.Q6J("ngClass",t.VKq(40,rt,n.paymentPassword?"text-main-green":"text-grey-2")),t.xp6(3),t.hij(" ",t.lcZ(9,22,"trading-password")," "),t.xp6(3),t.Q6J("ngIf",n.paymentPassword)("ngIfElse",d),t.xp6(6),t.Q6J("ngIf",n.email),t.xp6(3),t.hij(" ",t.lcZ(21,24,"email")," "),t.xp6(3),t.Q6J("ngIf",n.email)("ngIfElse",h),t.xp6(6),t.Q6J("ngIf",n.phone),t.xp6(3),t.hij(" ",t.lcZ(33,26,"phone-number")," "),t.xp6(3),t.Q6J("ngIf",n.phone)("ngIfElse",F),t.xp6(9),t.hij(" ",t.lcZ(45,28,"login-password")," "),t.xp6(6),t.hij(" ",t.lcZ(51,30,"change-password")," "),t.xp6(5),t.hij(" ",t.lcZ(56,32,"forgot-password")," "),t.xp6(5),t.Q6J("ngClass",t.VKq(42,rt,D.securedMethodsWith2FA.length>0?"text-main-green":"text-grey-2")),t.xp6(3),t.hij(" ",t.lcZ(64,34,"require-2FA")," "),t.xp6(3),t.Q6J("ngIf",D.securedMethodsWith2FA.length>0)("ngIfElse",R),t.xp6(6),t.Q6J("ngClass",t.VKq(44,rt,n.googleAuthSecret.length>0?"text-main-green":"text-grey-2")),t.xp6(3),t.hij(" ",t.lcZ(76,36,"google-auth")," "),t.xp6(5),t.hij(" ",t.lcZ(81,38,"set-up")," ")}}const ht=function(m){return{"background-image":m}},mt=[{path:"",component:(()=>{class m extends f.H{constructor(n,d){super(),this.userService=n,this.authService=d,this.isOpenTradingPINModal=!1,this.isOpenChangePhoneModal=!1,this.isOpenEditEmailModal=!1,this.isOpenLoginPasswordModal=!1,this.isOpenTwoFactorAuthModal=!1,this.isOpenForgotPasswordModal=!1,this.isOpenGoogleAuthModal=!1,this.securedMethods={login:!1,payment:!1,activateStrategy:!1,bindExchange:!1},this.securedMethodsWith2FA=[],this.hasGoogleAuthenticator=!1,this.step=0}ngOnInit(){this.get2FAStatus()}get securityLevel(){let n=1;return this.userService._userInfo&&(this.userService._userInfo.paymentPassword&&n++,this.userService._userInfo.email&&n++,this.userService._userInfo.phone&&n++,this.securedMethodsWith2FA.length>0&&n++,this.userService._userInfo.googleAuthSecret.length>0&&n++),n}get securityLevelBackground(){return`conic-gradient(var(--main-green) 0 ${60*this.securityLevel}deg, var(--security-level) 0 288deg)`}get2FAStatus(){this.authService.getTwoFactorAuth().pipe().subscribe(n=>(0,l.mG)(this,void 0,void 0,function*(){if(0!==n.code)return;const h=Object.entries(n.data[0]).filter(([F,R])=>!0===R).map(([F,R])=>F);this.securedMethodsWith2FA=h;for(const F of h)this.securedMethods.hasOwnProperty(F)&&(this.securedMethods[F]=!0)}))}handleChangeEmailNumber(n){console.log(n),this.authService.bindEmail({email:n.email,emailCode:n.verificationCode}).pipe().subscribe(d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.isOpenEditEmailModal=!1):this.toast.toastError(d.message)}))}onChangePhoneNumber(n){this.authService.bindMobile({smsCode:n.verificationCode,mobileArea:n.countryCode?n.countryCode:"+86",mobile:n.phoneNumber}).pipe().subscribe(d=>(0,l.mG)(this,void 0,void 0,function*(){0===d.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.isOpenChangePhoneModal=!1):this.toast.toastError(d.message)}))}onChangeTwoFactorAuth(n){this.securedMethods=n;const d=Object.keys(this.securedMethods).filter(R=>this.securedMethods[R]);this.securedMethodsWith2FA=d.map(R=>{const D=g.find(W=>W.key===R);return D?D.key:""}),console.log("this.securedMethods",this.securedMethods),console.log("this.securedMethodsWith2FA",this.securedMethodsWith2FA);const F=[{type:1,login:!1,payment:!1,activateStrategy:!1,bindExchange:!1},{type:2,login:!1,payment:!1,activateStrategy:!1,bindExchange:!1}].map(R=>{if(1===R.type){const D={};for(const W in R)D[W]=!!this.securedMethodsWith2FA.includes(W);return D.type=1,D}return R});console.log("authFields",F),this.authService.twoFactorAuth({factorFields:F}).subscribe(R=>(0,l.mG)(this,void 0,void 0,function*(){0===R.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f")):this.toast.toastError(R.message)})),this.isOpenTwoFactorAuthModal=!1}onGoogleAuthSetup(){return(0,l.mG)(this,void 0,void 0,function*(){this.hasGoogleAuthenticator=!0,yield this.userService.updateUserInfo(),setTimeout(()=>{this.isOpenGoogleAuthModal=!1},500)})}}return m.\u0275fac=function(n){return new(n||m)(t.Y36(I.K),t.Y36(_.e))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-security"]],features:[t.qOj],decls:37,vars:38,consts:[[1,"flex","flex-col","w-full","sm:px-5","py-4"],[1,"flex","flex-auto","items-center","sm:justify-between","w-full"],[1,"block","sm:hidden","mr-1","cursor-pointer","w-8","h-8",3,"routerLink"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"text-lg","xs:text-2xl","text-text-strong","font-medium"],[1,"security"],[1,"security__level"],[1,"flex","items-center","gap-x-2"],[1,"relative","w-14","h-14","rounded-full","bg-main-bg"],[1,"absolute","rounded-full","w-full","h-full",3,"ngStyle"],[1,"security-circle","absolute","flex","items-center","justify-center","inset-0","w-11","h-11","m-auto","rounded-full"],[1,"text-3xl","icon-shieldok","text-main-green"],[1,"flex","flex-col"],[1,"text-2xl","text-text-strong","font-medium"],[1,"text-sm","font-medium","text-red-1"],[1,"text-sm","font-medium","text-main-yellow"],[1,"text-sm","font-medium","text-main-green"],["class","px-2 sm:px-0 sm:ml-5 sm:table sm:table-auto w-full font-medium sm:max-w-fit",4,"ngIf"],[3,"step","isOpen","isOpenChange"],[3,"isOpen","isOpenChange"],[3,"securedMethods","isOpen","handleTwoFactorAuth","isOpenChange"],[3,"isOpen","isOpenChange","handleChangeEmailNumber"],[3,"isOpen","isOpenChange","handleSuccess"],[1,"px-2","sm:px-0","sm:ml-5","sm:table","sm:table-auto","w-full","font-medium","sm:max-w-fit"],[1,"block","sm:table-row-group"],[1,"block","sm:table-row","mb-4","sm:mb-0","border-b","border-main-border"],[1,"security-level-cell"],[1,"flex","items-center"],["name","checkmark-circle-outline",1,"w-8","h-8",3,"ngClass"],[1,"security-info-key-cell"],[1,"flex","items-center","h-full","whitespace-nowrap"],[1,"security-info-value-cell"],["class","flex w-full",4,"ngIf","ngIfElse"],["setTradingPasswordTemplate",""],["class","text-main-green w-8 h-8","name","checkmark-circle-outline",4,"ngIf"],[1,"flex","items-center","h-full","justify-end"],["setUserEmailTemplate",""],["class","flex",4,"ngIf","ngIfElse"],["setPhoneNumberTemplate",""],["name","checkmark-circle-outline",1,"text-main-green","w-8","h-8"],[1,"flex","w-full"],[1,"w-1/2","pr-4","md:pr-6"],[1,"primary-btn","w-full",3,"click"],[1,"flex","w-1/2"],[1,"border-l","border-main-border","pr-4","md:pr-6","my-1"],["class","flex w-full max-w-sm sm:max-w-none",4,"ngIf","ngIfElse"],["setTwoFactorTemplate",""],[1,"flex","w-1/2","max-w-sm","sm:max-w-none","pr-4","md-pr-6"],["appRippleEffect","",1,"primary-btn","w-full",3,"click"],["class","flex items-center select-none w-1/2",4,"ngIf","ngIfElse"],["noPassword",""],["class","flex w-1/2",4,"ngIf"],[1,"flex","items-center","select-none","w-1/2"],[1,"flex"],[1,"flex","items-center","w-1/2"],[1,"flex","w-full","max-w-sm","sm:max-w-none"],[1,"w-1/2"],[4,"ngFor","ngForOf"],[1,"flex","w-1/2","items-center"],[1,"border-l","border-main-border","pr-4","md:pr-6","my-1","h-9"],[4,"ngIf"]],template:function(n,d){1&n&&(t.TgZ(0,"ng-scrollbar")(1,"div",0)(2,"div",1)(3,"div",2),t._UZ(4,"ion-icon",3),t.qZA(),t.TgZ(5,"h1",4),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),t._UZ(12,"div",9),t.TgZ(13,"div",10),t._UZ(14,"i",11),t.qZA()(),t.TgZ(15,"div",12)(16,"h2",13),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"span",14),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"span",15),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"span",16),t._uU(26),t.ALo(27,"translate"),t.qZA()()()(),t.YNc(28,gt,82,46,"div",17),t.ALo(29,"async"),t.qZA()(),t.TgZ(30,"app-trading-password-modal",18),t.NdJ("isOpenChange",function(F){return d.isOpenTradingPINModal=F}),t.qZA(),t.TgZ(31,"app-edit-phone-modal",19),t.NdJ("isOpenChange",function(F){return d.isOpenChangePhoneModal=F}),t.qZA(),t.TgZ(32,"app-change-password-modal",19),t.NdJ("isOpenChange",function(F){return d.isOpenLoginPasswordModal=F}),t.qZA(),t.TgZ(33,"app-two-factor-modal",20),t.NdJ("handleTwoFactorAuth",function(F){return d.onChangeTwoFactorAuth(F)})("isOpenChange",function(F){return d.isOpenTwoFactorAuthModal=F}),t.qZA(),t.TgZ(34,"app-edit-email-modal",21),t.NdJ("isOpenChange",function(F){return d.isOpenEditEmailModal=F})("handleChangeEmailNumber",function(F){return d.handleChangeEmailNumber(F)}),t.qZA(),t.TgZ(35,"app-forgot-password-modal",19),t.NdJ("isOpenChange",function(F){return d.isOpenForgotPasswordModal=F}),t.qZA(),t.TgZ(36,"app-google-auth-modal",22),t.NdJ("isOpenChange",function(F){return d.isOpenGoogleAuthModal=F})("handleSuccess",function(){return d.onGoogleAuthSetup()}),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("routerLink","/settings"),t.xp6(3),t.hij(" ",t.lcZ(7,24,"security")," "),t.xp6(6),t.Q6J("ngStyle",t.VKq(36,ht,d.securityLevelBackground)),t.xp6(5),t.AsE(" ",t.lcZ(18,26,"security-level")," ",d.securityLevel,"/6 "),t.xp6(2),t.ekj("hidden",d.securityLevel>3),t.xp6(1),t.hij(" ",t.lcZ(21,28,"low-security")," "),t.xp6(2),t.ekj("hidden",d.securityLevel>5||d.securityLevel<4),t.xp6(1),t.hij(" ",t.lcZ(24,30,"medium-security")," "),t.xp6(2),t.ekj("hidden",d.securityLevel<6),t.xp6(1),t.hij(" ",t.lcZ(27,32,"full-secured"),"! "),t.xp6(2),t.Q6J("ngIf",t.lcZ(29,34,d.userService.userInfo$)),t.xp6(2),t.Q6J("step",d.step)("isOpen",d.isOpenTradingPINModal),t.xp6(1),t.Q6J("isOpen",d.isOpenChangePhoneModal),t.xp6(1),t.Q6J("isOpen",d.isOpenLoginPasswordModal),t.xp6(1),t.Q6J("securedMethods",d.securedMethods)("isOpen",d.isOpenTwoFactorAuthModal),t.xp6(1),t.Q6J("isOpen",d.isOpenEditEmailModal),t.xp6(1),t.Q6J("isOpen",d.isOpenForgotPasswordModal),t.xp6(1),t.Q6J("isOpen",d.isOpenGoogleAuthModal))},dependencies:[r.mk,r.sg,r.O5,r.PC,o.gu,o.YI,i.KC,u.rH,C.R,J,y.q,T.N,N,G,Q,z.T,r.Ov,e.X$],styles:[".dark-mode .security__level{background-color:rgba(41,42,63,.59);border:2px solid rgba(70,70,97,.231372549)}  .dark-mode .security-circle{background-color:var(--grey-4)}  .light-mode .security__level{border-width:2px;border-color:var(--grey-3);--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}  .light-mode .security-circle{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}button.primary-btn[_ngcontent-%COMP%]{max-width:176px}.security[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;flex-direction:column;padding-left:.625rem;padding-right:.625rem}@media (min-width: 640px){.security[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.security__level[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem;display:flex;align-items:center;justify-content:space-between;border-radius:.375rem;padding:1.75rem .5rem}@media (min-width: 340px){.security__level[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}.security-level-cell[_ngcontent-%COMP%]{display:none;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-left:0;padding-right:0;vertical-align:middle}@media (min-width: 640px){.security-level-cell[_ngcontent-%COMP%]{display:table-cell;padding-left:.5rem;padding-right:.5rem}}@media (min-width: 1024px){.security-level-cell[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}.security-info-key-cell[_ngcontent-%COMP%]{display:block;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-left:0;padding-right:0;text-align:right;font-size:1.25rem;line-height:1.75rem;font-weight:500}@media (min-width: 640px){.security-info-key-cell[_ngcontent-%COMP%]{display:table-cell;padding-left:.5rem;padding-right:.5rem;font-size:1rem;line-height:1.5rem}}@media (min-width: 768px){.security-info-key-cell[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width: 640px){.security-info-key-cell[_ngcontent-%COMP%]{height:60px}}@media (min-width: 768px){.security-info-key-cell[_ngcontent-%COMP%]{height:68px}}.security-info-value-cell[_ngcontent-%COMP%]{display:block;width:100%;padding-top:.5rem;padding-bottom:.5rem;vertical-align:middle;color:var(--text-strong)}@media (min-width: 640px){.security-info-value-cell[_ngcontent-%COMP%]{display:table-cell}}@media (min-width: 768px){.security-info-value-cell[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}}@media (min-width: 640px){.security-info-value-cell[_ngcontent-%COMP%]{height:68px;width:400px}}"]}),m})()}];let ft=(()=>{class m{}return m.\u0275fac=function(n){return new(n||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[u.Bz.forChild(mt),u.Bz]}),m})(),pt=(()=>{class m{}return m.\u0275fac=function(n){return new(n||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[r.ez,o.Pc,e.aw,i.kb,ft,s.T,J,y.q,T.N,N,G,Q,z.T]}),m})()},6339:(O,c,a)=>{"use strict";a.d(c,{X:()=>i});var r=a(2340),o=a(4650),e=a(529);let i=(()=>{class s{constructor(l){this.http=l}ottoOptionsLog(l,g,f){return this.http.get(`${r.N.BASE_URL}/user/wallet/ottoOptionsLog?balanceType=${f}&page=${l}&rows=${g}`)}balanceLog(l,g,f){return this.http.get(`${r.N.BASE_URL}/user/wallet/balanceLog?balanceType=${f}&page=${l}&rows=${g}`)}giftLog(l,g,f){return this.http.get(`${r.N.BASE_URL}/user/wallet/giftLog?balanceType=${f}&page=${l}&rows=${g}`)}pointLog(l,g,f){return this.http.get(`${r.N.BASE_URL}/user/wallet/pointLog?balanceType=${f}&page=${l}&rows=${g}`)}walletInfo(){return this.http.get(`${r.N.BASE_URL}/user/wallet/info`)}buyGift(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/buyGift`,l)}pointExchangeBalance(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/pointExchangeBalance`,l)}exchangeOttoOptions(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/exchangeOttoOptions`,l)}exchangeGift(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/exchangeGift`,l)}givePoint(l){return this.http.post(`${r.N.BASE_URL}/user/wallet/giveBalance`,l)}getQrCode(){return this.http.get(`${r.N.BASE_URL}/user/setUp/googleAuth/getQrCode`)}sendCode(l){return this.http.post(`${r.N.BASE_URL}/user/setUp/googleAuth/bindGoogleAuth`,l)}}return s.\u0275fac=function(l){return new(l||s)(o.LFG(e.eN))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4901:O=>{"use strict";var c={single_source_shortest_paths:function(a,r,o){var e={},i={};i[r]=0;var u,l,g,f,t,_,s=c.PriorityQueue.make();for(s.push(r,0);!s.empty();)for(g in f=(u=s.pop()).cost,t=a[l=u.value]||{})t.hasOwnProperty(g)&&(_=f+t[g],(typeof i[g]>"u"||i[g]>_)&&(i[g]=_,s.push(g,_),e[g]=l));if(typeof o<"u"&&typeof i[o]>"u"){var U=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(U)}return e},extract_shortest_path_from_predecessor_list:function(a,r){for(var o=[],e=r;e;)o.push(e),e=a[e];return o.reverse(),o},find_path:function(a,r,o){var e=c.single_source_shortest_paths(a,r,o);return c.extract_shortest_path_from_predecessor_list(e,o)},PriorityQueue:{make:function(a){var e,r=c.PriorityQueue,o={};for(e in a=a||{},r)r.hasOwnProperty(e)&&(o[e]=r[e]);return o.queue=[],o.sorter=a.sorter||r.default_sorter,o},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){this.queue.push({value:a,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};O.exports=c},8419:O=>{"use strict";O.exports=function(a){for(var r=[],o=a.length,e=0;e<o;e++){var i=a.charCodeAt(e);if(i>=55296&&i<=56319&&o>e+1){var s=a.charCodeAt(e+1);s>=56320&&s<=57343&&(i=1024*(i-55296)+s-56320+65536,e+=1)}i<128?r.push(i):i<2048?(r.push(i>>6|192),r.push(63&i|128)):i<55296||i>=57344&&i<65536?(r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)):i>=65536&&i<=1114111?(r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)):r.push(239,191,189)}return new Uint8Array(r).buffer}},3259:(O,c,a)=>{const r=a(8695),o=a(1465),e=a(3210),i=a(2334);function s(u,l,g,f,t){const I=[].slice.call(arguments,1),_=I.length,C="function"==typeof I[_-1];if(!C&&!r())throw new Error("Callback required as last argument");if(!C){if(_<1)throw new Error("Too few arguments provided");return 1===_?(g=l,l=f=void 0):2===_&&!l.getContext&&(f=g,g=l,l=void 0),new Promise(function(v,U){try{const L=o.create(g,f);v(u(L,l,f))}catch(L){U(L)}})}if(_<2)throw new Error("Too few arguments provided");2===_?(t=g,g=l,l=f=void 0):3===_&&(l.getContext&&typeof t>"u"?(t=f,f=void 0):(t=f,f=g,g=l,l=void 0));try{const v=o.create(g,f);t(null,u(v,l,f))}catch(v){t(v)}}c.create=o.create,c.toCanvas=s.bind(null,e.render),c.toDataURL=s.bind(null,e.renderToDataURL),c.toString=s.bind(null,function(u,l,g){return i.render(u,g)})},8695:O=>{O.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(O,c,a)=>{const r=a(4792).getSymbolSize;c.getRowColCoords=function(e){if(1===e)return[];const i=Math.floor(e/7)+2,s=r(e),u=145===s?26:2*Math.ceil((s-13)/(2*i-2)),l=[s-7];for(let g=1;g<i-1;g++)l[g]=l[g-1]-u;return l.push(6),l.reverse()},c.getPositions=function(e){const i=[],s=c.getRowColCoords(e),u=s.length;for(let l=0;l<u;l++)for(let g=0;g<u;g++)0===l&&0===g||0===l&&g===u-1||l===u-1&&0===g||i.push([s[l],s[g]]);return i}},2424:(O,c,a)=>{const r=a(4016),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(i){this.mode=r.ALPHANUMERIC,this.data=i}e.getBitsLength=function(s){return 11*Math.floor(s/2)+s%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(s){let u;for(u=0;u+2<=this.data.length;u+=2){let l=45*o.indexOf(this.data[u]);l+=o.indexOf(this.data[u+1]),s.put(l,11)}this.data.length%2&&s.put(o.indexOf(this.data[u]),6)},O.exports=e},2118:O=>{function c(){this.buffer=[],this.length=0}c.prototype={get:function(a){const r=Math.floor(a/8);return 1==(this.buffer[r]>>>7-a%8&1)},put:function(a,r){for(let o=0;o<r;o++)this.putBit(1==(a>>>r-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),a&&(this.buffer[r]|=128>>>this.length%8),this.length++}},O.exports=c},4425:O=>{function c(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}c.prototype.set=function(a,r,o,e){const i=a*this.size+r;this.data[i]=o,e&&(this.reservedBit[i]=!0)},c.prototype.get=function(a,r){return this.data[a*this.size+r]},c.prototype.xor=function(a,r,o){this.data[a*this.size+r]^=o},c.prototype.isReserved=function(a,r){return this.reservedBit[a*this.size+r]},O.exports=c},5663:(O,c,a)=>{const r=a(8419),o=a(4016);function e(i){this.mode=o.BYTE,"string"==typeof i&&(i=r(i)),this.data=new Uint8Array(i)}e.getBitsLength=function(s){return 8*s},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){for(let s=0,u=this.data.length;s<u;s++)i.put(this.data[s],8)},O.exports=e},4655:(O,c,a)=>{const r=a(2259),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];c.getBlocksCount=function(s,u){switch(u){case r.L:return o[4*(s-1)+0];case r.M:return o[4*(s-1)+1];case r.Q:return o[4*(s-1)+2];case r.H:return o[4*(s-1)+3];default:return}},c.getTotalCodewordsCount=function(s,u){switch(u){case r.L:return e[4*(s-1)+0];case r.M:return e[4*(s-1)+1];case r.Q:return e[4*(s-1)+2];case r.H:return e[4*(s-1)+3];default:return}}},2259:(O,c)=>{c.L={bit:1},c.M={bit:0},c.Q={bit:3},c.H={bit:2},c.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},c.from=function(o,e){if(c.isValid(o))return o;try{return function a(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return c.L;case"m":case"medium":return c.M;case"q":case"quartile":return c.Q;case"h":case"high":return c.H;default:throw new Error("Unknown EC Level: "+r)}}(o)}catch(i){return e}}},3114:(O,c,a)=>{const r=a(4792).getSymbolSize;c.getPositions=function(i){const s=r(i);return[[0,0],[s-7,0],[0,s-7]]}},7078:(O,c,a)=>{const r=a(4792),i=r.getBCHDigit(1335);c.getEncodedBits=function(u,l){const g=u.bit<<3|l;let f=g<<10;for(;r.getBCHDigit(f)-i>=0;)f^=1335<<r.getBCHDigit(f)-i;return 21522^(g<<10|f)}},5339:(O,c)=>{const a=new Uint8Array(512),r=new Uint8Array(256);(function(){let e=1;for(let i=0;i<255;i++)a[i]=e,r[e]=i,e<<=1,256&e&&(e^=285);for(let i=255;i<512;i++)a[i]=a[i-255]})(),c.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},c.exp=function(e){return a[e]},c.mul=function(e,i){return 0===e||0===i?0:a[r[e]+r[i]]}},449:(O,c,a)=>{const r=a(4016),o=a(4792);function e(i){this.mode=r.KANJI,this.data=i}e.getBitsLength=function(s){return 13*s},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let s;for(s=0;s<this.data.length;s++){let u=o.toSJIS(this.data[s]);if(u>=33088&&u<=40956)u-=33088;else{if(!(u>=57408&&u<=60351))throw new Error("Invalid SJIS character: "+this.data[s]+"\nMake sure your charset is UTF-8");u-=49472}u=192*(u>>>8&255)+(255&u),i.put(u,13)}},O.exports=e},3667:(O,c)=>{c.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(o,e,i){switch(o){case c.Patterns.PATTERN000:return(e+i)%2==0;case c.Patterns.PATTERN001:return e%2==0;case c.Patterns.PATTERN010:return i%3==0;case c.Patterns.PATTERN011:return(e+i)%3==0;case c.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case c.Patterns.PATTERN101:return e*i%2+e*i%3==0;case c.Patterns.PATTERN110:return(e*i%2+e*i%3)%2==0;case c.Patterns.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}}c.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},c.from=function(e){return c.isValid(e)?parseInt(e,10):void 0},c.getPenaltyN1=function(e){const i=e.size;let s=0,u=0,l=0,g=null,f=null;for(let t=0;t<i;t++){u=l=0,g=f=null;for(let I=0;I<i;I++){let _=e.get(t,I);_===g?u++:(u>=5&&(s+=u-5+3),g=_,u=1),_=e.get(I,t),_===f?l++:(l>=5&&(s+=l-5+3),f=_,l=1)}u>=5&&(s+=u-5+3),l>=5&&(s+=l-5+3)}return s},c.getPenaltyN2=function(e){const i=e.size;let s=0;for(let u=0;u<i-1;u++)for(let l=0;l<i-1;l++){const g=e.get(u,l)+e.get(u,l+1)+e.get(u+1,l)+e.get(u+1,l+1);(4===g||0===g)&&s++}return 3*s},c.getPenaltyN3=function(e){const i=e.size;let s=0,u=0,l=0;for(let g=0;g<i;g++){u=l=0;for(let f=0;f<i;f++)u=u<<1&2047|e.get(g,f),f>=10&&(1488===u||93===u)&&s++,l=l<<1&2047|e.get(f,g),f>=10&&(1488===l||93===l)&&s++}return 40*s},c.getPenaltyN4=function(e){let i=0;const s=e.data.length;for(let l=0;l<s;l++)i+=e.data[l];return 10*Math.abs(Math.ceil(100*i/s/5)-10)},c.applyMask=function(e,i){const s=i.size;for(let u=0;u<s;u++)for(let l=0;l<s;l++)i.isReserved(l,u)||i.xor(l,u,r(e,l,u))},c.getBestMask=function(e,i){const s=Object.keys(c.Patterns).length;let u=0,l=1/0;for(let g=0;g<s;g++){i(g),c.applyMask(g,e);const f=c.getPenaltyN1(e)+c.getPenaltyN2(e)+c.getPenaltyN3(e)+c.getPenaltyN4(e);c.applyMask(g,e),f<l&&(l=f,u=g)}return u}},4016:(O,c,a)=>{const r=a(4406),o=a(2699);c.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},c.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},c.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},c.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},c.MIXED={bit:-1},c.getCharCountIndicator=function(s,u){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!r.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?s.ccBits[0]:u<27?s.ccBits[1]:s.ccBits[2]},c.getBestModeForData=function(s){return o.testNumeric(s)?c.NUMERIC:o.testAlphanumeric(s)?c.ALPHANUMERIC:o.testKanji(s)?c.KANJI:c.BYTE},c.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},c.isValid=function(s){return s&&s.bit&&s.ccBits},c.from=function(s,u){if(c.isValid(s))return s;try{return function e(i){if("string"!=typeof i)throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return c.NUMERIC;case"alphanumeric":return c.ALPHANUMERIC;case"kanji":return c.KANJI;case"byte":return c.BYTE;default:throw new Error("Unknown mode: "+i)}}(s)}catch(l){return u}}},7783:(O,c,a)=>{const r=a(4016);function o(e){this.mode=r.NUMERIC,this.data=e.toString()}o.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){let s,u,l;for(s=0;s+3<=this.data.length;s+=3)u=this.data.substr(s,3),l=parseInt(u,10),i.put(l,10);const g=this.data.length-s;g>0&&(u=this.data.substr(s),l=parseInt(u,10),i.put(l,3*g+1))},O.exports=o},1106:(O,c,a)=>{const r=a(5339);c.mul=function(e,i){const s=new Uint8Array(e.length+i.length-1);for(let u=0;u<e.length;u++)for(let l=0;l<i.length;l++)s[u+l]^=r.mul(e[u],i[l]);return s},c.mod=function(e,i){let s=new Uint8Array(e);for(;s.length-i.length>=0;){const u=s[0];for(let g=0;g<i.length;g++)s[g]^=r.mul(i[g],u);let l=0;for(;l<s.length&&0===s[l];)l++;s=s.slice(l)}return s},c.generateECPolynomial=function(e){let i=new Uint8Array([1]);for(let s=0;s<e;s++)i=c.mul(i,new Uint8Array([1,r.exp(s)]));return i}},1465:(O,c,a)=>{const r=a(4792),o=a(2259),e=a(2118),i=a(4425),s=a(6221),u=a(3114),l=a(3667),g=a(4655),f=a(2636),t=a(2088),I=a(7078),_=a(4016),C=a(2033);function k(y,T,x){const w=y.size,N=I.getEncodedBits(T,x);let p,b;for(p=0;p<15;p++)b=1==(N>>p&1),y.set(p<6?p:p<8?p+1:w-15+p,8,b,!0),y.set(8,p<8?w-p-1:p<9?15-p-1+1:15-p-1,b,!0);y.set(w-8,8,1,!0)}function J(y,T,x,w){let N;if(Array.isArray(y))N=C.fromArray(y);else{if("string"!=typeof y)throw new Error("Invalid data");{let G=T;if(!G){const q=C.rawSplit(y);G=t.getBestVersionForData(q,x)}N=C.fromString(y,G||40)}}const p=t.getBestVersionForData(N,x);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(T){if(T<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else T=p;const b=function M(y,T,x){const w=new e;x.forEach(function(Z){w.put(Z.mode.bit,4),w.put(Z.getLength(),_.getCharCountIndicator(Z.mode,y)),Z.write(w)});const b=8*(r.getSymbolTotalCodewords(y)-g.getTotalCodewordsCount(y,T));for(w.getLengthInBits()+4<=b&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(0);const E=(b-w.getLengthInBits())/8;for(let Z=0;Z<E;Z++)w.put(Z%2?17:236,8);return function B(y,T,x){const w=r.getSymbolTotalCodewords(T),p=w-g.getTotalCodewordsCount(T,x),b=g.getBlocksCount(T,x),Z=b-w%b,G=Math.floor(w/b),q=Math.floor(p/b),X=q+1,tt=G-q,ot=new f(tt);let Q=0;const z=new Array(b),et=new Array(b);let Y=0;const it=new Uint8Array(y.buffer);for(let H=0;H<b;H++){const $=H<Z?q:X;z[H]=it.slice(Q,Q+$),et[H]=ot.encode(z[H]),Q+=$,Y=Math.max(Y,$)}const V=new Uint8Array(w);let j,K,nt=0;for(j=0;j<Y;j++)for(K=0;K<b;K++)j<z[K].length&&(V[nt++]=z[K][j]);for(j=0;j<tt;j++)for(K=0;K<b;K++)V[nt++]=et[K][j];return V}(w,y,T)}(T,x,N),E=r.getSymbolSize(T),Z=new i(E);return function v(y,T){const x=y.size,w=u.getPositions(T);for(let N=0;N<w.length;N++){const p=w[N][0],b=w[N][1];for(let E=-1;E<=7;E++)if(!(p+E<=-1||x<=p+E))for(let Z=-1;Z<=7;Z++)b+Z<=-1||x<=b+Z||y.set(p+E,b+Z,E>=0&&E<=6&&(0===Z||6===Z)||Z>=0&&Z<=6&&(0===E||6===E)||E>=2&&E<=4&&Z>=2&&Z<=4,!0)}}(Z,T),function U(y){const T=y.size;for(let x=8;x<T-8;x++){const w=x%2==0;y.set(x,6,w,!0),y.set(6,x,w,!0)}}(Z),function L(y,T){const x=s.getPositions(T);for(let w=0;w<x.length;w++){const N=x[w][0],p=x[w][1];for(let b=-2;b<=2;b++)for(let E=-2;E<=2;E++)y.set(N+b,p+E,-2===b||2===b||-2===E||2===E||0===b&&0===E,!0)}}(Z,T),k(Z,x,0),T>=7&&function S(y,T){const x=y.size,w=t.getEncodedBits(T);let N,p,b;for(let E=0;E<18;E++)N=Math.floor(E/3),p=E%3+x-8-3,b=1==(w>>E&1),y.set(N,p,b,!0),y.set(p,N,b,!0)}(Z,T),function A(y,T){const x=y.size;let w=-1,N=x-1,p=7,b=0;for(let E=x-1;E>0;E-=2)for(6===E&&E--;;){for(let Z=0;Z<2;Z++)if(!y.isReserved(N,E-Z)){let G=!1;b<T.length&&(G=1==(T[b]>>>p&1)),y.set(N,E-Z,G),p--,-1===p&&(b++,p=7)}if(N+=w,N<0||x<=N){N-=w,w=-w;break}}}(Z,b),isNaN(w)&&(w=l.getBestMask(Z,k.bind(null,Z,x))),l.applyMask(w,Z),k(Z,x,w),{modules:Z,version:T,errorCorrectionLevel:x,maskPattern:w,segments:N}}c.create=function(T,x){if(typeof T>"u"||""===T)throw new Error("No input text");let N,p,w=o.M;return typeof x<"u"&&(w=o.from(x.errorCorrectionLevel,o.M),N=t.from(x.version),p=l.from(x.maskPattern),x.toSJISFunc&&r.setToSJISFunction(x.toSJISFunc)),J(T,N,w,p)}},2636:(O,c,a)=>{const r=a(1106);function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(i){this.degree=i,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(i.length+this.degree);s.set(i);const u=r.mod(s,this.genPoly),l=this.degree-u.length;if(l>0){const g=new Uint8Array(this.degree);return g.set(u,l),g}return u},O.exports=o},2699:(O,c)=>{const a="[0-9]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+")(?:.|[\r\n]))+";c.KANJI=new RegExp(o,"g"),c.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),c.BYTE=new RegExp(e,"g"),c.NUMERIC=new RegExp(a,"g"),c.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+o+"$"),s=new RegExp("^"+a+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");c.testKanji=function(g){return i.test(g)},c.testNumeric=function(g){return s.test(g)},c.testAlphanumeric=function(g){return u.test(g)}},2033:(O,c,a)=>{const r=a(4016),o=a(7783),e=a(2424),i=a(5663),s=a(449),u=a(2699),l=a(4792),g=a(4901);function f(S){return unescape(encodeURIComponent(S)).length}function t(S,k,A){const M=[];let B;for(;null!==(B=S.exec(A));)M.push({data:B[0],index:B.index,mode:k,length:B[0].length});return M}function I(S){const k=t(u.NUMERIC,r.NUMERIC,S),A=t(u.ALPHANUMERIC,r.ALPHANUMERIC,S);let M,B;return l.isKanjiModeEnabled()?(M=t(u.BYTE,r.BYTE,S),B=t(u.KANJI,r.KANJI,S)):(M=t(u.BYTE_KANJI,r.BYTE,S),B=[]),k.concat(A,M,B).sort(function(y,T){return y.index-T.index}).map(function(y){return{data:y.data,mode:y.mode,length:y.length}})}function _(S,k){switch(k){case r.NUMERIC:return o.getBitsLength(S);case r.ALPHANUMERIC:return e.getBitsLength(S);case r.KANJI:return s.getBitsLength(S);case r.BYTE:return i.getBitsLength(S)}}function L(S,k){let A;const M=r.getBestModeForData(S);if(A=r.from(k,M),A!==r.BYTE&&A.bit<M.bit)throw new Error('"'+S+'" cannot be encoded with mode '+r.toString(A)+".\n Suggested mode is: "+r.toString(M));switch(A===r.KANJI&&!l.isKanjiModeEnabled()&&(A=r.BYTE),A){case r.NUMERIC:return new o(S);case r.ALPHANUMERIC:return new e(S);case r.KANJI:return new s(S);case r.BYTE:return new i(S)}}c.fromArray=function(k){return k.reduce(function(A,M){return"string"==typeof M?A.push(L(M,null)):M.data&&A.push(L(M.data,M.mode)),A},[])},c.fromString=function(k,A){const B=function v(S){const k=[];for(let A=0;A<S.length;A++){const M=S[A];switch(M.mode){case r.NUMERIC:k.push([M,{data:M.data,mode:r.ALPHANUMERIC,length:M.length},{data:M.data,mode:r.BYTE,length:M.length}]);break;case r.ALPHANUMERIC:k.push([M,{data:M.data,mode:r.BYTE,length:M.length}]);break;case r.KANJI:k.push([M,{data:M.data,mode:r.BYTE,length:f(M.data)}]);break;case r.BYTE:k.push([{data:M.data,mode:r.BYTE,length:f(M.data)}])}}return k}(I(k,l.isKanjiModeEnabled())),J=function U(S,k){const A={},M={start:{}};let B=["start"];for(let J=0;J<S.length;J++){const y=S[J],T=[];for(let x=0;x<y.length;x++){const w=y[x],N=""+J+x;T.push(N),A[N]={node:w,lastCount:0},M[N]={};for(let p=0;p<B.length;p++){const b=B[p];A[b]&&A[b].node.mode===w.mode?(M[b][N]=_(A[b].lastCount+w.length,w.mode)-_(A[b].lastCount,w.mode),A[b].lastCount+=w.length):(A[b]&&(A[b].lastCount=w.length),M[b][N]=_(w.length,w.mode)+4+r.getCharCountIndicator(w.mode,k))}}B=T}for(let J=0;J<B.length;J++)M[B[J]].end=0;return{map:M,table:A}}(B,A),y=g.find_path(J.map,"start","end"),T=[];for(let x=1;x<y.length-1;x++)T.push(J.table[y[x]].node);return c.fromArray(function C(S){return S.reduce(function(k,A){const M=k.length-1>=0?k[k.length-1]:null;return M&&M.mode===A.mode?(k[k.length-1].data+=A.data,k):(k.push(A),k)},[])}(T))},c.rawSplit=function(k){return c.fromArray(I(k,l.isKanjiModeEnabled()))}},4792:(O,c)=>{let a;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];c.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},c.getSymbolTotalCodewords=function(e){return r[e]},c.getBCHDigit=function(o){let e=0;for(;0!==o;)e++,o>>>=1;return e},c.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');a=e},c.isKanjiModeEnabled=function(){return typeof a<"u"},c.toSJIS=function(e){return a(e)}},4406:(O,c)=>{c.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},2088:(O,c,a)=>{const r=a(4792),o=a(4655),e=a(2259),i=a(4016),s=a(4406),l=r.getBCHDigit(7973);function f(_,C){return i.getCharCountIndicator(_,C)+4}function t(_,C){let v=0;return _.forEach(function(U){const L=f(U.mode,C);v+=L+U.getBitsLength()}),v}c.from=function(C,v){return s.isValid(C)?parseInt(C,10):v},c.getCapacity=function(C,v,U){if(!s.isValid(C))throw new Error("Invalid QR Code version");typeof U>"u"&&(U=i.BYTE);const k=8*(r.getSymbolTotalCodewords(C)-o.getTotalCodewordsCount(C,v));if(U===i.MIXED)return k;const A=k-f(U,C);switch(U){case i.NUMERIC:return Math.floor(A/10*3);case i.ALPHANUMERIC:return Math.floor(A/11*2);case i.KANJI:return Math.floor(A/13);default:return Math.floor(A/8)}},c.getBestVersionForData=function(C,v){let U;const L=e.from(v,e.M);if(Array.isArray(C)){if(C.length>1)return function I(_,C){for(let v=1;v<=40;v++)if(t(_,v)<=c.getCapacity(v,C,i.MIXED))return v}(C,L);if(0===C.length)return 1;U=C[0]}else U=C;return function g(_,C,v){for(let U=1;U<=40;U++)if(C<=c.getCapacity(U,v,_))return U}(U.mode,U.getLength(),L)},c.getEncodedBits=function(C){if(!s.isValid(C)||C<7)throw new Error("Invalid QR Code version");let v=C<<12;for(;r.getBCHDigit(v)-l>=0;)v^=7973<<r.getBCHDigit(v)-l;return C<<12|v}},3210:(O,c,a)=>{const r=a(6355);c.render=function(s,u,l){let g=l,f=u;typeof g>"u"&&(!u||!u.getContext)&&(g=u,u=void 0),u||(f=function e(){try{return document.createElement("canvas")}catch(i){throw new Error("You need to specify a canvas element")}}()),g=r.getOptions(g);const t=r.getImageWidth(s.modules.size,g),I=f.getContext("2d"),_=I.createImageData(t,t);return r.qrToImageData(_.data,s,g),function o(i,s,u){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=u,s.width=u,s.style.height=u+"px",s.style.width=u+"px"}(I,f,t),I.putImageData(_,0,0),f},c.renderToDataURL=function(s,u,l){let g=l;return typeof g>"u"&&(!u||!u.getContext)&&(g=u,u=void 0),g||(g={}),c.render(s,u,g).toDataURL(g.type||"image/png",(g.rendererOpts||{}).quality)}},2334:(O,c,a)=>{const r=a(6355);function o(s,u){const l=s.a/255,g=u+'="'+s.hex+'"';return l<1?g+" "+u+'-opacity="'+l.toFixed(2).slice(1)+'"':g}function e(s,u,l){let g=s+u;return typeof l<"u"&&(g+=" "+l),g}c.render=function(u,l,g){const f=r.getOptions(l),t=u.modules.size,I=u.modules.data,_=t+2*f.margin,C=f.color.light.a?"<path "+o(f.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",v="<path "+o(f.color.dark,"stroke")+' d="'+function i(s,u,l){let g="",f=0,t=!1,I=0;for(let _=0;_<s.length;_++){const C=Math.floor(_%u),v=Math.floor(_/u);!C&&!t&&(t=!0),s[_]?(I++,_>0&&C>0&&s[_-1]||(g+=t?e("M",C+l,.5+v+l):e("m",f,0),f=0,t=!1),C+1<u&&s[_+1]||(g+=e("h",I),I=0)):f++}return g}(I,t,f.margin)+'"/>',S='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+'viewBox="0 0 '+_+" "+_+'" shape-rendering="crispEdges">'+C+v+"</svg>\n";return"function"==typeof g&&g(null,S),S}},6355:(O,c)=>{function a(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||5===o.length||o.length>8)throw new Error("Invalid hex color: "+r);(3===o.length||4===o.length)&&(o=Array.prototype.concat.apply([],o.map(function(i){return[i,i]}))),6===o.length&&o.push("F","F");const e=parseInt(o.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+o.slice(0,6).join("")}}c.getOptions=function(o){o||(o={}),o.color||(o.color={});const i=o.width&&o.width>=21?o.width:void 0;return{width:i,scale:i?4:o.scale||4,margin:typeof o.margin>"u"||null===o.margin||o.margin<0?4:o.margin,color:{dark:a(o.color.dark||"#000000ff"),light:a(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},c.getScale=function(o,e){return e.width&&e.width>=o+2*e.margin?e.width/(o+2*e.margin):e.scale},c.getImageWidth=function(o,e){const i=c.getScale(o,e);return Math.floor((o+2*e.margin)*i)},c.qrToImageData=function(o,e,i){const s=e.modules.size,u=e.modules.data,l=c.getScale(s,i),g=Math.floor((s+2*i.margin)*l),f=i.margin*l,t=[i.color.light,i.color.dark];for(let I=0;I<g;I++)for(let _=0;_<g;_++){let C=4*(I*g+_),v=i.color.light;I>=f&&_>=f&&I<g-f&&_<g-f&&(v=t[u[Math.floor((I-f)/l)*s+Math.floor((_-f)/l)]?1:0]),o[C++]=v.r,o[C++]=v.g,o[C++]=v.b,o[C]=v.a}}}}]);