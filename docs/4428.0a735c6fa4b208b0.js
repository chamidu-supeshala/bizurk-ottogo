"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4428],{1597:(P,A,i)=>{i.d(A,{D7:()=>m,DY:()=>h,Gf:()=>f,Me:()=>L});var n=i(7340);(0,n.X$)("numberGoUp",[(0,n.eR)(":increment",[(0,n.oB)({color:"#2dd36f"}),(0,n.jt)("900ms",(0,n.oB)({color:"#2dd36f"}))])]),(0,n.X$)("numberGoUpWithBackground",[(0,n.eR)(":increment",[(0,n.oB)({background:"#2dd36f4b"}),(0,n.jt)("300ms",(0,n.oB)({background:"#2dd36f4b"}))])]),(0,n.X$)("fade",[(0,n.eR)(":leave",[(0,n.oB)({opacity:1,transform:"translateX(0%)"}),(0,n.jt)("100ms",(0,n.oB)({opacity:0,transform:"translateX(-50%)"}))])]),(0,n.X$)("staggerList",[(0,n.eR)("* => *",[(0,n.IO)(":enter",[(0,n.oB)({opacity:0,transform:"{{scale}} {{translateY}}"}),(0,n.EY)(50,[(0,n.jt)("{{time}}",(0,n.oB)({opacity:1,transform:"scale(1) translateY(0)"}))])],{optional:!0})],{params:{scale:"scale(0.6)",time:"0.5s",translateY:"translateY(-.8rem)"}})]),(0,n.X$)("listAnimation",[(0,n.eR)("* => *",[(0,n.IO)(":enter",[(0,n.oB)({opacity:0}),(0,n.EY)(50,[(0,n.jt)("{{time}}",(0,n.oB)({opacity:1}))])],{optional:!0})],{params:{scale:"scale(0.6)",time:"0.3s"}})]),(0,n.X$)("fade2",[(0,n.eR)(":enter",[(0,n.oB)({opacity:0}),(0,n.jt)("100ms",(0,n.oB)({opacity:1}))]),(0,n.eR)(":leave",[(0,n.jt)("100ms",(0,n.oB)({opacity:0}))])]);const f=(0,n.X$)("slideLeftRight",[(0,n.eR)(":enter",[(0,n.oB)({transform:"translateX(-100%)",opacity:0}),(0,n.jt)("200ms ease-out",(0,n.oB)({transform:"translateX(0%)",opacity:1}))]),(0,n.eR)(":leave",[(0,n.jt)("200ms ease-out",(0,n.oB)({transform:"translateX(-100%)",opacity:0}))])]),m=(0,n.X$)("slideRightLeft",[(0,n.eR)(":enter",[(0,n.oB)({transform:"translateX(100%)",opacity:0}),(0,n.jt)("200ms ease-out",(0,n.oB)({transform:"translateX(0%)",opacity:1}))]),(0,n.eR)(":leave",[(0,n.jt)("200ms ease-out",(0,n.oB)({transform:"translateX(100%)",opacity:0}))])]),h=((0,n.X$)("slideInOutY",[(0,n.eR)(":enter",[(0,n.oB)({transform:"translateY(-100%)",opacity:0,scale:.8}),(0,n.jt)("200ms ease-out",(0,n.oB)({transform:"translateX(0%)",opacity:1,scale:1}))]),(0,n.eR)(":leave",[(0,n.jt)("200ms ease-out",(0,n.oB)({transform:"translateY(-100%)",opacity:0,scale:.8}))])]),(0,n.X$)("slideInOutVertical",[(0,n.eR)("Login-d => Register-d",[(0,n.IO)(":enter, :leave",(0,n.oB)({position:"absolute",top:0,left:0,right:0,transform:"translate(0, -50%)"}),{optional:!0}),(0,n.ru)([(0,n.IO)(":enter",[(0,n.oB)({left:"150%",opacity:0}),(0,n.jt)("200ms 100ms ease-out",(0,n.oB)({left:0,opacity:1}))],{optional:!0}),(0,n.IO)(":leave",[(0,n.oB)({left:0,opacity:1}),(0,n.jt)("250ms ease-out",(0,n.oB)({left:"-150%",opacity:0}))],{optional:!0})])]),(0,n.eR)("Register-d => Login-d",[(0,n.IO)(":enter, :leave",(0,n.oB)({position:"absolute",top:0,left:0,right:0,transform:"translate(0, -50%)"}),{optional:!0}),(0,n.ru)([(0,n.IO)(":enter",[(0,n.oB)({left:"-150%",opacity:0}),(0,n.jt)("250ms 100ms ease-out",(0,n.oB)({left:0,opacity:1}))],{optional:!0}),(0,n.IO)(":leave",[(0,n.oB)({left:0,opacity:1}),(0,n.jt)("250ms ease-out",(0,n.oB)({left:"150%",opacity:0}))],{optional:!0})])]),(0,n.eR)("Login-m => Register-m",[(0,n.IO)(":enter, :leave",(0,n.oB)({position:"absolute",top:0,left:0,right:0,"transform-origin":"top left"}),{optional:!0}),(0,n.ru)([(0,n.IO)(":enter",[(0,n.oB)({transform:"translateX(-100%)",opacity:0}),(0,n.jt)("200ms 100ms ease-in",(0,n.oB)({transform:"translateX(0)",opacity:1}))],{optional:!0}),(0,n.IO)(":leave",[(0,n.oB)({transform:"translateX(0)",opacity:1}),(0,n.jt)("200ms ease-in",(0,n.oB)({transform:"translateX(100%)",opacity:0}))],{optional:!0})])]),(0,n.eR)("Register-m => Login-m",[(0,n.IO)(":enter, :leave",(0,n.oB)({position:"absolute",top:0,left:0,right:0,"transform-origin":"top left"}),{optional:!0}),(0,n.ru)([(0,n.IO)(":enter",[(0,n.oB)({transform:"translateX(100%)",opacity:0}),(0,n.jt)("200ms 100ms ease-in",(0,n.oB)({transform:"translateX(0)",opacity:1}))],{optional:!0}),(0,n.IO)(":leave",[(0,n.oB)({transform:"translateX(0)",opacity:1}),(0,n.jt)("200ms ease-in",(0,n.oB)({transform:"translateX(-100%)",opacity:0}))],{optional:!0})])])])),L=(0,n.X$)("slideOnPaginate",[(0,n.eR)(":enter",[(0,n.oB)({transform:"translateX(100%)"}),(0,n.jt)("300ms ease-out",(0,n.oB)({transform:"translateX(0%)"}))])])},4428:(P,A,i)=>{i.r(A),i.d(A,{AuthModule:()=>ke});var n=i(6895),a=i(4006),g=i(8008),y=i(3416),b=i(8854),e=i(4650);let u=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-loader"]],standalone:!0,features:[e.jDz],decls:5,vars:0,consts:[[1,"orange-loader","w-5","h-5","absolute","block","top-1/2","left-1/2","-mt-2.5","-ml-2.5"],[1,"w-[9px]","h-[9px]","block","bg-[#fb8811]","rounded-full","opacity-30","origin-[50%_50%]","scale-75","absolute","top-0","left-0"],[1,"w-[9px]","h-[9px]","block","bg-[#fb8811]","rounded-full","opacity-30","origin-[50%_50%]","scale-75","absolute","top-0","right-0"],[1,"w-[9px]","h-[9px]","block","bg-[#fb8811]","rounded-full","opacity-30","origin-[50%_50%]","scale-75","absolute","right-0","bottom-0"],[1,"w-[9px]","h-[9px]","block","bg-[#fb8811]","rounded-full","opacity-30","origin-[50%_50%]","scale-75","absolute","left-0","bottom-0"]],template:function(o,t){1&o&&(e.TgZ(0,"span",0),e._UZ(1,"i",1)(2,"i",2)(3,"i",3)(4,"i",4),e.qZA())},dependencies:[n.ez,g.Pc]}),r})();var f=i(1169),m=i(1782),T=i(1597),h=i(9300),L=i(5762);const x=function(r){return{register:r}},S=function(r){return{"hidden sm:block":r}};let D=(()=>{class r extends L.H{constructor(o){super(),this.changeDetectorRef=o,this.bgNum=1,this.isMobile=!1,this.isRegisterPage=!1,this.isMobile=window.innerWidth<992,this.router.events.pipe((0,h.h)(t=>t instanceof m.m2)).subscribe(t=>{this.isRegisterPage="/auth/register"===t.url.slice(0,14)})}onResize(){this.isMobile=window.innerWidth<992}ngOnInit(){this.bgNum=this.getRandomInt(1,7)}getRandomInt(o,t){return o=Math.ceil(o),t=Math.floor(t),Math.floor(Math.random()*(t-o+1))+o}prepareRoute(o){return o&&o.activatedRouteData&&o.activatedRouteData.animation?(setTimeout(()=>{this.changeDetectorRef.detectChanges()},0),`${o.activatedRouteData.animation}-${this.isMobile?"m":"d"}`):""}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-auth"]],hostBindings:function(o,t){1&o&&e.NdJ("resize",function(){return t.onResize()},!1,e.Jf7)},features:[e.qOj],decls:8,vars:10,consts:[[1,"auth-page",3,"ngClass","fullscreen"],[1,"auth-wrapper","w-full","min-h-screen","xl:w-10/12","px-5","m-auto","2md:h-full","flex","flex-col","2md:flex-row","items-center","2md:justify-between","overflow-hidden"],[1,"auth-logo-wrapper","w-full","2md:w-1/2","my-10","2md:my-0","mx-auto",3,"ngClass"],["src","assets/logo-light.png","alt","",1,"m-auto","light-element",3,"routerLink"],["src","assets/logo-dark.png","alt","",1,"m-auto","dark-element",3,"routerLink"],[1,"auth-container","relative","min-w-full","sm:min-w-[450px]"],["outlet","outlet"]],template:function(o,t){if(1&o&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3)(4,"img",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"router-outlet",null,6),e.qZA()()()),2&o){const s=e.MAs(7);e.Q6J("ngClass",e.VKq(6,x,t.isRegisterPage))("fullscreen",!0),e.xp6(2),e.Q6J("ngClass",e.VKq(8,S,t.isRegisterPage)),e.xp6(1),e.Q6J("routerLink","/"),e.xp6(1),e.Q6J("routerLink","/"),e.xp6(1),e.Q6J("@slideInOutVertical",t.prepareRoute(s))}},dependencies:[n.mk,m.lC,m.rH,g.W2,g.YI],styles:[".auth-container.ng-animating[_ngcontent-%COMP%]{position:absolute}.auth-logo-wrapper[_ngcontent-%COMP%]{max-width:75%}@media (min-width: 375px){.auth-logo-wrapper[_ngcontent-%COMP%]{max-width:60%}}@media (min-width: 640px){.auth-logo-wrapper[_ngcontent-%COMP%]{max-width:616px}}  .light-mode ion-content.auth-page{--background: url(/assets/login-bg/login-bg-new-light-min.png) top center / cover no-repeat;position:relative}  .light-mode ion-content.auth-page .auth-logo-wrapper img{filter:drop-shadow(0px 0px 15px #ffffff)}@media (min-width: 640px){  .light-mode ion-content.auth-page{--background: url(/assets/login-bg/login-bg-new-light-min.png) top left / cover no-repeat}  .light-mode ion-content.auth-page .auth-logo-wrapper img{filter:none}}  .light-mode input:-webkit-autofill,   .light-mode input:-webkit-autofill:hover,   .light-mode input:-webkit-autofill:focus,   .light-mode input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px white inset!important;-webkit-text-fill-color:black!important}  .dark-mode ion-content.auth-page{--background: url(/assets/login-bg/login-bg-new-dark-min.png) top left / cover no-repeat}  .dark-mode input:-webkit-autofill,   .dark-mode input:-webkit-autofill:hover,   .dark-mode input:-webkit-autofill:focus,   .dark-mode input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px var(--bg-input) inset!important;-webkit-text-fill-color:white!important}"],data:{animation:[T.DY]},changeDetection:0}),r})();var k=i(655),E=i(9808),F=i(2340);const v=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);class O{static number(l){return l.value&&!/^[0-9]*$/.test(l.value)?{error:!0}:{}}static phone(l){return l.value?/^(\+\d{1,2}\s?)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/.test(l.value)||/^(13[0-9]|14[579]|15[0-35-9]|166|17[0135678]|18[0-9]|19[89])\d{8}$/.test(l.value)?{}:{error:!0,label:"phone-validation-syntax"}:{error:!0,label:"phone-validation-required"}}static userName(l){return l.value?/(?![A-Z]*$)(?![a-z]*$)(?![0-9]*$)(?![^a-zA-Z0-9]*$)/.test(l.value)?l.value.trim().length<6||l.value.trim().length>20?{error:!0,label:"username-validation-length"}:{}:{error:!0,label:"username-validation-syntax"}:{error:!0,label:"username-validation-required"}}static password(l){return l.value?/(?![A-Z]*$)(?![a-z]*$)(?![0-9]*$)(?![^a-zA-Z0-9]*$)/.test(l.value)?l.value.trim().length<6?{length:!0,label:"password-validation-length"}:{}:{error:!0,label:"password-validation-syntax"}:{error:!0,label:"password-validation-required"}}static email(l){return l.value?v.test(l.value)?{}:{error:!0,label:"email-validation-syntax"}:{error:!0,label:"email-validation-required"}}}var d=i(9769),_=i.n(d),Z=i(7312),M=i(1075),R=i(5939),G=i(4107),J=i(6540),ne=i(6339),j=i(7139),N=i(6948),q=i(3284),Q=i(6065);function re(r,l){1&r&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"username-validation-required")," "))}function ie(r,l){1&r&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"password-validation-required")," "))}const ae=function(r){return{"border-red-1":r}},W=function(r){return{"btn-disabled":r}},se=function(r){return{inviterId:r}};function le(r,l){if(1&r){const o=e.EpF();e.TgZ(0,"form",14),e.NdJ("submit",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.emailSubmit())}),e.TgZ(1,"div",15)(2,"div",16),e._UZ(3,"i",17)(4,"ion-input",18),e.ALo(5,"translate"),e.qZA(),e.YNc(6,re,3,3,"div",19),e.qZA(),e.TgZ(7,"div",20),e._UZ(8,"app-password-field",21),e.ALo(9,"translate"),e.YNc(10,ie,3,3,"div",19),e.qZA(),e.TgZ(11,"div",22)(12,"a",23),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"button",24),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",25)(19,"a",26),e._uU(20),e.ALo(21,"translate"),e.qZA()()()}if(2&r){const o=e.oxw();let t,s,c,p;e.Q6J("formGroup",o.emailLoginForm)("@slideLeftRight",void 0),e.xp6(2),e.Q6J("ngClass",e.VKq(23,ae,(null==(t=o.emailLoginForm.get("username"))?null:t.errors)&&o.isEmailSubmitted)),e.xp6(2),e.s9C("placeholder",e.lcZ(5,13,"input-placeholder-username")),e.xp6(2),e.Q6J("ngIf",(null==(s=o.emailLoginForm.get("username"))?null:s.errors)&&o.isEmailSubmitted),e.xp6(2),e.s9C("placeholder",e.lcZ(9,15,"input-placeholder-password")),e.Q6J("isInvalid",(null==(c=o.emailLoginForm.get("password"))?null:c.errors)&&o.isEmailSubmitted),e.xp6(2),e.Q6J("ngIf",(null==(p=o.emailLoginForm.get("password"))?null:p.errors)&&o.isEmailSubmitted),e.xp6(3),e.hij(" ",e.lcZ(14,17,"forgot-password")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,W,o.emailLoginForm.invalid)),e.xp6(1),e.hij(" ",e.lcZ(17,19,"login-button-login")," "),e.xp6(3),e.Q6J("queryParams",e.VKq(27,se,o.inviterId)),e.xp6(1),e.hij(" ",e.lcZ(21,21,"login-button-register")," ")}}function ue(r,l){if(1&r&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const o=e.oxw(2);let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=o.smsLoginForm.get("mobile"))||null==t.errors?null:t.errors.label)," ")}}function me(r,l){1&r&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"verification-code-required")," "))}const de=function(r){return{"!border-red-1":r}};function ce(r,l){if(1&r){const o=e.EpF();e.TgZ(0,"form",28)(1,"div",29)(2,"app-phone-control",30),e.NdJ("onSelectPhoneCountry",function(s){e.CHM(o);const c=e.oxw();return e.KtG(c.onSelectPhoneCountry(s))})("onPhoneNumberChange",function(s){e.CHM(o);const c=e.oxw();return e.KtG(c.onPhoneNumberChange(s))}),e.qZA(),e.YNc(3,ue,3,3,"div",19),e.qZA(),e.TgZ(4,"div",31)(5,"div",32)(6,"div",33),e._UZ(7,"ion-input",34),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",35),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.onSendVerificationCode())}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,me,3,3,"div",19),e.qZA(),e.TgZ(13,"button",36),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.smsSubmit())}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",25)(17,"a",37),e._uU(18),e.ALo(19,"translate"),e.qZA()()()}if(2&r){const o=e.oxw();let t,s,c,p,C,w;e.Q6J("formGroup",o.smsLoginForm)("@slideRightLeft",void 0),e.xp6(2),e.Q6J("isInvalid",(null==(t=o.smsLoginForm.get("mobile"))?null:t.errors)&&o.isSMSSubmitted)("phoneNumber",null==(s=o.smsLoginForm.get("mobile"))?null:s.value),e.xp6(1),e.Q6J("ngIf",(null==(c=o.smsLoginForm.get("mobile"))?null:c.errors)&&o.isSMSSubmitted),e.xp6(3),e.Q6J("ngClass",e.VKq(21,de,(null==(p=o.smsLoginForm.get("verificationCode"))?null:p.errors)&&o.isSMSSubmitted)),e.xp6(1),e.s9C("placeholder",e.lcZ(8,13,"verification-code")),e.xp6(2),e.Q6J("disabled",!0===(null==(C=o.smsLoginForm.get("mobile"))||null==C.errors?null:C.errors.error)||o.smsTimeRemaining>0),e.xp6(1),e.hij(" ",o.smsTimeRemaining>0?o.smsTimeRemaining:e.lcZ(11,15,"get-sms-code")," "),e.xp6(2),e.Q6J("ngIf",(null==(w=o.smsLoginForm.get("verificationCode"))?null:w.errors)&&o.isSMSSubmitted),e.xp6(1),e.Q6J("ngClass",e.VKq(23,W,o.smsLoginForm.invalid)),e.xp6(1),e.hij(" ",e.lcZ(15,17,"login-button-login")," "),e.xp6(4),e.hij(" ",e.lcZ(19,19,"login-button-register")," ")}}const pe=function(r,l){return{failed:r,success:l}},z=function(r){return{active:r}},ge=function(r){return{success:r}};let fe=(()=>{class r extends L.H{constructor(o,t,s,c,p,C,w){super(),this.fb=o,this.userService=t,this.referralService=s,this.route=c,this.authService=p,this.i18n=C,this.walletService=w,this.showPassword=!1,this.loginMethod="email",this.loginFailed=!1,this.loginSuccess=!1,this.isEmailSubmitted=!1,this.isSMSSubmitted=!1,this.smsTimeRemaining=0,this.initForm()}get isSubmitDisabled(){return"email"===this.loginMethod?this.emailLoginForm.invalid:this.smsLoginForm.invalid}get inviterId(){return this.referralService.inviterId}ngOnInit(){this.emailLoginForm=this.fb.group({username:[null,[a.kI.required]],password:[null,[a.kI.required]]}),this.smsLoginForm=this.fb.group({countryCode:["+86",[a.kI.required]],mobile:[null,[O.phone]],verificationCode:[null,[a.kI.required]]})}emailSubmit(){return(0,k.mG)(this,void 0,void 0,function*(){if(this.isEmailSubmitted=!0,this.emailLoginForm.invalid)return void this.loginHasFailed();const o=this.emailLoginForm.getRawValue();o.account=o.username.trim(),o.password=d(o.password).toString(),o.backUrl=`${location.origin}/auth-success?backUrl=`;try{console.log("formData",o);const t=yield(0,E.n)(this.authService.login(o));if(0!==t.code)return this.toast.toastError(t.message),void this.loginHasFailed();const s=`${location.origin}/auth-success?backUrl=${this.route.snapshot.queryParamMap.get("back")||"/dashboard"}`;window.location.href=`${F.N.authUrl}/auth/success?token=${t.data.token}&backUrl=${encodeURIComponent(s)}`}catch(t){this.toast.toastError(null==t?void 0:t.message),this.loginHasFailed()}})}smsSubmit(){this.isSMSSubmitted=!0;const o=this.smsLoginForm.getRawValue();console.log(33333),this.authService.loginByMobilePhone({areaCode:o.countryCode,mobile:o.mobile,verifyCode:o.verificationCode}).pipe().subscribe(t=>{console.log(4444,t),0!==t.body.code?(this.toast.toastError(t.body.message),this.loginHasFailed()):this.login(t)})}login(o){console.log(o),o.body.data?(console.log(o,o.body.data.token),this.userService.setToken(o.body.data.token),setTimeout(()=>(0,k.mG)(this,void 0,void 0,function*(){const t=yield(0,E.n)(this.authService.getUserLoginInfo());console.log("res.data.userInfo",t),yield this.userService.setUserInfo(t.data),yield this.userService.updateUserInfo();const s=this.route.snapshot.queryParamMap.get("back")||"/";this.router.navigateByUrl(decodeURIComponent(s))}),0)):this.toast.toastError(o.body.message)}onSelectPhoneCountry(o){var t;o&&(null===(t=this.smsLoginForm.get("countryCode"))||void 0===t||t.patchValue(o))}onPhoneNumberChange(o){var t;null===(t=this.smsLoginForm.get("mobile"))||void 0===t||t.patchValue(o)}onLogin(){this.smsLoginForm.invalid||this.smsLoginForm.reset({countryCode:"+86"})}onSendVerificationCode(){const o=this.smsLoginForm.getRawValue();console.log("onSendVerificationCode",o),this.authService.sendSmsCode({type:Z.eo.LoginByMobilePhone,mobileArea:o.mobileArea?o.mobileArea:"+86",mobile:o.mobile.toString()}).pipe().subscribe(t=>{(0,M.d8)(Z._5,(Date.now()+6e4).toString()),0===t.code?(this.smsTimeRemaining=60,this.startTimeInterval(),this.toast.toastSuccess("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001")):this.toast.toastError(t.message)})}startTimeInterval(){this.timeInterval=setInterval(()=>{this.smsTimeRemaining-=1,this.smsTimeRemaining<1&&clearInterval(this.timeInterval)},1e3)}initForm(){this.emailLoginForm=this.fb.group({username:[null],password:[null]}),this.smsLoginForm=this.fb.group({phone:[null],countryCode:[null]})}changeLoginMethod(o){this.loginMethod=o,this.isSMSSubmitted=!1,this.isEmailSubmitted=!1}loginHasFailed(){this.loginFailed=!0,setTimeout(()=>{this.loginFailed=!1},800)}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(a.qu),e.Y36(R.K),e.Y36(G.C),e.Y36(m.gz),e.Y36(J.e),e.Y36(y.sK),e.Y36(ne.X))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],features:[e.qOj],decls:18,vars:22,consts:[[1,"relative","auth-box","login-component","rounded-2xl","border-main-border","border-2","bg-main-bg","px-4","sm:px-8","py-8","font-medium","overflow-hidden","z-10",3,"ngClass"],[1,"flex","mb-8"],[1,"tab","relative","cursor-pointer","rounded-t","py-3","font-medium","whitespace-nowrap","flex-auto","text-center","hover:border-b-4","hover:border-main-blue","mr-1",3,"ngClass","click"],[1,"tab","relative","cursor-pointer","rounded-t","py-3","font-medium","whitespace-nowrap","flex-auto","text-center","hover:border-b-4","hover:border-main-blue",3,"ngClass","click"],[1,"hidden","sm:flex","items-center","ml-4"],[1,"login-form"],["class","w-full email-login-form",3,"formGroup","submit",4,"ngIf"],["class","w-full sms-login-form",3,"formGroup",4,"ngIf"],[1,"flex","items-center","justify-between","sm:justify-center","my-5"],[1,"language-btn","flex","items-center","justify-center","w-fit","rounded-md","p-1.5"],["interface","modal",3,"showText"],["name","chevron-forward-outline"],[1,"mr-2","sm:hidden"],[1,"success-circle","absolute","left-1/2","top-1/2","origin-center","w-4","h-4","bg-main-bg","rounded-full","transition-transform",3,"ngClass"],[1,"w-full","email-login-form",3,"formGroup","submit"],[1,"mb-8"],[1,"rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-2",3,"ngClass"],[1,"icon-person","text-text-strong","text-xl"],["formControlName","username",1,"text-text-strong",3,"placeholder"],["class","mt-1 text-sm text-red-1",4,"ngIf"],[1,"mb-2"],["formControlName","password","customInvalidClass","border-red-1",3,"placeholder","isInvalid"],[1,"flex","justify-end","mb-4"],["routerLink","/auth/forgot-password",1,"block","text-accent-blue","text-base","leading-5"],["appRippleEffect","",1,"btn-blue","font-medium","border-solid","border-2","text-center","block","w-full","rounded-lg","py-3","uppercase","text-2xl","mb-6","transition-colors",3,"ngClass"],[1,"text-center"],["routerLink","/auth/register",1,"text-accent-blue","text-xl","font-medium",3,"queryParams"],[1,"mt-1","text-sm","text-red-1"],[1,"w-full","sms-login-form",3,"formGroup"],[1,"relative"],["customInvalidClass","!border-red-1",3,"isInvalid","phoneNumber","onSelectPhoneCountry","onPhoneNumberChange"],[1,"mt-8","mb-11"],[1,"sms-field","flex","w-full"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-l-lg","border","border-border-input","text-text-strong","text-xl",3,"ngClass"],["formControlName","verificationCode",1,"sms-code",3,"placeholder"],["appRippleEffect","",1,"btn-blue","sms-btn","border","border-border-input","rounded-r-lg","font-medium","text-text-strong","p-3","whitespace-nowrap",2,"min-width","136px",3,"disabled","click"],["appRippleEffect","",1,"btn-blue","font-medium","border-solid","border-2","text-center","block","w-full","rounded-lg","py-3","uppercase","text-2xl","mb-6","transition-colors",3,"ngClass","click"],["routerLink","/auth/register",1,"text-accent-blue","text-xl","font-medium"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return t.changeLoginMethod("email")}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.NdJ("click",function(){return t.changeLoginMethod("sms")}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"app-theme-toggle",4),e.qZA(),e.TgZ(9,"div",5),e.YNc(10,le,22,29,"form",6),e.YNc(11,ce,20,25,"form",7),e.qZA()(),e.TgZ(12,"div",8)(13,"div",9),e._UZ(14,"app-language-dropdown",10)(15,"ion-icon",11),e.qZA(),e._UZ(16,"app-theme-toggle",12),e.qZA(),e._UZ(17,"div",13)),2&o&&(e.Q6J("ngClass",e.WLB(13,pe,t.loginFailed,t.loginSuccess)),e.xp6(2),e.Q6J("ngClass",e.VKq(16,z,"email"===t.loginMethod)),e.xp6(1),e.hij(" ",e.lcZ(4,9,"login-account-login")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(18,z,"sms"===t.loginMethod)),e.xp6(1),e.hij(" ",e.lcZ(7,11,"login-sms-login")," "),e.xp6(4),e.Q6J("ngIf","email"===t.loginMethod),e.xp6(1),e.Q6J("ngIf","sms"===t.loginMethod),e.xp6(3),e.Q6J("showText",!0),e.xp6(3),e.Q6J("ngClass",e.VKq(20,ge,t.loginSuccess)))},dependencies:[n.mk,n.O5,m.rH,g.gu,g.pK,g.j9,g.Fo,a._Y,a.JJ,a.JL,a.sg,a.u,j.q,N.b,q.T,Q.R,f.b,y.X$],styles:["[_nghost-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto}button[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}ion-input[_ngcontent-%COMP%]{--padding-start: 8px;font-size:1.1rem;line-height:24px}form.email-login-form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-top: 11px;--padding-bottom: 11px}form.sms-login-form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-top: 9px;--padding-bottom: 9px}form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--placeholder-weight: 500;--placeholder-color: var(--input-placeholder);--placeholder-opacity: 1}.auth-box[_ngcontent-%COMP%]{max-width:100%;width:100%;box-shadow:0 0 10px 10px rgba(0,0,0,.3)}@media (min-width: 640px){.auth-box[_ngcontent-%COMP%]{width:450px;min-width:450px}}.auth-box.failed[_ngcontent-%COMP%]{animation:angry-shake .4s}.auth-box.failed[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:var(--main-red);border-color:var(--main-red);color:#fff;opacity:1}.auth-box.success[_ngcontent-%COMP%]{animation:slideOutToUp .5s}.tab[_ngcontent-%COMP%]{font-size:1.35rem;line-height:1.75rem}.login-form[_ngcontent-%COMP%]{position:relative;width:100%;min-height:290px;transition:transform .4s}.login-form[_ngcontent-%COMP%]   form.ng-animating[_ngcontent-%COMP%]{position:absolute}.login-form.sms-login[_ngcontent-%COMP%]   form.email-login-form[_ngcontent-%COMP%]{pointer-events:none}.email-login-form[_ngcontent-%COMP%], .sms-login-form[_ngcontent-%COMP%]{width:100%;height:100%}.success-circle.success[_ngcontent-%COMP%]{transition:all .5s ease-in-out;transform:scale(300)}  .dark-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#21213a}  .dark-mode app-auth .tab.active{background-color:#181f42;border-color:var(--main-blue)}  .dark-mode app-auth .tab-body{background-color:#232232}  .dark-mode app-auth .language-btn:hover{background-color:rgba(255,255,255,.23)}  .light-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#f0f0f0}  .light-mode app-auth .tab.active{border-color:var(--main-blue);color:var(--main-blue);background:#dee8f8}  .light-mode app-auth .tab.active app-globe-icon svg *{fill:#fff}  .light-mode app-auth .tab-body{background-color:#fff}  .light-mode app-auth .language-btn:hover{background-color:rgba(255,255,255,.23)}"],data:{animation:[T.Gf,T.D7]}}),r})();function U(r){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var t in o)r[t]=o[t]}return r}var be=function $(r,l){function o(s,c,p){if(!(typeof document>"u")){"number"==typeof(p=U({},l,p)).expires&&(p.expires=new Date(Date.now()+864e5*p.expires)),p.expires&&(p.expires=p.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var C="";for(var w in p)p[w]&&(C+="; "+w,!0!==p[w]&&(C+="="+p[w].split(";")[0]));return document.cookie=s+"="+r.write(c,s)+C}}return Object.create({set:o,get:function t(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var c=document.cookie?document.cookie.split("; "):[],p={},C=0;C<c.length;C++){var w=c[C].split("="),B=w.slice(1).join("=");try{var I=decodeURIComponent(w[0]);if(p[I]=r.read(B,I),s===I)break}catch(K){}}return s?p[s]:p}},remove:function(s,c){o(s,"",U({},c,{expires:-1}))},withAttributes:function(s){return $(this.converter,U({},this.attributes,s))},withConverter:function(s){return $(U({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(l)},converter:{value:Object.freeze(r)}})}({read:function(r){return'"'===r[0]&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function ve(r,l){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const o=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=o.form.get("username"))||null==t.errors?null:t.errors.label)," ")}}function _e(r,l){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const o=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=o.form.get("password"))||null==t.errors?null:t.errors.label)," ")}}function xe(r,l){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const o=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=o.form.get("confirmPassword"))||null==t.errors?null:t.errors.label)," ")}}function Ce(r,l){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const o=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=o.form.get("mobile"))||null==t.errors?null:t.errors.label)," ")}}function we(r,l){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const o=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=o.form.get("email"))||null==t.errors?null:t.errors.label)," ")}}function ye(r,l){1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"verification-code-required")," "))}const Te=function(r){return{failed:r}},Y=function(r){return{"!border-red-1":r}},Ze=function(r){return{"has-inviter":r}};function Le(r,l){if(1&r&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const o=e.oxw();let t;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==(t=o.form.get("mobile"))||null==t.errors?null:t.errors.label)," ")}}function Oe(r,l){1&r&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"verification-code-required")," "))}const Pe=function(r){return{failed:r}},Me=function(r){return{"!border-red-1":r}},Ie=[{path:"",component:D,children:[{path:"login",component:fe,data:{animation:"Login"}},{path:"register",component:(()=>{class r extends L.H{constructor(o,t,s,c,p,C){super(),this.fb=o,this.userService=t,this.referralService=s,this.cdr=c,this.activatedRoute=p,this.authService=C,this.type="1",this.smsTimeRemaining=0,this.registerFailed=!1,this.isSubmitted=!1,this.confirmationValidator=w=>w.value?Object.is(w.value,this.form.controls.password.value)?{}:{error:!0,label:"confirm-password-validation-dismatch"}:{error:!0,label:"confirm-password-validation-required"},this.initForm()}ngOnInit(){this.getVerifyCode()}validate(){this.form.valid?this.submit():Object.values(this.form.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))})}getVerifyCode(){this.verifyCode=null}onSelectPhoneCountry(o){var t;o&&(null===(t=this.form.get("mobileArea"))||void 0===t||t.patchValue(o))}onPhoneNumberChange(o){var t;null===(t=this.form.get("mobile"))||void 0===t||t.patchValue(o)}getSmsCode(){const{mobile:o,mobileArea:t}=this.form.value;this.authService.sendSmsCode({type:Z.eo.Register,mobileArea:t,mobile:o.toString()}).subscribe({next:s=>{7001012!==s.code?8!==s.code?(this.toast.toastSuccess("\u53d1\u9001\u6210\u529f"),be.set(Z._h,(Date.now()+6e4).toString()),this.smsTimeRemaining=60,this.startTimeInterval()):this.toast.toastError("\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25,\u8bf7\u68c0\u67e5\u683c\u5f0f"):this.toast.toastError("\u624b\u673a\u53f7\u5df2\u5b58\u5728")},error:s=>{this.toast.toastError("\u624b\u673a\u53f7\u5df2\u5b58\u5728"),console.error(s)}}),this.type="2"}startTimeInterval(){this.timeInterval=setInterval(()=>{this.smsTimeRemaining-=1,this.smsTimeRemaining<1&&clearInterval(this.timeInterval)},1e3)}getEmailCode(){if(!this.form.controls.email.valid)return this.form.controls.email.markAsDirty(),void this.form.controls.email.updateValueAndValidity({onlySelf:!0});this.authService.SendEmailVerifyCodeParam({email:this.form.value.email,type:"register"}).subscribe(o=>{console.log(o),1001006!==o.code?(this.toast.toastSuccess("\u90ae\u4ef6\u5df2\u53d1\u9001"),this.smsTimeRemaining=60):this.toast.toastError("\u90ae\u7bb1\u5df2\u5b58\u5728")}),this.type="1"}submit(){const o=Object.assign({},this.form.value);this.isSubmitted=!0,delete o.confirmPassword,console.log(o),this.authService.registerV2(Object.assign(Object.assign({},o),{registerType:this.type,account:o.username,areaCode:o.mobileArea,mobile:o.mobile?o.mobile.toString():null,email:o.email?o.email:null,password:_()(o.password).toString()})).subscribe(t=>{if(0!==t.code)return this.toast.toastError(t.message),void this.registerHasFailed();this.toast.toastSuccess("\u6ce8\u518c\u6210\u529f"),this.router.navigateByUrl("/auth/login")},t=>{console.log(t),this.toast.toastError(t.message),this.getVerifyCode()})}initForm(){var o;console.log("initForm"),this.inviterId=null,this.referralService.inviterId&&(this.inviterId=this.referralService.inviterId),this.form=this.fb.group({username:[null,[O.userName]],password:[null,[O.password]],confirmPassword:[null,[a.kI.required,this.confirmationValidator]],mobileArea:["+86"],mobile:[null,[a.kI.required]],email:[null,O.email],verifyCode:[null,[a.kI.required]],inviterId:[this.inviterId],isProfessionalTrader:[!1,[a.kI.required]]}),this.inviterId&&(null===(o=this.form.get("inviterId"))||void 0===o||o.disable())}registerHasFailed(){this.registerFailed=!0,setTimeout(()=>{this.registerFailed=!1},800)}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(a.qu),e.Y36(R.K),e.Y36(G.C),e.Y36(e.sBO),e.Y36(m.gz),e.Y36(J.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],features:[e.qOj],decls:67,vars:63,consts:[[1,"auth-box","register-component","rounded-2xl","border-main-border","border-2","bg-main-bg","px-2","py-8","font-medium","mt-8","sm:mt-0",3,"ngClass"],[1,"flex","items-center","mb-8","pr-2","sm:pr-4"],["routerLink","/auth/login",1,"cursor-pointer","w-8","h-8","mr-1"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"active","tab","relative","text-lg","cursor-pointer","rounded-t","py-3","font-medium","whitespace-nowrap","flex-auto","text-center","mr-1"],[1,"hidden","sm:flex","items-center","ml-4"],[1,"w-full","px-2","sm:px-6",3,"formGroup"],[1,"form-field"],[1,"rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-2",3,"ngClass"],[1,"icon-person","text-text-strong","text-xl"],["formControlName","username",3,"placeholder"],["class","mt-1 text-sm text-red-1",4,"ngIf"],["formControlName","password","customInvalidClass","border-red-1",3,"placeholder","isInvalid"],["formControlName","confirmPassword","customInvalidClass","border-red-1",3,"placeholder","isInvalid"],[1,"form-field","relative"],["customInvalidClass","!border-red-1",3,"isInvalid","onSelectPhoneCountry","onPhoneNumberChange"],[1,"icon-letter","text-text-strong","text-xl"],["formControlName","email",1,"",3,"placeholder"],[1,"sms-field","flex","w-full","gap-x-2"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-lg","border","border-border-input","text-text-strong",3,"ngClass"],["formControlName","verifyCode",1,"sms-code",3,"placeholder"],["appRippleEffect","",1,"btn-blue","sms-btn","border","border-border-input","rounded-lg","font-medium","text-text-strong","px-3","whitespace-nowrap",3,"disabled","click"],[1,"flex","flex-col"],[1,"icon-phone_1","text-xl"],[1,"text-sm","leading-none"],[1,"icon-letter","text-xl"],[1,"form-field","inviter-input","rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-2",3,"ngClass"],[1,"icon-chaine","text-text-strong","text-xl"],["formControlName","inviterId",3,"placeholder"],["for","professionalTrader",1,"flex","items-center","mb-5","cursor-pointer"],["name","professionalTrader","mode","md","formControlName","isProfessionalTrader",1,"m-0","mr-1.5"],[1,"text-text-strong"],["type","submit","appRippleEffect","",1,"btn-blue","font-medium","border-solid","border-2","text-center","block","w-full","rounded-lg","py-3","uppercase","text-2xl",3,"click"],[1,"flex","items-center","justify-between","sm:justify-center","my-5"],[1,"flex","items-center","justify-center"],["interface","modal",3,"showText"],["name","chevron-forward-outline"],[1,"mr-2","sm:hidden"],[1,"mt-1","text-sm","text-red-1"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"ion-icon",3),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"app-theme-toggle",5),e.qZA(),e.TgZ(8,"form",6)(9,"div",7)(10,"div",8),e._UZ(11,"i",9)(12,"ion-input",10),e.ALo(13,"translate"),e.qZA(),e.YNc(14,ve,3,3,"div",11),e.qZA(),e.TgZ(15,"div",7),e._UZ(16,"app-password-field",12),e.ALo(17,"translate"),e.YNc(18,_e,3,3,"div",11),e.qZA(),e.TgZ(19,"div",7),e._UZ(20,"app-password-field",13),e.ALo(21,"translate"),e.YNc(22,xe,3,3,"div",11),e.qZA(),e.TgZ(23,"div",14)(24,"app-phone-control",15),e.NdJ("onSelectPhoneCountry",function(c){return t.onSelectPhoneCountry(c)})("onPhoneNumberChange",function(c){return t.onPhoneNumberChange(c)}),e.qZA(),e.YNc(25,Ce,3,3,"div",11),e.qZA(),e.TgZ(26,"div",7)(27,"div",8),e._UZ(28,"i",16)(29,"ion-input",17),e.ALo(30,"translate"),e.qZA(),e.YNc(31,we,3,3,"div",11),e.qZA(),e.TgZ(32,"div",7)(33,"div",18)(34,"div",19),e._UZ(35,"ion-input",20),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"button",21),e.NdJ("click",function(){return t.getSmsCode()}),e.TgZ(38,"div",22),e._UZ(39,"i",23),e.TgZ(40,"span",24),e._uU(41),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",21),e.NdJ("click",function(){return t.getEmailCode()}),e.TgZ(44,"div",22),e._UZ(45,"i",25),e.TgZ(46,"span",24),e._uU(47),e.ALo(48,"translate"),e.qZA()()()(),e.YNc(49,ye,3,3,"div",11),e.qZA(),e.TgZ(50,"div",26),e._UZ(51,"i",27)(52,"ion-input",28),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"label",29),e._UZ(55,"ion-checkbox",30),e.TgZ(56,"ion-label",31),e._uU(57),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"button",32),e.NdJ("click",function(){return t.submit()}),e._uU(60),e.ALo(61,"translate"),e.qZA()()(),e.TgZ(62,"div",33)(63,"div",34),e._UZ(64,"app-language-dropdown",35)(65,"ion-icon",36),e.qZA(),e._UZ(66,"app-theme-toggle",37),e.qZA()),2&o){let s,c,p,C,w,B,I,K,H,ee,te,V,X,oe;e.Q6J("ngClass",e.VKq(53,Te,t.registerFailed)),e.xp6(5),e.hij(" ",e.lcZ(6,31,"register")," "),e.xp6(3),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngClass",e.VKq(55,Y,(null==(s=t.form.get("username"))?null:s.errors)&&t.isSubmitted)),e.xp6(2),e.s9C("placeholder",e.lcZ(13,33,"username")),e.xp6(2),e.Q6J("ngIf",(null==(c=t.form.get("username"))?null:c.errors)&&t.isSubmitted),e.xp6(2),e.s9C("placeholder",e.lcZ(17,35,"password")),e.Q6J("isInvalid",(null==(p=t.form.get("password"))?null:p.errors)&&t.isSubmitted),e.xp6(2),e.Q6J("ngIf",(null==(C=t.form.get("password"))?null:C.errors)&&t.isSubmitted),e.xp6(2),e.s9C("placeholder",e.lcZ(21,37,"confirm-password")),e.Q6J("isInvalid",(null==(w=t.form.get("confirmPassword"))?null:w.errors)&&t.isSubmitted),e.xp6(2),e.Q6J("ngIf",(null==(B=t.form.get("confirmPassword"))?null:B.errors)&&t.isSubmitted),e.xp6(2),e.Q6J("isInvalid",(null==(I=t.form.get("mobile"))?null:I.errors)&&t.isSubmitted),e.xp6(1),e.Q6J("ngIf",(null==(K=t.form.get("mobile"))?null:K.errors)&&t.isSubmitted),e.xp6(2),e.Q6J("ngClass",e.VKq(57,Y,(null==(H=t.form.get("email"))?null:H.errors)&&t.isSubmitted)),e.xp6(2),e.s9C("placeholder",e.lcZ(30,39,"email")),e.xp6(2),e.Q6J("ngIf",(null==(ee=t.form.get("email"))?null:ee.errors)&&t.isSubmitted),e.xp6(3),e.Q6J("ngClass",e.VKq(59,Y,(null==(te=t.form.get("verifyCode"))?null:te.errors)&&t.isSubmitted)),e.xp6(1),e.Q6J("placeholder",e.lcZ(36,41,"verification-code")),e.xp6(2),e.Q6J("disabled",!0===(null==(V=t.form.get("mobile"))||null==V.errors?null:V.errors.error)),e.xp6(4),e.hij(" ",e.lcZ(42,43,"sms")," "),e.xp6(2),e.Q6J("disabled",!0===(null==(X=t.form.get("email"))||null==X.errors?null:X.errors.error)),e.xp6(4),e.hij(" ",e.lcZ(48,45,"email")," "),e.xp6(2),e.Q6J("ngIf",(null==(oe=t.form.get("verifyCode"))?null:oe.errors)&&t.isSubmitted),e.xp6(1),e.Q6J("ngClass",e.VKq(61,Ze,t.inviterId)),e.xp6(2),e.s9C("placeholder",e.lcZ(53,47,"fill-inviter")),e.xp6(5),e.hij(" ",e.lcZ(58,49,"professional-trader-question")," "),e.xp6(2),e.ekj("btn-disabled",t.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(61,51,"register")," "),e.xp6(4),e.Q6J("showText",!0)}},dependencies:[n.mk,n.O5,m.rH,g.nz,g.gu,g.pK,g.Q$,g.w,g.j9,g.Fo,a._Y,a.JJ,a.JL,a.sg,a.u,j.q,N.b,q.T,Q.R,f.b,y.X$],styles:["[_nghost-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto}ion-input[_ngcontent-%COMP%]{--padding-start: 8px;--padding-top: 11px;--padding-bottom: 11px;--placeholder-opacity: 1;--placeholder-color: var(--input-placeholder);--placeholder-weight: 500;font-size:1.1rem;line-height:24px;color:var(--text-strong)}ion-checkbox[_ngcontent-%COMP%]{--background: var(--main-bg);--border-color: var(--main-border)}.auth-box[_ngcontent-%COMP%]{max-width:100%;width:100%;box-shadow:0 0 10px 10px rgba(0,0,0,.3)}@media (min-width: 640px){.auth-box[_ngcontent-%COMP%]{width:450px;min-width:450px}}.auth-box.failed[_ngcontent-%COMP%]{animation:angry-shake .4s}.auth-box.failed[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:var(--main-red);border-color:var(--main-red);color:#fff;opacity:1}.tab[_ngcontent-%COMP%]{font-size:1.35rem;line-height:1.75rem}.form-field[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.form-field[_ngcontent-%COMP%]{margin-bottom:.75rem}}  .dark-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#21213a}  .dark-mode app-auth .tab.active{background-color:#181f42;border-color:var(--main-blue)}  .dark-mode app-auth .tab-body{background-color:#232232}  .dark-mode app-auth .inviter-input.has-inviter{background-color:#302d4b}  .dark-mode app-auth .inviter-input.has-inviter ion-input{color:#7c78a1!important}  .dark-mode app-auth .inviter-input.has-inviter i{color:#7c78a1!important}  .dark-mode app-auth .inviter-input.has-inviter   input{opacity:1!important}  .light-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#f0f0f0}  .light-mode app-auth .tab.active{border-color:var(--main-blue);color:var(--main-blue);background:#dee8f8}  .light-mode app-auth .tab.active app-globe-icon svg *{fill:#fff}  .light-mode app-auth .tab-body{background-color:#fff}"]}),r})(),data:{animation:"Register"}},{path:"forgot-password",component:(()=>{class r extends L.H{constructor(o,t,s,c,p){super(),this.fb=o,this.userService=t,this.cdr=s,this.activatedRoute=c,this.authService=p,this.type="register",this.smsTimeRemaining=0,this.forgotPasswordFailed=!1,this.isSubmitted=!1,this.initForm()}ngOnInit(){this.getVerifyCode()}validate(){this.form.valid?this.submit():Object.values(this.form.controls).forEach(o=>{o.invalid&&(console.log("control",o.errors),o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))})}getVerifyCode(){this.verifyCode=null}onSelectPhoneCountry(o){var t;o&&(null===(t=this.form.get("mobileArea"))||void 0===t||t.patchValue(o))}onPhoneNumberChange(o){var t;null===(t=this.form.get("mobile"))||void 0===t||t.patchValue(o)}getSmsCode(){const o=this.form.getRawValue();console.log("onSendVerificationCode",o),this.authService.sendSmsCode({type:Z.eo.ResetPassword,mobileArea:o.countryCode?o.countryCode:"+86",mobile:o.mobile}).pipe().subscribe(t=>{0===t.code?this.toast.toastSuccess("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001"):this.toast.toastError(t.message)})}startTimeInterval(){this.timeInterval=setInterval(()=>{this.smsTimeRemaining-=1,this.smsTimeRemaining<1&&clearInterval(this.timeInterval)},1e3)}getEmailCode(){if(!this.form.controls.email.valid)return this.form.controls.email.markAsDirty(),void this.form.controls.email.updateValueAndValidity({onlySelf:!0});this.type="email"}submit(){const o=Object.assign(Object.assign({},this.form.value),{type:this.type});this.isSubmitted=!0,this.form.invalid?this.forgotPasswordHasFailed():(console.log(o),this.authService.forgetPassword({codeType:"sms_code",code:o.verifyCode,newPassword:d(o.newPassword).toString(),mobileArea:o.mobileArea,mobile:o.mobile}).pipe().subscribe(t=>(0,k.mG)(this,void 0,void 0,function*(){0===t.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f")):this.toast.toastError(t.message)})))}initForm(){this.form=this.fb.group({mobileArea:["+86"],mobile:[null,[a.kI.required,O.phone]],verifyCode:[null,[a.kI.required]],newPassword:[null,[a.kI.required]]})}forgotPasswordHasFailed(){this.forgotPasswordFailed=!0,setTimeout(()=>{this.forgotPasswordFailed=!1},800)}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(a.qu),e.Y36(R.K),e.Y36(e.sBO),e.Y36(m.gz),e.Y36(J.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-forgot-password"]],features:[e.qOj],decls:36,vars:27,consts:[[1,"auth-box","register-component","rounded-2xl","border-main-border","border-2","bg-main-bg","px-2","py-8","font-medium",3,"ngClass"],[1,"flex","items-center","mb-8","pr-2","sm:pr-4"],["routerLink","/auth/login",1,"cursor-pointer","w-8","h-8","mr-1"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"active","tab","cursor-pointer","rounded-t","py-3","font-medium","whitespace-nowrap","flex-auto","text-center","mr-1"],[1,"hidden","sm:flex","items-center","ml-4"],[1,"w-full","px-2","sm:px-6",3,"formGroup"],[1,"relative"],["customInvalidClass","!border-red-1",3,"isInvalid","onSelectPhoneCountry","onPhoneNumberChange"],["class","mt-1 text-sm text-red-1",4,"ngIf"],[1,"my-3"],[1,"sms-field","flex","w-full","gap-x-2"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-lg","border","border-border-input","text-text-strong",3,"ngClass"],["formControlName","verifyCode",1,"sms-code",3,"placeholder"],["type","button","appRippleEffect","",1,"btn-blue","sms-btn","border","border-border-input","rounded-lg","font-medium","text-text-strong","px-3","whitespace-nowrap",3,"disabled","click"],[1,"flex","flex-col"],[1,"icon-phone_1","text-xl"],[1,"text-sm","leading-none"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-l-lg","border","border-border-input","text-text-strong","text-xl"],["formControlName","newPassword",1,"w-full",3,"placeholder"],["type","submit","appRippleEffect","",1,"btn-blue","font-medium","border-solid","border-2","text-center","block","w-full","rounded-lg","py-3","uppercase","text-2xl",3,"click"],[1,"flex","items-center","justify-between","sm:justify-center","my-5"],[1,"flex","items-center","justify-center"],["interface","modal",3,"showText"],["name","chevron-forward-outline"],[1,"mr-2","sm:hidden"],[1,"mt-1","text-sm","text-red-1"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"ion-icon",3),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"app-theme-toggle",5),e.qZA(),e.TgZ(8,"form",6)(9,"div",7)(10,"app-phone-control",8),e.NdJ("onSelectPhoneCountry",function(c){return t.onSelectPhoneCountry(c)})("onPhoneNumberChange",function(c){return t.onPhoneNumberChange(c)}),e.qZA(),e.YNc(11,Le,3,3,"div",9),e.qZA(),e.TgZ(12,"div",10)(13,"div",11)(14,"div",12),e._UZ(15,"ion-input",13),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",14),e.NdJ("click",function(){return t.getSmsCode()}),e.TgZ(18,"div",15),e._UZ(19,"i",16),e.TgZ(20,"span",17),e._uU(21),e.ALo(22,"translate"),e.qZA()()()(),e.YNc(23,Oe,3,3,"div",9),e.qZA(),e.TgZ(24,"div",10)(25,"div",18),e._UZ(26,"app-password-field",19),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"button",20),e.NdJ("click",function(){return t.submit()}),e._uU(29),e.ALo(30,"translate"),e.qZA()()(),e.TgZ(31,"div",21)(32,"div",22),e._UZ(33,"app-language-dropdown",23)(34,"ion-icon",24),e.qZA(),e._UZ(35,"app-theme-toggle",25),e.qZA()),2&o){let s,c,p,C,w;e.Q6J("ngClass",e.VKq(23,Pe,t.forgotPasswordFailed)),e.xp6(5),e.hij(" ",e.lcZ(6,13,"forgot-password")," "),e.xp6(3),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("isInvalid",(null==(s=t.form.get("mobile"))?null:s.errors)&&t.isSubmitted),e.xp6(1),e.Q6J("ngIf",(null==(c=t.form.get("mobile"))?null:c.errors)&&t.isSubmitted),e.xp6(3),e.Q6J("ngClass",e.VKq(25,Me,(null==(p=t.form.get("verifyCode"))?null:p.errors)&&t.isSubmitted)),e.xp6(1),e.Q6J("placeholder",e.lcZ(16,15,"verification-code")),e.xp6(2),e.Q6J("disabled",!0===(null==(C=t.form.get("mobile"))||null==C.errors?null:C.errors.error)),e.xp6(4),e.hij(" ",e.lcZ(22,17,"sms")," "),e.xp6(2),e.Q6J("ngIf",(null==(w=t.form.get("verifyCode"))?null:w.errors)&&t.isSubmitted),e.xp6(3),e.s9C("placeholder",e.lcZ(27,19,"new-password")),e.xp6(3),e.hij(" ",e.lcZ(30,21,"submit")," "),e.xp6(4),e.Q6J("showText",!0)}},dependencies:[n.mk,n.O5,m.rH,g.gu,g.pK,g.j9,g.Fo,a._Y,a.JJ,a.JL,a.sg,a.u,j.q,N.b,q.T,Q.R,f.b,y.X$],styles:["[_nghost-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto}ion-input[_ngcontent-%COMP%]{--padding-start: 8px;--padding-top: 11px;--padding-bottom: 11px;--placeholder-opacity: 1;--placeholder-color: var(--input-placeholder);--placeholder-weight: 500;font-size:1.1rem;line-height:24px;color:var(--text-strong)}ion-checkbox[_ngcontent-%COMP%]{--background: var(--main-bg);--border-color: var(--main-border)}.auth-box[_ngcontent-%COMP%]{max-width:100%;width:100%;box-shadow:0 0 10px 10px rgba(0,0,0,.3)}@media (min-width: 640px){.auth-box[_ngcontent-%COMP%]{width:450px;min-width:450px}}.auth-box.failed[_ngcontent-%COMP%]{animation:angry-shake .4s}.auth-box.failed[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:var(--main-red);border-color:var(--main-red);color:#fff;opacity:1}.tab[_ngcontent-%COMP%]{font-size:1.35rem;line-height:1.75rem}  .dark-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#21213a}  .dark-mode app-auth .tab.active{background-color:#181f42;border-color:var(--main-blue)}  .dark-mode app-auth .tab-body{background-color:#232232}  .dark-mode app-auth .inviter-input.has-inviter{background-color:#302d4b}  .dark-mode app-auth .inviter-input.has-inviter ion-input{color:#7c78a1!important}  .dark-mode app-auth .inviter-input.has-inviter i{color:#7c78a1!important}  .dark-mode app-auth .inviter-input.has-inviter   input{opacity:1!important}  .light-mode app-auth .tab{border-bottom-width:2px;border-style:solid;border-color:transparent;color:var(--text-strong);background-color:#f0f0f0}  .light-mode app-auth .tab.active{border-color:var(--main-blue);color:var(--main-blue);background:#dee8f8}  .light-mode app-auth .tab.active app-globe-icon svg *{fill:#fff}  .light-mode app-auth .tab-body{background-color:#fff}"]}),r})(),data:{animation:"Register"}}]}];let Se=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.Bz.forChild(Ie),m.Bz]}),r})(),ke=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[n.ez,Se,g.Pc,y.aw,a.u5,a.UX,b.T,u,f.b]}),r})()},7139:(P,A,i)=>{i.d(A,{q:()=>F});var n=i(655),a=i(8008),g=i(2722),y=i(5762),b=i(866),e=i(4650),u=i(1782),f=i(3416),m=i(7179),T=i(6895);function h(v,O){if(1&v&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&v){const d=e.oxw();e.Q6J("ngClass",d.customTextClass),e.xp6(1),e.Oqu(d.currentLang.text)}}function L(v,O){1&v&&e._UZ(0,"ion-icon",8)}function x(v,O){if(1&v&&(e.TgZ(0,"ion-content"),e.GkF(1,9),e.qZA()),2&v){e.oxw();const d=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",d)}}function S(v,O){if(1&v&&e.GkF(0,9),2&v){e.oxw();const d=e.MAs(9);e.Q6J("ngTemplateOutlet",d)}}const D=function(v){return{activated:v}};function k(v,O){if(1&v){const d=e.EpF();e.TgZ(0,"ion-item",12),e.NdJ("click",function(){const M=e.CHM(d).$implicit,R=e.oxw(2);return e.KtG(R.setLanguage(M))}),e._UZ(1,"img",13),e.TgZ(2,"ion-label",14),e._uU(3),e.qZA()()}if(2&v){const d=O.$implicit,_=e.oxw(2);e.Q6J("ngClass",e.VKq(3,D,_.currentLang.code===d.code)),e.xp6(1),e.Q6J("src",d.icon,e.LSH),e.xp6(2),e.hij(" ",d.text," ")}}function E(v,O){if(1&v&&(e.TgZ(0,"ion-list",10),e.YNc(1,k,4,5,"ion-item",11),e.qZA()),2&v){const d=e.oxw();e.xp6(1),e.Q6J("ngForOf",d.languages)}}let F=(()=>{class v extends y.H{constructor(d,_,Z){super(),this.activatedRoute=d,this.translateService=_,this.storage=Z,this.showText=!1,this.showIcon=!1,this.customTextClass="",this.interface="popover",this.isModalOpen=!1,this.isPopoverOpen=!1,this.languages=[{icon:"assets/images/english.svg",text:"English",code:"en"},{icon:"assets/images/china.svg",text:"\u7b80\u4f53\u4e2d\u6587",code:"cn"},{icon:"assets/images/china-tradition.svg",text:"\u7e41\u9ad4\u4e2d\u6587",code:"tr"}],this.currentLang=this.languages[0]}ngOnInit(){const d=this.translateService.currentLang;this.currentLang=this.languages.find(_=>_.code===d)||this.languages[0],this.translateService.onLangChange.pipe((0,g.R)(this.onDestroy$)).subscribe(_=>{this.currentLang=this.languages.find(Z=>Z.code===_.lang)||this.languages[0],this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{lang:_.lang},queryParamsHandling:"merge"})}),this.activatedRoute.queryParams.pipe((0,g.R)(this.onDestroy$)).subscribe(_=>{if(_.lang){const Z=this.languages.find(M=>M.code===_.lang)||this.languages[0];this.setLanguage(Z)}})}setLanguage(d){return(0,n.mG)(this,void 0,void 0,function*(){this.currentLang=d,this.translateService.use(d.code),new Date((new Date).setFullYear((new Date).getFullYear()+1)),yield this.storage.set(b.L,d.code),this.isPopoverOpen=!1,this.isModalOpen=!1})}handleTriger(d){"popover"===this.interface?(this.popover.event=d,this.isPopoverOpen=!0):this.isModalOpen=!0}}return v.\u0275fac=function(d){return new(d||v)(e.Y36(u.gz),e.Y36(f.sK),e.Y36(m.V))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-language-dropdown"]],viewQuery:function(d,_){if(1&d&&e.Gf(a.d8,5),2&d){let Z;e.iGM(Z=e.CRH())&&(_.popover=Z.first)}},inputs:{showText:"showText",showIcon:"showIcon",customTextClass:"customTextClass",interface:"interface"},features:[e.qOj],decls:10,vars:5,consts:[[1,"ml-1","flex","justify-center","items-center",3,"click"],[1,"h-5",3,"src"],["class","ml-2 text-text-strong",3,"ngClass",4,"ngIf"],["class","ml-1","name","chevron-down-outline",4,"ngIf"],["side","bottom","alignment","center",3,"isOpen","didDismiss"],[1,"theme-modal",3,"isOpen","didDismiss"],["languageList",""],[1,"ml-2","text-text-strong",3,"ngClass"],["name","chevron-down-outline",1,"ml-1"],[3,"ngTemplateOutlet"],["lines","full",1,"py-2"],["class","cursor-pointer","lines","none",3,"ngClass","click",4,"ngFor","ngForOf"],["lines","none",1,"cursor-pointer",3,"ngClass","click"],[1,"mr-2","h-8",3,"src"],[1,"text-text-strong","my-4"]],template:function(d,_){1&d&&(e.TgZ(0,"button",0),e.NdJ("click",function(M){return _.handleTriger(M)}),e._UZ(1,"img",1),e.YNc(2,h,2,2,"div",2),e.YNc(3,L,1,0,"ion-icon",3),e.qZA(),e.TgZ(4,"ion-popover",4),e.NdJ("didDismiss",function(){return _.isPopoverOpen=!1}),e.YNc(5,x,2,1,"ng-template"),e.qZA(),e.TgZ(6,"ion-modal",5),e.NdJ("didDismiss",function(){return _.isModalOpen=!1}),e.YNc(7,S,1,1,"ng-template"),e.qZA(),e.YNc(8,E,2,1,"ng-template",null,6,e.W1O)),2&d&&(e.xp6(1),e.Q6J("src",_.currentLang.icon,e.LSH),e.xp6(1),e.Q6J("ngIf",_.showText),e.xp6(1),e.Q6J("ngIf",_.showIcon),e.xp6(1),e.Q6J("isOpen",_.isPopoverOpen),e.xp6(2),e.Q6J("isOpen",_.isModalOpen))},dependencies:[T.mk,T.sg,T.O5,T.tP,a.W2,a.gu,a.Ie,a.Q$,a.q_,a.ki,a.d8],styles:["ion-popover[_ngcontent-%COMP%]{--backdrop-opacity: 0;--max-width: 300px}ion-item[_ngcontent-%COMP%]{--color: var(--text-strong);font-size:20px}ion-item.activated[_ngcontent-%COMP%]{--background: var(--main-blue-transparent);--color: var(--main-blue)}ion-modal[_ngcontent-%COMP%]{--width: 320px;--height: auto}"]}),v})()},3284:(P,A,i)=>{i.d(A,{T:()=>f});var n=i(7341),a=i(4650),g=i(5379),y=i(6895),b=i(8008);const e=function(m,T){return{dark:m,light:T}};function u(m,T){if(1&m){const h=a.EpF();a.TgZ(0,"div",1),a.NdJ("click",function(){a.CHM(h);const x=a.oxw();return a.KtG(x.themeService.toggle())}),a._UZ(1,"div",2)(2,"div",3)(3,"ion-icon",4)(4,"ion-icon",5)(5,"ion-icon",6)(6,"ion-icon",7),a.qZA()}if(2&m){const h=T.ngIf;a.Q6J("ngClass",a.WLB(1,e,"dark"===h,"light"===h))}}let f=(()=>{class m extends n.u{constructor(h){super(),this.themeService=h}ngOnInit(){}}return m.\u0275fac=function(h){return new(h||m)(a.Y36(g.f))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-theme-toggle"]],features:[a.qOj],decls:2,vars:3,consts:[["class","container cursor-pointer",3,"ngClass","click",4,"ngIf"],[1,"container","cursor-pointer",3,"ngClass","click"],[1,"knob","absolute","z-10"],[1,"track","w-full","h-full","rounded-full"],["name","star",1,"w-1","h-1","fill-white","absolute","left-4","top-1"],["name","star",1,"w-1","h-1","fill-white","absolute","left-1","top-3"],["name","star",1,"w-1","h-1","fill-white","absolute","left-9","top-1"],["name","star",1,"w-1","h-1","fill-white","absolute","left-7","top-3"]],template:function(h,L){1&h&&(a.YNc(0,u,7,4,"div",0),a.ALo(1,"async")),2&h&&a.Q6J("ngIf",a.lcZ(1,1,L.themeService.theme$))},dependencies:[y.mk,y.O5,b.gu,y.Ov],styles:[".container[_ngcontent-%COMP%]{height:24px;width:50px;position:relative}.container.dark[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]{background:linear-gradient(to right,white,#23174B)}.container.dark[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{transform:translate(0) translateY(-50%)}.container.light[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]{background:linear-gradient(to right,#2ED5F2,white)}.container.light[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{transform:translate(26px) translateY(-50%)}.knob[_ngcontent-%COMP%]{width:24px;height:24px;top:50%;left:0;transform:translate(0) translateY(-50%);transition:transform .3s;position:absolute;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}"]}),m})()},5762:(P,A,i)=>{i.d(A,{H:()=>T});var n=i(1782),a=i(7579),g=i(727),y=i(5594),b=i(655),e=i(4650),u=i(8008);let f=(()=>{class h{constructor(x){this.toast=x}toastError(x){return(0,b.mG)(this,void 0,void 0,function*(){yield this.presentToast({position:"bottom",message:x,icon:"alert-circle-outline",duration:2500,color:"danger"})})}toastSuccess(x){return(0,b.mG)(this,void 0,void 0,function*(){yield this.presentToast({position:"bottom",message:x,duration:2500,icon:"checkmark-circle-outline",color:"success"})})}presentToast(x){return(0,b.mG)(this,void 0,void 0,function*(){yield(yield this.toast.create(x)).present()})}}return h.\u0275fac=function(x){return new(x||h)(e.LFG(u.yF))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var m=i(981);let T=(()=>{class h{constructor(){this.onDestroy$=new a.x,this.subscriptions=new g.w0,this.isApp=!1;const x=y.k.getInjector();this.router=x.get(n.F0),this.toast=x.get(f),this.confirm=x.get(m.z),this.isApp=0!==document.URL.indexOf("http")}ngOnDestroy(){this.subscriptions.unsubscribe(),this.onDestroy$.next(!0),this.onDestroy$.complete()}}return h.\u0275fac=function(x){return new(x||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["ng-component"]],decls:0,vars:0,template:function(x,S){},encapsulation:2}),h})()},7341:(P,A,i)=>{i.d(A,{u:()=>y});var n=i(4650),a=i(8008),g=i(5762);let y=(()=>{class b extends g.H{constructor(){super(...arguments),this.isOpenChange=new n.vpe}handleDismiss(){this.isOpenChange.emit(!1)}}return b.\u0275fac=function(){let e;return function(f){return(e||(e=n.n5z(b)))(f||b)}}(),b.\u0275cmp=n.Xpm({type:b,selectors:[["ng-component"]],viewQuery:function(u,f){if(1&u&&n.Gf(a.ki,5),2&u){let m;n.iGM(m=n.CRH())&&(f.modalRef=m.first)}},inputs:{isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},features:[n.qOj],decls:0,vars:0,template:function(u,f){},encapsulation:2}),b})()},6339:(P,A,i)=>{i.d(A,{X:()=>y});var n=i(2340),a=i(4650),g=i(529);let y=(()=>{class b{constructor(u){this.http=u}ottoOptionsLog(u,f,m){return this.http.get(`${n.N.BASE_URL}/user/wallet/ottoOptionsLog?balanceType=${m}&page=${u}&rows=${f}`)}balanceLog(u,f,m){return this.http.get(`${n.N.BASE_URL}/user/wallet/balanceLog?balanceType=${m}&page=${u}&rows=${f}`)}giftLog(u,f,m){return this.http.get(`${n.N.BASE_URL}/user/wallet/giftLog?balanceType=${m}&page=${u}&rows=${f}`)}pointLog(u,f,m){return this.http.get(`${n.N.BASE_URL}/user/wallet/pointLog?balanceType=${m}&page=${u}&rows=${f}`)}walletInfo(){return this.http.get(`${n.N.BASE_URL}/user/wallet/info`)}buyGift(u){return this.http.post(`${n.N.BASE_URL}/user/wallet/buyGift`,u)}pointExchangeBalance(u){return this.http.post(`${n.N.BASE_URL}/user/wallet/pointExchangeBalance`,u)}exchangeOttoOptions(u){return this.http.post(`${n.N.BASE_URL}/user/wallet/exchangeOttoOptions`,u)}exchangeGift(u){return this.http.post(`${n.N.BASE_URL}/user/wallet/exchangeGift`,u)}givePoint(u){return this.http.post(`${n.N.BASE_URL}/user/wallet/giveBalance`,u)}getQrCode(){return this.http.get(`${n.N.BASE_URL}/user/setUp/googleAuth/getQrCode`)}sendCode(u){return this.http.post(`${n.N.BASE_URL}/user/setUp/googleAuth/bindGoogleAuth`,u)}}return b.\u0275fac=function(u){return new(u||b)(a.LFG(g.eN))},b.\u0275prov=a.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},2722:(P,A,i)=>{i.d(A,{R:()=>b});var n=i(4482),a=i(5403),g=i(8421),y=i(5032);function b(e){return(0,n.e)((u,f)=>{(0,g.Xf)(e).subscribe((0,a.x)(f,()=>f.complete(),y.Z)),!f.closed&&u.subscribe(f)})}}}]);