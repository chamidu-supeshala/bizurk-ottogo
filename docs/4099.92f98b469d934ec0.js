(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4099],{4099:(O,l,a)=>{"use strict";a.r(l),a.d(l,{SecurityModule:()=>_e});var r=a(6895),i=a(8008),t=a(3416),o=a(5433),s=a(8854),d=a(3709),u=a(655);const m=[{key:"login",label:"on-login"},{key:"payment",label:"payment"},{key:"activateStrategy",label:"activate-strategy"},{key:"bindExchange",label:"blind-exchange"}];var f=a(5762),e=a(4650),I=a(5939),_=a(6540),C=a(6065),P=a(9769),U=a(7341),L=a(7312);const S=function(h,v,n){return{active:h,fail:v,success:n}};function k(h,v){if(1&h&&e._UZ(0,"div",15),2&h){const n=v.index,c=e.oxw(2);e.Q6J("ngClass",e.kEZ(1,S,n<c.displayPIN.length,c.isPINInvalid,c.isPINValid))}}const A=function(h){return{"!text-main-green":h}},M=function(){return[]};function B(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"ion-icon",4),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e.qZA()()(),e.TgZ(4,"div",5)(5,"div",6)(6,"h3",7),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9),e.YNc(11,k,1,5,"div",10),e.qZA(),e.TgZ(12,"div",11)(13,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"1"))}),e._uU(14," 1 "),e.qZA(),e.TgZ(15,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"2"))}),e._uU(16," 2 "),e.qZA(),e.TgZ(17,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"3"))}),e._uU(18," 3 "),e.qZA(),e.TgZ(19,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"4"))}),e._uU(20," 4 "),e.qZA(),e.TgZ(21,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"5"))}),e._uU(22," 5 "),e.qZA(),e.TgZ(23,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"6"))}),e._uU(24," 6 "),e.qZA(),e.TgZ(25,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"7"))}),e._uU(26," 7 "),e.qZA(),e.TgZ(27,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"8"))}),e._uU(28," 8 "),e.qZA(),e.TgZ(29,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"9"))}),e._uU(30," 9 "),e.qZA(),e.TgZ(31,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(""))}),e._UZ(32,"ion-icon",13),e.qZA(),e.TgZ(33,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN+"0"))}),e._uU(34," 0 "),e.qZA(),e.TgZ(35,"div",12),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onChangePIN(g.displayPIN.slice(0,-1)))}),e._UZ(36,"ion-icon",14),e.qZA()()()()()}if(2&h){const n=e.oxw();e.xp6(6),e.Q6J("ngClass",e.VKq(5,A,n.step>1&&n.isPINValid)),e.xp6(1),e.hij(" ",e.lcZ(8,3,n.titles[n.step])," "),e.xp6(4),e.Q6J("ngForOf",e.DdM(7,M).constructor(n.PINLength))}}let D=(()=>{class h extends U.u{constructor(n,c){super(),this.authService=n,this.userService=c,this.step=0,this.titles=["enter-current-trading-pin","enter-new-pin","confirm-new-pin","success"],this.PINLength=4,this.pinArray=["","",""],this.displayPIN="",this.isPINInvalid=!1,this.isPINValid=!1}onChangePIN(n){if(this.displayPIN=n,n.length===this.PINLength)switch(this.pinArray[this.step]=this.displayPIN,this.step){case 0:console.log(this.displayPIN),this.authService.checkModifyPassword({type:L.nS.PaymentPassword,password:P(this.displayPIN).toString()}).subscribe({next:c=>(0,u.mG)(this,void 0,void 0,function*(){0!==c.code?(this.handleFailure(0),this.toast.toastError(c.message)):this.handleSuccess(0)}),error:c=>{console.error(c)}}).add();break;case 1:this.step++,this.displayPIN="";break;case 2:this.pinArray[1]!==this.pinArray[2]?(console.log("Failure: Confirmed PIN does not match entered PIN",this.pinArray[1],this.pinArray[2],this.step),this.handleFailure(2)):(console.log("Success: PIN updated successfully"),this.step++,this.handleSuccess(2))}}handleFailure(n){this.isPINInvalid=!0,setTimeout(()=>{this.pinArray[n]="",this.displayPIN="",this.isPINInvalid=!1},500)}handleSuccess(n){this.isPINValid=!0,setTimeout(()=>{this.step++,n>1?(console.log("Change Trading Password Form",this.pinArray),console.log(this.userService._userInfo.paymentPassword,this.pinArray[0]),this.userService._userInfo.paymentPassword&&0!==this.pinArray[0].length?this.authService.modifyPaymentPassword({oldPassword:P(this.pinArray[0]).toString(),newPassword:P(this.pinArray[1]).toString()}).subscribe({next:c=>(0,u.mG)(this,void 0,void 0,function*(){0===c.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),console.log(c),this.handleDismiss()):this.toast.toastError(c.message)}),error:c=>{console.error(c)}}).add():this.authService.modifyPaymentPassword({newPassword:P(this.pinArray[2]).toString()}).subscribe({next:c=>(0,u.mG)(this,void 0,void 0,function*(){0===c.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u8bbe\u7f6e\u6210\u529f"),console.log(c),this.handleDismiss()):this.toast.toastError(c.message)}),error:c=>{console.error(c)}}).add()):this.resetValue()},500)}resetValue(){this.displayPIN="",this.isPINValid=!1,this.step>1&&(this.step=0)}}return h.\u0275fac=function(n){return new(n||h)(e.Y36(_.e),e.Y36(I.K))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-trading-password-modal"]],inputs:{step:"step"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","willDismiss","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","mb-8","px-1","sm:px-3","h-full"],[1,"h-2/5","flex","items-center","justify-center"],[1,"text-2xl","text-text-strong","font-medium",3,"ngClass"],[1,"h-3/5","flex","flex-col","rounded-t-md","bg-main-bg"],[1,"pin-code"],["class","pin-code__circle w-4 h-4 ng rounded-full mx-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"keypad","grid","grid-cols-3"],[1,"keypad__button",3,"click"],["name","refresh-outline"],["name","backspace-outline"],[1,"pin-code__circle","w-4","h-4","ng","rounded-full","mx-2",3,"ngClass"]],template:function(n,c){1&n&&(e.TgZ(0,"ion-modal",0),e.NdJ("willDismiss",function(){return c.handleDismiss()})("didDismiss",function(){return c.resetValue()}),e.YNc(1,B,37,8,"ng-template"),e.qZA()),2&n&&e.Q6J("isOpen",c.isOpen)},dependencies:[r.ez,r.mk,r.sg,i.Pc,i.gu,i.ki,t.aw,t.X$],styles:["ion-modal[_ngcontent-%COMP%]{--width: 100%;--height: 100%;--border-radius: 0px;--border-width: 0px}@media (min-width: 640px){ion-modal[_ngcontent-%COMP%]{--width: 400px;--height: 640px;--border-radius: 15px;--border-width: 2px}}.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1rem}}.modal-content[_ngcontent-%COMP%]   .pin-code[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   .pin-code__circle.fail[_ngcontent-%COMP%]{border-color:var(--main-red);background-color:var(--main-red);animation:_ngcontent-%COMP%_shake .5s}.modal-content[_ngcontent-%COMP%]   .pin-code__circle.success[_ngcontent-%COMP%]{background-color:var(--main-green)}.modal-content[_ngcontent-%COMP%]   .keypad[_ngcontent-%COMP%]{flex:1 1 auto;cursor:pointer;font-size:1.875rem;line-height:2.25rem;color:var(--text-strong)}.modal-content[_ngcontent-%COMP%]   .keypad__button[_ngcontent-%COMP%]{display:flex;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;justify-content:center}  .light-mode .pin-code__circle:not(.success, .fail)[_ngcontent-%COMP%]{border-width:2px;--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}  .light-mode .pin-code__circle:not(.success, .fail).active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}  .dark-mode .pin-code__circle:not(.success, .fail)[_ngcontent-%COMP%]{border-width:2px;--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}  .dark-mode .pin-code__circle:not(.success, .fail).active[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(71 85 105 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}@keyframes _ngcontent-%COMP%_shake{0%{transform:translate(0)}25%{transform:translate(-5px)}50%{transform:translate(5px)}75%{transform:translate(-5px)}to{transform:translate(0)}}"]}),h})();var y=a(5915),T=a(3366);function x(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",11)(1,"span",12),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-toggle",13),e.NdJ("ionChange",function(g){const J=e.CHM(n).$implicit,R=e.oxw(2);return e.KtG(R.toggleAuth(g,J.key))}),e.qZA()()}if(2&h){const n=v.$implicit,c=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,2,n.label)," "),e.xp6(2),e.Q6J("checked",c.securedMethods[n.key]||!1)}}function w(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-icon",5),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e.qZA()()(),e.TgZ(7,"div",6),e.YNc(8,x,5,4,"div",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onConfirmAuth())}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()}if(2&h){const n=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,5,"two-factor-authentication")," "),e.xp6(4),e.Q6J("ngForOf",n.securableMethods),e.xp6(3),e.hij(" ",e.lcZ(12,7,"cancel")," "),e.xp6(2),e.Q6J("disabled",!n.isChanged),e.xp6(1),e.hij(" ",e.lcZ(15,9,"confirm")," ")}}let N=(()=>{class h extends U.u{constructor(){super(),this.handleTwoFactorAuth=new e.vpe,this.securableMethods=m}get isChanged(){return JSON.stringify(this._securedMethods)!==JSON.stringify(this.securedMethods)}ngOnChanges(n){var c,g;(null===(c=n.securedMethods)||void 0===c?void 0:c.currentValue)!==(null===(g=n.securedMethods)||void 0===g?void 0:g.previousValue)&&(this._securedMethods=Object.assign({},this.securedMethods))}toggleAuth(n,c){this._securedMethods[c]=n.detail.checked}onConfirmAuth(){this.handleTwoFactorAuth.emit(this._securedMethods)}}return h.\u0275fac=function(n){return new(n||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-two-factor-modal"]],inputs:{securedMethods:"securedMethods"},outputs:{handleTwoFactorAuth:"handleTwoFactorAuth"},standalone:!0,features:[e.qOj,e.TTD,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","mb-8","px-1","sm:px-3"],["class","w-full flex items-center justify-between pb-3 my-4 border-b border-main-border",4,"ngFor","ngForOf"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],["appRippleEffect","",1,"btn-medium",3,"click"],["appRippleEffect","",1,"btn-blue","font-medium",3,"disabled","click"],[1,"w-full","flex","items-center","justify-between","pb-3","my-4","border-b","border-main-border"],[1,"text-lg","font-medium","text-text-strong"],[3,"checked","ionChange"]],template:function(n,c){1&n&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return c.handleDismiss()}),e.YNc(1,w,16,11,"ng-template"),e.qZA()),2&n&&e.Q6J("isOpen",c.isOpen)},dependencies:[r.ez,r.sg,i.Pc,i.gu,i.ho,i.ki,i.w,t.aw,t.X$,s.T,C.R],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto}ion-toggle[_ngcontent-%COMP%]{height:32px;width:65px;padding:0;--handle-width: 28px;--handle-height: 28px;--background: rgb(54, 55, 83);--background-checked: var(--accent-blue);--handle-background: rgb(107, 107, 143);--handle-background-checked: var(--main-blue);--handle-spacing: 2px;--border-radius: 16px}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}  .light-mode ion-toggle{--background: var(--grey-3);--handle-background: rgb(53, 53, 68, .34)}  .dark-mode ion-toggle{--background: #363753;--background-checked: #00328f;--handle-background: rgb(107, 107, 143)}"]}),h})();var p=a(4006),b=a(1169),E=a(6948);function Z(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"h2",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-icon",5),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e.qZA()()(),e.TgZ(7,"div",6)(8,"app-phone-control",7),e.NdJ("onSelectPhoneCountry",function(g){e.CHM(n);const F=e.oxw();return e.KtG(F.onSelectPhoneCountry(g))})("onPhoneNumberChange",function(g){e.CHM(n);const F=e.oxw();return e.KtG(F.onPhoneNumberChange(g))}),e.qZA(),e.TgZ(9,"div",8)(10,"div",9),e._UZ(11,"ion-input",10),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onSendVerificationCode())}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9),e._UZ(18,"app-password-field",12),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"div",13)(21,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"button",15),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.forgetPhoneNumber())}),e._uU(25),e.ALo(26,"translate"),e.qZA()()()}if(2&h){const n=e.oxw();e.Q6J("formGroup",n.forgotPasswordForm),e.xp6(4),e.hij(" ",e.lcZ(5,9,"forgot-password")," "),e.xp6(7),e.s9C("placeholder",e.lcZ(12,11,"verification-code")),e.xp6(2),e.Q6J("disabled",n.forgotPasswordForm.controls.phoneNumber.invalid),e.xp6(1),e.hij(" ",e.lcZ(15,13,"get-sms-code")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(19,15,"new-password")),e.xp6(4),e.hij(" ",e.lcZ(23,17,"cancel")," "),e.xp6(2),e.Q6J("disabled",n.forgotPasswordForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(26,19,"confirm")," ")}}let G=(()=>{class h extends U.u{constructor(n,c,g){super(),this.formBuilder=n,this.authService=c,this.userService=g}ngOnInit(){this.forgotPasswordForm=this.formBuilder.group({countryCode:["+86",[p.kI.required]],phoneNumber:[null,[p.kI.required]],verificationCode:[null,[p.kI.required]],newPassword:[null,[p.kI.required]]})}onSelectPhoneCountry(n){var c;n&&(null===(c=this.forgotPasswordForm.get("countryCode"))||void 0===c||c.patchValue(n))}onPhoneNumberChange(n){var c;null===(c=this.forgotPasswordForm.get("phoneNumber"))||void 0===c||c.patchValue(n)}onSendVerificationCode(){const n=this.forgotPasswordForm.getRawValue();console.log("onSendVerificationCode",n),this.authService.sendSmsCode({type:L.eo.ResetPassword,mobileArea:n.countryCode?n.countryCode:"+86",mobile:n.phoneNumber}).pipe().subscribe(c=>{0===c.code?this.toast.toastSuccess("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001"):this.toast.toastError(c.message)})}forgetPhoneNumber(){if(this.forgotPasswordForm.invalid)return;const n=this.forgotPasswordForm.getRawValue();this.authService.forgetPassword({codeType:"sms_code",code:n.verificationCode,newPassword:P(n.newPassword).toString(),mobileArea:n.countryCode,mobile:n.phoneNumber}).subscribe(c=>(0,u.mG)(this,void 0,void 0,function*(){0===c.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.handleDismiss()):this.toast.toastError(c.message)}))}}return h.\u0275fac=function(n){return new(n||h)(e.Y36(p.qu),e.Y36(_.e),e.Y36(I.K))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-forgot-password-modal"]],standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full",3,"formGroup"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","m-1","cursor-pointer",3,"click"],[1,"modal-content","px-1","sm:px-3"],[3,"onSelectPhoneCountry","onPhoneNumberChange"],[1,"sms-field","flex","w-full"],[1,"flex","flex-auto","items-center","bg-bg-input","rounded-l-lg","border","border-border-input","text-text-strong","text-xl"],["formControlName","verificationCode","required","",1,"sms-code",3,"placeholder"],[1,"btn-blue","sms-btn","border","border-border-input","rounded-r-lg","font-medium","text-text-strong","p-3","whitespace-nowrap",3,"disabled","click"],["formControlName","newPassword",1,"w-full",3,"placeholder"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],[1,"btn-medium","text-text-strong",3,"click"],[1,"btn-blue","font-medium",3,"disabled","click"]],template:function(n,c){1&n&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return c.handleDismiss()}),e.YNc(1,Z,27,21,"ng-template"),e.qZA()),2&n&&e.Q6J("isOpen",c.isOpen)},dependencies:[r.ez,p.u5,p._Y,p.JJ,p.JL,p.Q7,p.UX,p.sg,p.u,t.aw,t.X$,i.Pc,i.gu,i.pK,i.ki,i.j9,s.T,E.b,b.b],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto;--overflow: visible}ion-modal[_ngcontent-%COMP%]     .ion-page{overflow:visible}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-font-weight: 500;--padding-top: 4px;--padding-bottom: 4px}ion-input.sms-code[_ngcontent-%COMP%]{--padding-start: 10px}.sms-field[_ngcontent-%COMP%]{margin-top:1.2rem}@media (min-width: 640px){.sms-field[_ngcontent-%COMP%]{margin-top:1.7rem}}.sms-btn[_ngcontent-%COMP%]{font-size:1.16rem}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}"]}),h})();var q=a(3259),X=a(5195),ee=a(6339);function oe(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ion-icon",5),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7),e._UZ(9,"img",8),e.TgZ(10,"p",9),e._uU(11," Scan the QR Code with your "),e.TgZ(12,"a",10),e._uU(13," Google Authenticator app "),e.qZA(),e._uU(14," . "),e.qZA(),e.TgZ(15,"div",11)(16,"ion-input",12),e.NdJ("ngModelChange",function(g){e.CHM(n);const F=e.oxw();return e.KtG(F.authCode=g)}),e.ALo(17,"translate"),e.qZA()()()(),e.TgZ(18,"div",13)(19,"button",14),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.handleDismiss())}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"button",15),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.onNext())}),e._uU(23),e.ALo(24,"translate"),e.qZA()()()}if(2&h){const n=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,8,"google-auth")," "),e.xp6(5),e.Q6J("src",n.qrcode,e.LSH),e.xp6(3),e.Q6J("href",n.googleAuthDownloadURL,e.LSH),e.xp6(4),e.s9C("placeholder",e.lcZ(17,10,"enter-code")),e.Q6J("ngModel",n.authCode),e.xp6(4),e.hij(" ",e.lcZ(21,12,"cancel")," "),e.xp6(2),e.Q6J("disabled",""===n.authCode),e.xp6(1),e.hij(" ",e.lcZ(24,14,"next")," ")}}let Y=(()=>{class h extends U.u{constructor(n,c){super(),this.platform=n,this.walletService=c,this.handleSuccess=new e.vpe,this.googleAuthDownloadURL="",this.authCode="",this.platform.ready().then(()=>{const g=X.aN.findIndex(F=>"Google Auth"===F.name);this.googleAuthDownloadURL=this.getGoogleAuthUrl(X.aN[g].url)})}ngOnInit(){this.getGoogleUrl()}getGoogleUrl(){this.walletService.getQrCode().pipe().subscribe(n=>(0,u.mG)(this,void 0,void 0,function*(){0===n.code&&(this.secretKey=n.data.secret,q.toDataURL(n.data.qrCode).then(c=>{console.log(c),this.qrcode=c}))}))}getGoogleAuthUrl(n){return Array.isArray(n)?n[this.platform.is("ios")?1:0]:n}onNext(){this.walletService.sendCode({code:this.authCode,secret:this.secretKey}).pipe().subscribe(n=>(0,u.mG)(this,void 0,void 0,function*(){0===n.code?setTimeout(()=>{this.toast.toastSuccess("Google Auth Setup Successfully"),this.handleSuccess.emit()},500):this.toast.toastError(n.message)}))}}return h.\u0275fac=function(n){return new(n||h)(e.Y36(i.t4),e.Y36(ee.X))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-google-auth-modal"]],outputs:{handleSuccess:"handleSuccess"},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:1,consts:[[1,"theme-modal",3,"isOpen","didDismiss"],[1,"flex","flex-col","p-2","h-full"],[1,"modal-header","flex","flex-col","items-center"],[1,"relative","w-full"],[1,"text-2xl","sm:text-3xl","text-text-strong","font-medium","text-left","sm:text-center","ml-1","sm:ml-0","sm:my-2"],["name","close-outline",1,"absolute","right-0","top-0","w-8","h-8","sm:w-10","sm:h-10","cursor-pointer","sm:m-1",3,"click"],[1,"modal-content","flex","flex-col","items-center","justify-center","mb-8","px-1","sm:px-3"],[1,"w-4/5"],["alt","",1,"w-full",3,"src"],[1,"align-middle","text-text-strong","my-4"],[1,"text-main-blue",3,"href"],[1,"rounded-md","border-border-input","border","flex","items-center","bg-bg-input","px-2","text-text-strong"],[3,"placeholder","ngModel","ngModelChange"],[1,"modal-footer","flex","justify-between","px-1","sm:px-3"],["appRippleEffect","",1,"btn-medium",3,"click"],["appRippleEffect","",1,"btn-blue","font-medium","capitalize",3,"disabled","click"]],template:function(n,c){1&n&&(e.TgZ(0,"ion-modal",0),e.NdJ("didDismiss",function(){return c.handleDismiss()}),e.YNc(1,oe,25,16,"ng-template"),e.qZA()),2&n&&e.Q6J("isOpen",c.isOpen)},dependencies:[r.ez,p.u5,p.JJ,p.On,p.UX,t.aw,t.X$,i.Pc,i.gu,i.pK,i.ki,i.j9,s.T,C.R],styles:["ion-modal[_ngcontent-%COMP%]{--width: 480px;--height: auto}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--input-placeholder);--placeholder-weight: 500}.modal-header[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 640px){.modal-header[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-content[_ngcontent-%COMP%]{margin-bottom:1.1rem}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{margin-bottom:1.6rem}}.modal-footer[_ngcontent-%COMP%]{margin-bottom:.35rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]{margin-bottom:.85rem}}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3rem;width:8rem;border-radius:.375rem;border-width:1px;border-style:solid;font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;width:11rem;font-size:1.5rem;line-height:2rem}}"]}),h})();var z=a(2738);let te=(()=>{class h{transform(n){const[c,g]=n.split("@");return`${c.slice(0,3)+"*".repeat(3)}@${g.slice(0,3)+"*".repeat(3)+g.slice(-3)}`}}return h.\u0275fac=function(n){return new(n||h)},h.\u0275pipe=e.Yjl({name:"emailMask",type:h,pure:!0}),h})();function Q(h,v){1&h&&(e.TgZ(0,"div",52),e._uU(1),e.qZA()),2&h&&(e.xp6(1),e.hij(" ","****"," "))}function ie(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",41)(1,"button",42),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(3);return g.isOpenTradingPINModal=!0,e.KtG(g.step=1)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&h&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"bind-now")," "))}function V(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",43),e._UZ(1,"div",44),e.TgZ(2,"button",42),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(3);return g.isOpenTradingPINModal=!0,e.KtG(g.step=0)}),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&h&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"change-password")," "))}function ne(h,v){if(1&h&&(e.TgZ(0,"div",40),e.YNc(1,Q,2,1,"div",49),e.YNc(2,ie,4,3,"ng-template",null,50,e.W1O),e.YNc(4,V,5,3,"div",51),e.qZA()),2&h){const n=e.MAs(3),c=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",c.paymentPassword)("ngIfElse",n),e.xp6(3),e.Q6J("ngIf",c.paymentPassword)}}function j(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return g.isOpenTradingPINModal=!0,e.KtG(g.step=1)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&h&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"not-set")," "))}function K(h,v){1&h&&e._UZ(0,"ion-icon",39)}function H(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",40)(1,"div",52),e._uU(2),e.ALo(3,"emailMask"),e.qZA(),e.TgZ(4,"div",43),e._UZ(5,"div",44),e.TgZ(6,"button",42),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenEditEmailModal=!0)}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}if(2&h){const n=e.oxw().ngIf;e.xp6(2),e.hij(" ",e.lcZ(3,2,n.email)," "),e.xp6(5),e.hij(" ",e.lcZ(8,4,"security-change-email")," ")}}function W(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenEditEmailModal=!0)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&h&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"bind-now")," "))}function se(h,v){1&h&&e._UZ(0,"ion-icon",39)}function ae(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",53)(1,"div",54),e._uU(2),e.qZA(),e.TgZ(3,"div",43),e._UZ(4,"div",44),e.TgZ(5,"button",42),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenChangePhoneModal=!0)}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&h){const n=e.oxw().ngIf;e.xp6(2),e.Oqu(n.phone),e.xp6(4),e.hij(" ",e.lcZ(7,2,"change-number")," ")}}function le(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",41)(1,"button",42),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenChangePhoneModal=!0)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&h&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"bind-now")," "))}function ce(h,v){1&h&&(e.TgZ(0,"span"),e._uU(1," , "),e.qZA())}function de(h,v){if(1&h&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.YNc(3,ce,2,0,"span",60),e.qZA()),2&h){const n=v.$implicit,c=v.index,g=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,2,n)," "),e.xp6(2),e.Q6J("ngIf",c!==g.securedMethodsWith2FA.length-1)}}function ue(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e.YNc(2,de,4,4,"span",57),e.qZA(),e.TgZ(3,"div",58),e._UZ(4,"div",59),e.TgZ(5,"button",48),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenTwoFactorAuthModal=!0)}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&h){const n=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",n.securedMethodsWith2FA),e.xp6(4),e.hij(" ",e.lcZ(7,2,"update-2FA")," ")}}function ge(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",41)(1,"button",48),e.NdJ("click",function(){e.CHM(n);const g=e.oxw(2);return e.KtG(g.isOpenTwoFactorAuthModal=!0)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&h&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"not-set")," "))}const re=function(h){return[h]};function he(h,v){if(1&h){const n=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26)(4,"div",27),e._UZ(5,"ion-icon",28),e.qZA()(),e.TgZ(6,"div",29)(7,"div",30),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",31),e.YNc(11,ne,5,3,"div",32),e.YNc(12,j,3,3,"ng-template",null,33,e.W1O),e.qZA()(),e.TgZ(14,"div",25)(15,"div",26)(16,"div",27),e.YNc(17,K,1,0,"ion-icon",34),e.qZA()(),e.TgZ(18,"div",29)(19,"div",35),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",31),e.YNc(23,H,9,6,"div",32),e.YNc(24,W,3,3,"ng-template",null,36,e.W1O),e.qZA()(),e.TgZ(26,"div",25)(27,"div",26)(28,"div",27),e.YNc(29,se,1,0,"ion-icon",34),e.qZA()(),e.TgZ(30,"div",29)(31,"div",35),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",31),e.YNc(35,ae,8,4,"div",37),e.YNc(36,le,4,3,"ng-template",null,38,e.W1O),e.qZA()(),e.TgZ(38,"div",25)(39,"div",26)(40,"div",27),e._UZ(41,"ion-icon",39),e.qZA()(),e.TgZ(42,"div",29)(43,"div",35),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",31)(47,"div",40)(48,"div",41)(49,"button",42),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.isOpenLoginPasswordModal=!0)}),e._uU(50),e.ALo(51,"translate"),e.qZA()(),e.TgZ(52,"div",43),e._UZ(53,"div",44),e.TgZ(54,"button",42),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.isOpenForgotPasswordModal=!0)}),e._uU(55),e.ALo(56,"translate"),e.qZA()()()()(),e.TgZ(57,"div",25)(58,"div",26)(59,"div",27),e._UZ(60,"ion-icon",28),e.qZA()(),e.TgZ(61,"div",29)(62,"div",35),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.TgZ(65,"div",31),e.YNc(66,ue,8,4,"div",45),e.YNc(67,ge,4,3,"ng-template",null,46,e.W1O),e.qZA()(),e.TgZ(69,"div",25)(70,"div",26)(71,"div",27),e._UZ(72,"ion-icon",28),e.qZA()(),e.TgZ(73,"div",29)(74,"div",35),e._uU(75),e.ALo(76,"translate"),e.qZA()(),e.TgZ(77,"div",31)(78,"div",47)(79,"button",48),e.NdJ("click",function(){e.CHM(n);const g=e.oxw();return e.KtG(g.isOpenGoogleAuthModal=!0)}),e._uU(80),e.ALo(81,"translate"),e.qZA()()()()()()}if(2&h){const n=v.ngIf,c=e.MAs(13),g=e.MAs(25),F=e.MAs(37),J=e.MAs(68),R=e.oxw();e.xp6(5),e.Q6J("ngClass",e.VKq(40,re,n.paymentPassword?"text-main-green":"text-grey-2")),e.xp6(3),e.hij(" ",e.lcZ(9,22,"trading-password")," "),e.xp6(3),e.Q6J("ngIf",n.paymentPassword)("ngIfElse",c),e.xp6(6),e.Q6J("ngIf",n.email),e.xp6(3),e.hij(" ",e.lcZ(21,24,"email")," "),e.xp6(3),e.Q6J("ngIf",n.email)("ngIfElse",g),e.xp6(6),e.Q6J("ngIf",n.phone),e.xp6(3),e.hij(" ",e.lcZ(33,26,"phone-number")," "),e.xp6(3),e.Q6J("ngIf",n.phone)("ngIfElse",F),e.xp6(9),e.hij(" ",e.lcZ(45,28,"login-password")," "),e.xp6(6),e.hij(" ",e.lcZ(51,30,"change-password")," "),e.xp6(5),e.hij(" ",e.lcZ(56,32,"forgot-password")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(42,re,R.securedMethodsWith2FA.length>0?"text-main-green":"text-grey-2")),e.xp6(3),e.hij(" ",e.lcZ(64,34,"require-2FA")," "),e.xp6(3),e.Q6J("ngIf",R.securedMethodsWith2FA.length>0)("ngIfElse",J),e.xp6(6),e.Q6J("ngClass",e.VKq(44,re,n.googleAuthSecret.length>0?"text-main-green":"text-grey-2")),e.xp6(3),e.hij(" ",e.lcZ(76,36,"google-auth")," "),e.xp6(5),e.hij(" ",e.lcZ(81,38,"set-up")," ")}}const me=function(h){return{"background-image":h}},fe=[{path:"",component:(()=>{class h extends f.H{constructor(n,c){super(),this.userService=n,this.authService=c,this.isOpenTradingPINModal=!1,this.isOpenChangePhoneModal=!1,this.isOpenEditEmailModal=!1,this.isOpenLoginPasswordModal=!1,this.isOpenTwoFactorAuthModal=!1,this.isOpenForgotPasswordModal=!1,this.isOpenGoogleAuthModal=!1,this.securedMethods={login:!1,payment:!1,activateStrategy:!1,bindExchange:!1},this.securedMethodsWith2FA=[],this.hasGoogleAuthenticator=!1,this.step=0}ngOnInit(){this.get2FAStatus()}get securityLevel(){let n=1;return this.userService._userInfo&&(this.userService._userInfo.paymentPassword&&n++,this.userService._userInfo.email&&n++,this.userService._userInfo.phone&&n++,this.securedMethodsWith2FA.length>0&&n++,this.userService._userInfo.googleAuthSecret.length>0&&n++),n}get securityLevelBackground(){return`conic-gradient(var(--main-green) 0 ${60*this.securityLevel}deg, var(--security-level) 0 288deg)`}get2FAStatus(){this.authService.getTwoFactorAuth().pipe().subscribe(n=>(0,u.mG)(this,void 0,void 0,function*(){if(0!==n.code)return;const g=Object.entries(n.data[0]).filter(([F,J])=>!0===J).map(([F,J])=>F);this.securedMethodsWith2FA=g;for(const F of g)this.securedMethods.hasOwnProperty(F)&&(this.securedMethods[F]=!0)}))}handleChangeEmailNumber(n){console.log(n),this.authService.bindEmail({email:n.email,emailCode:n.verificationCode}).pipe().subscribe(c=>(0,u.mG)(this,void 0,void 0,function*(){0===c.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.isOpenEditEmailModal=!1):this.toast.toastError(c.message)}))}onChangePhoneNumber(n){this.authService.bindMobile({smsCode:n.verificationCode,mobileArea:n.countryCode?n.countryCode:"+86",mobile:n.phoneNumber}).pipe().subscribe(c=>(0,u.mG)(this,void 0,void 0,function*(){0===c.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f"),this.isOpenChangePhoneModal=!1):this.toast.toastError(c.message)}))}onChangeTwoFactorAuth(n){this.securedMethods=n;const c=Object.keys(this.securedMethods).filter(J=>this.securedMethods[J]);this.securedMethodsWith2FA=c.map(J=>{const R=m.find($=>$.key===J);return R?R.key:""}),console.log("this.securedMethods",this.securedMethods),console.log("this.securedMethodsWith2FA",this.securedMethodsWith2FA);const F=[{type:1,login:!1,payment:!1,activateStrategy:!1,bindExchange:!1},{type:2,login:!1,payment:!1,activateStrategy:!1,bindExchange:!1}].map(J=>{if(1===J.type){const R={};for(const $ in J)R[$]=!!this.securedMethodsWith2FA.includes($);return R.type=1,R}return J});console.log("authFields",F),this.authService.twoFactorAuth({factorFields:F}).subscribe(J=>(0,u.mG)(this,void 0,void 0,function*(){0===J.code?(yield this.userService.updateUserInfo(),this.toast.toastSuccess("\u4fee\u6539\u6210\u529f")):this.toast.toastError(J.message)})),this.isOpenTwoFactorAuthModal=!1}onGoogleAuthSetup(){return(0,u.mG)(this,void 0,void 0,function*(){this.hasGoogleAuthenticator=!0,yield this.userService.updateUserInfo(),setTimeout(()=>{this.isOpenGoogleAuthModal=!1},500)})}}return h.\u0275fac=function(n){return new(n||h)(e.Y36(I.K),e.Y36(_.e))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-security"]],features:[e.qOj],decls:37,vars:38,consts:[[1,"flex","flex-col","w-full","sm:px-5","py-4"],[1,"flex","flex-auto","items-center","sm:justify-between","w-full"],[1,"block","sm:hidden","mr-1","cursor-pointer","w-8","h-8",3,"routerLink"],["name","chevron-back-outline",1,"w-8","h-8"],[1,"text-lg","xs:text-2xl","text-text-strong","font-medium"],[1,"security"],[1,"security__level"],[1,"flex","items-center","gap-x-2"],[1,"relative","w-14","h-14","rounded-full","bg-main-bg"],[1,"absolute","rounded-full","w-full","h-full",3,"ngStyle"],[1,"security-circle","absolute","flex","items-center","justify-center","inset-0","w-11","h-11","m-auto","rounded-full"],[1,"text-3xl","icon-shieldok","text-main-green"],[1,"flex","flex-col"],[1,"text-2xl","text-text-strong","font-medium"],[1,"text-sm","font-medium","text-red-1"],[1,"text-sm","font-medium","text-main-yellow"],[1,"text-sm","font-medium","text-main-green"],["class","px-2 sm:px-0 sm:ml-5 sm:table sm:table-auto w-full font-medium sm:max-w-fit",4,"ngIf"],[3,"step","isOpen","isOpenChange"],[3,"isOpen","isOpenChange"],[3,"securedMethods","isOpen","handleTwoFactorAuth","isOpenChange"],[3,"isOpen","isOpenChange","handleChangeEmailNumber"],[3,"isOpen","isOpenChange","handleSuccess"],[1,"px-2","sm:px-0","sm:ml-5","sm:table","sm:table-auto","w-full","font-medium","sm:max-w-fit"],[1,"block","sm:table-row-group"],[1,"block","sm:table-row","mb-4","sm:mb-0","border-b","border-main-border"],[1,"security-level-cell"],[1,"flex","items-center"],["name","checkmark-circle-outline",1,"w-8","h-8",3,"ngClass"],[1,"security-info-key-cell"],[1,"flex","items-center","h-full","whitespace-nowrap"],[1,"security-info-value-cell"],["class","flex w-full",4,"ngIf","ngIfElse"],["setTradingPasswordTemplate",""],["class","text-main-green w-8 h-8","name","checkmark-circle-outline",4,"ngIf"],[1,"flex","items-center","h-full","justify-end"],["setUserEmailTemplate",""],["class","flex",4,"ngIf","ngIfElse"],["setPhoneNumberTemplate",""],["name","checkmark-circle-outline",1,"text-main-green","w-8","h-8"],[1,"flex","w-full"],[1,"w-1/2","pr-4","md:pr-6"],[1,"primary-btn","w-full",3,"click"],[1,"flex","w-1/2"],[1,"border-l","border-main-border","pr-4","md:pr-6","my-1"],["class","flex w-full max-w-sm sm:max-w-none",4,"ngIf","ngIfElse"],["setTwoFactorTemplate",""],[1,"flex","w-1/2","max-w-sm","sm:max-w-none","pr-4","md-pr-6"],["appRippleEffect","",1,"primary-btn","w-full",3,"click"],["class","flex items-center select-none w-1/2",4,"ngIf","ngIfElse"],["noPassword",""],["class","flex w-1/2",4,"ngIf"],[1,"flex","items-center","select-none","w-1/2"],[1,"flex"],[1,"flex","items-center","w-1/2"],[1,"flex","w-full","max-w-sm","sm:max-w-none"],[1,"w-1/2"],[4,"ngFor","ngForOf"],[1,"flex","w-1/2","items-center"],[1,"border-l","border-main-border","pr-4","md:pr-6","my-1","h-9"],[4,"ngIf"]],template:function(n,c){1&n&&(e.TgZ(0,"ng-scrollbar")(1,"div",0)(2,"div",1)(3,"div",2),e._UZ(4,"ion-icon",3),e.qZA(),e.TgZ(5,"h1",4),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),e._UZ(12,"div",9),e.TgZ(13,"div",10),e._UZ(14,"i",11),e.qZA()(),e.TgZ(15,"div",12)(16,"h2",13),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"span",14),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"span",15),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"span",16),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.YNc(28,he,82,46,"div",17),e.ALo(29,"async"),e.qZA()(),e.TgZ(30,"app-trading-password-modal",18),e.NdJ("isOpenChange",function(F){return c.isOpenTradingPINModal=F}),e.qZA(),e.TgZ(31,"app-edit-phone-modal",19),e.NdJ("isOpenChange",function(F){return c.isOpenChangePhoneModal=F}),e.qZA(),e.TgZ(32,"app-change-password-modal",19),e.NdJ("isOpenChange",function(F){return c.isOpenLoginPasswordModal=F}),e.qZA(),e.TgZ(33,"app-two-factor-modal",20),e.NdJ("handleTwoFactorAuth",function(F){return c.onChangeTwoFactorAuth(F)})("isOpenChange",function(F){return c.isOpenTwoFactorAuthModal=F}),e.qZA(),e.TgZ(34,"app-edit-email-modal",21),e.NdJ("isOpenChange",function(F){return c.isOpenEditEmailModal=F})("handleChangeEmailNumber",function(F){return c.handleChangeEmailNumber(F)}),e.qZA(),e.TgZ(35,"app-forgot-password-modal",19),e.NdJ("isOpenChange",function(F){return c.isOpenForgotPasswordModal=F}),e.qZA(),e.TgZ(36,"app-google-auth-modal",22),e.NdJ("isOpenChange",function(F){return c.isOpenGoogleAuthModal=F})("handleSuccess",function(){return c.onGoogleAuthSetup()}),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("routerLink","/settings"),e.xp6(3),e.hij(" ",e.lcZ(7,24,"security")," "),e.xp6(6),e.Q6J("ngStyle",e.VKq(36,me,c.securityLevelBackground)),e.xp6(5),e.AsE(" ",e.lcZ(18,26,"security-level")," ",c.securityLevel,"/6 "),e.xp6(2),e.ekj("hidden",c.securityLevel>3),e.xp6(1),e.hij(" ",e.lcZ(21,28,"low-security")," "),e.xp6(2),e.ekj("hidden",c.securityLevel>5||c.securityLevel<4),e.xp6(1),e.hij(" ",e.lcZ(24,30,"medium-security")," "),e.xp6(2),e.ekj("hidden",c.securityLevel<6),e.xp6(1),e.hij(" ",e.lcZ(27,32,"full-secured"),"! "),e.xp6(2),e.Q6J("ngIf",e.lcZ(29,34,c.userService.userInfo$)),e.xp6(2),e.Q6J("step",c.step)("isOpen",c.isOpenTradingPINModal),e.xp6(1),e.Q6J("isOpen",c.isOpenChangePhoneModal),e.xp6(1),e.Q6J("isOpen",c.isOpenLoginPasswordModal),e.xp6(1),e.Q6J("securedMethods",c.securedMethods)("isOpen",c.isOpenTwoFactorAuthModal),e.xp6(1),e.Q6J("isOpen",c.isOpenEditEmailModal),e.xp6(1),e.Q6J("isOpen",c.isOpenForgotPasswordModal),e.xp6(1),e.Q6J("isOpen",c.isOpenGoogleAuthModal))},dependencies:[r.mk,r.sg,r.O5,r.PC,i.gu,i.YI,o.KC,d.rH,C.R,D,y.q,T.N,N,G,Y,z.T,r.Ov,t.X$,te],styles:[".dark-mode .security__level{background-color:rgba(41,42,63,.59);border:2px solid rgba(70,70,97,.231372549)}  .dark-mode .security-circle{background-color:var(--grey-4)}  .light-mode .security__level{border-width:2px;border-color:var(--grey-3);--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}  .light-mode .security-circle{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}button.primary-btn[_ngcontent-%COMP%]{max-width:176px}.security[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;flex-direction:column;padding-left:.625rem;padding-right:.625rem}@media (min-width: 640px){.security[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.security__level[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem;display:flex;align-items:center;justify-content:space-between;border-radius:.375rem;padding:1.75rem .5rem}@media (min-width: 340px){.security__level[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}.security-level-cell[_ngcontent-%COMP%]{display:none;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-left:0;padding-right:0;vertical-align:middle}@media (min-width: 640px){.security-level-cell[_ngcontent-%COMP%]{display:table-cell;padding-left:.5rem;padding-right:.5rem}}@media (min-width: 1024px){.security-level-cell[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}.security-info-key-cell[_ngcontent-%COMP%]{display:block;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding-left:0;padding-right:0;text-align:right;font-size:1.25rem;line-height:1.75rem;font-weight:500}@media (min-width: 640px){.security-info-key-cell[_ngcontent-%COMP%]{display:table-cell;padding-left:.5rem;padding-right:.5rem;font-size:1rem;line-height:1.5rem}}@media (min-width: 768px){.security-info-key-cell[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width: 640px){.security-info-key-cell[_ngcontent-%COMP%]{height:60px}}@media (min-width: 768px){.security-info-key-cell[_ngcontent-%COMP%]{height:68px}}.security-info-value-cell[_ngcontent-%COMP%]{display:block;width:100%;padding-top:.5rem;padding-bottom:.5rem;vertical-align:middle;color:var(--text-strong)}@media (min-width: 640px){.security-info-value-cell[_ngcontent-%COMP%]{display:table-cell}}@media (min-width: 768px){.security-info-value-cell[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}}@media (min-width: 640px){.security-info-value-cell[_ngcontent-%COMP%]{height:68px;width:400px}}"]}),h})()}];let pe=(()=>{class h{}return h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[d.Bz.forChild(fe),d.Bz]}),h})(),_e=(()=>{class h{}return h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[r.ez,i.Pc,t.aw,o.kb,pe,s.T,D,y.q,T.N,N,G,Y,z.T]}),h})()},4901:O=>{"use strict";var l={single_source_shortest_paths:function(a,r,i){var t={},o={};o[r]=0;var d,u,m,f,e,_,s=l.PriorityQueue.make();for(s.push(r,0);!s.empty();)for(m in f=(d=s.pop()).cost,e=a[u=d.value]||{})e.hasOwnProperty(m)&&(_=f+e[m],(typeof o[m]>"u"||o[m]>_)&&(o[m]=_,s.push(m,_),t[m]=u));if(typeof i<"u"&&typeof o[i]>"u"){var U=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(U)}return t},extract_shortest_path_from_predecessor_list:function(a,r){for(var i=[],t=r;t;)i.push(t),t=a[t];return i.reverse(),i},find_path:function(a,r,i){var t=l.single_source_shortest_paths(a,r,i);return l.extract_shortest_path_from_predecessor_list(t,i)},PriorityQueue:{make:function(a){var t,r=l.PriorityQueue,i={};for(t in a=a||{},r)r.hasOwnProperty(t)&&(i[t]=r[t]);return i.queue=[],i.sorter=a.sorter||r.default_sorter,i},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){this.queue.push({value:a,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};O.exports=l},8419:O=>{"use strict";O.exports=function(a){for(var r=[],i=a.length,t=0;t<i;t++){var o=a.charCodeAt(t);if(o>=55296&&o<=56319&&i>t+1){var s=a.charCodeAt(t+1);s>=56320&&s<=57343&&(o=1024*(o-55296)+s-56320+65536,t+=1)}o<128?r.push(o):o<2048?(r.push(o>>6|192),r.push(63&o|128)):o<55296||o>=57344&&o<65536?(r.push(o>>12|224),r.push(o>>6&63|128),r.push(63&o|128)):o>=65536&&o<=1114111?(r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)):r.push(239,191,189)}return new Uint8Array(r).buffer}},3259:(O,l,a)=>{const r=a(8695),i=a(1465),t=a(3210),o=a(2334);function s(d,u,m,f,e){const I=[].slice.call(arguments,1),_=I.length,C="function"==typeof I[_-1];if(!C&&!r())throw new Error("Callback required as last argument");if(!C){if(_<1)throw new Error("Too few arguments provided");return 1===_?(m=u,u=f=void 0):2===_&&!u.getContext&&(f=m,m=u,u=void 0),new Promise(function(P,U){try{const L=i.create(m,f);P(d(L,u,f))}catch(L){U(L)}})}if(_<2)throw new Error("Too few arguments provided");2===_?(e=m,m=u,u=f=void 0):3===_&&(u.getContext&&typeof e>"u"?(e=f,f=void 0):(e=f,f=m,m=u,u=void 0));try{const P=i.create(m,f);e(null,d(P,u,f))}catch(P){e(P)}}l.create=i.create,l.toCanvas=s.bind(null,t.render),l.toDataURL=s.bind(null,t.renderToDataURL),l.toString=s.bind(null,function(d,u,m){return o.render(d,m)})},8695:O=>{O.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(O,l,a)=>{const r=a(4792).getSymbolSize;l.getRowColCoords=function(t){if(1===t)return[];const o=Math.floor(t/7)+2,s=r(t),d=145===s?26:2*Math.ceil((s-13)/(2*o-2)),u=[s-7];for(let m=1;m<o-1;m++)u[m]=u[m-1]-d;return u.push(6),u.reverse()},l.getPositions=function(t){const o=[],s=l.getRowColCoords(t),d=s.length;for(let u=0;u<d;u++)for(let m=0;m<d;m++)0===u&&0===m||0===u&&m===d-1||u===d-1&&0===m||o.push([s[u],s[m]]);return o}},2424:(O,l,a)=>{const r=a(4016),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(o){this.mode=r.ALPHANUMERIC,this.data=o}t.getBitsLength=function(s){return 11*Math.floor(s/2)+s%2*6},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){let d;for(d=0;d+2<=this.data.length;d+=2){let u=45*i.indexOf(this.data[d]);u+=i.indexOf(this.data[d+1]),s.put(u,11)}this.data.length%2&&s.put(i.indexOf(this.data[d]),6)},O.exports=t},2118:O=>{function l(){this.buffer=[],this.length=0}l.prototype={get:function(a){const r=Math.floor(a/8);return 1==(this.buffer[r]>>>7-a%8&1)},put:function(a,r){for(let i=0;i<r;i++)this.putBit(1==(a>>>r-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),a&&(this.buffer[r]|=128>>>this.length%8),this.length++}},O.exports=l},4425:O=>{function l(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}l.prototype.set=function(a,r,i,t){const o=a*this.size+r;this.data[o]=i,t&&(this.reservedBit[o]=!0)},l.prototype.get=function(a,r){return this.data[a*this.size+r]},l.prototype.xor=function(a,r,i){this.data[a*this.size+r]^=i},l.prototype.isReserved=function(a,r){return this.reservedBit[a*this.size+r]},O.exports=l},5663:(O,l,a)=>{const r=a(8419),i=a(4016);function t(o){this.mode=i.BYTE,"string"==typeof o&&(o=r(o)),this.data=new Uint8Array(o)}t.getBitsLength=function(s){return 8*s},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){for(let s=0,d=this.data.length;s<d;s++)o.put(this.data[s],8)},O.exports=t},4655:(O,l,a)=>{const r=a(2259),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];l.getBlocksCount=function(s,d){switch(d){case r.L:return i[4*(s-1)+0];case r.M:return i[4*(s-1)+1];case r.Q:return i[4*(s-1)+2];case r.H:return i[4*(s-1)+3];default:return}},l.getTotalCodewordsCount=function(s,d){switch(d){case r.L:return t[4*(s-1)+0];case r.M:return t[4*(s-1)+1];case r.Q:return t[4*(s-1)+2];case r.H:return t[4*(s-1)+3];default:return}}},2259:(O,l)=>{l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2},l.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},l.from=function(i,t){if(l.isValid(i))return i;try{return function a(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+r)}}(i)}catch(o){return t}}},3114:(O,l,a)=>{const r=a(4792).getSymbolSize;l.getPositions=function(o){const s=r(o);return[[0,0],[s-7,0],[0,s-7]]}},7078:(O,l,a)=>{const r=a(4792),o=r.getBCHDigit(1335);l.getEncodedBits=function(d,u){const m=d.bit<<3|u;let f=m<<10;for(;r.getBCHDigit(f)-o>=0;)f^=1335<<r.getBCHDigit(f)-o;return 21522^(m<<10|f)}},5339:(O,l)=>{const a=new Uint8Array(512),r=new Uint8Array(256);(function(){let t=1;for(let o=0;o<255;o++)a[o]=t,r[t]=o,t<<=1,256&t&&(t^=285);for(let o=255;o<512;o++)a[o]=a[o-255]})(),l.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},l.exp=function(t){return a[t]},l.mul=function(t,o){return 0===t||0===o?0:a[r[t]+r[o]]}},449:(O,l,a)=>{const r=a(4016),i=a(4792);function t(o){this.mode=r.KANJI,this.data=o}t.getBitsLength=function(s){return 13*s},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){let s;for(s=0;s<this.data.length;s++){let d=i.toSJIS(this.data[s]);if(d>=33088&&d<=40956)d-=33088;else{if(!(d>=57408&&d<=60351))throw new Error("Invalid SJIS character: "+this.data[s]+"\nMake sure your charset is UTF-8");d-=49472}d=192*(d>>>8&255)+(255&d),o.put(d,13)}},O.exports=t},3667:(O,l)=>{l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(i,t,o){switch(i){case l.Patterns.PATTERN000:return(t+o)%2==0;case l.Patterns.PATTERN001:return t%2==0;case l.Patterns.PATTERN010:return o%3==0;case l.Patterns.PATTERN011:return(t+o)%3==0;case l.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(o/3))%2==0;case l.Patterns.PATTERN101:return t*o%2+t*o%3==0;case l.Patterns.PATTERN110:return(t*o%2+t*o%3)%2==0;case l.Patterns.PATTERN111:return(t*o%3+(t+o)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}}l.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},l.from=function(t){return l.isValid(t)?parseInt(t,10):void 0},l.getPenaltyN1=function(t){const o=t.size;let s=0,d=0,u=0,m=null,f=null;for(let e=0;e<o;e++){d=u=0,m=f=null;for(let I=0;I<o;I++){let _=t.get(e,I);_===m?d++:(d>=5&&(s+=d-5+3),m=_,d=1),_=t.get(I,e),_===f?u++:(u>=5&&(s+=u-5+3),f=_,u=1)}d>=5&&(s+=d-5+3),u>=5&&(s+=u-5+3)}return s},l.getPenaltyN2=function(t){const o=t.size;let s=0;for(let d=0;d<o-1;d++)for(let u=0;u<o-1;u++){const m=t.get(d,u)+t.get(d,u+1)+t.get(d+1,u)+t.get(d+1,u+1);(4===m||0===m)&&s++}return 3*s},l.getPenaltyN3=function(t){const o=t.size;let s=0,d=0,u=0;for(let m=0;m<o;m++){d=u=0;for(let f=0;f<o;f++)d=d<<1&2047|t.get(m,f),f>=10&&(1488===d||93===d)&&s++,u=u<<1&2047|t.get(f,m),f>=10&&(1488===u||93===u)&&s++}return 40*s},l.getPenaltyN4=function(t){let o=0;const s=t.data.length;for(let u=0;u<s;u++)o+=t.data[u];return 10*Math.abs(Math.ceil(100*o/s/5)-10)},l.applyMask=function(t,o){const s=o.size;for(let d=0;d<s;d++)for(let u=0;u<s;u++)o.isReserved(u,d)||o.xor(u,d,r(t,u,d))},l.getBestMask=function(t,o){const s=Object.keys(l.Patterns).length;let d=0,u=1/0;for(let m=0;m<s;m++){o(m),l.applyMask(m,t);const f=l.getPenaltyN1(t)+l.getPenaltyN2(t)+l.getPenaltyN3(t)+l.getPenaltyN4(t);l.applyMask(m,t),f<u&&(u=f,d=m)}return d}},4016:(O,l,a)=>{const r=a(4406),i=a(2699);l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(s,d){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!r.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?s.ccBits[0]:d<27?s.ccBits[1]:s.ccBits[2]},l.getBestModeForData=function(s){return i.testNumeric(s)?l.NUMERIC:i.testAlphanumeric(s)?l.ALPHANUMERIC:i.testKanji(s)?l.KANJI:l.BYTE},l.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},l.isValid=function(s){return s&&s.bit&&s.ccBits},l.from=function(s,d){if(l.isValid(s))return s;try{return function t(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+o)}}(s)}catch(u){return d}}},7783:(O,l,a)=>{const r=a(4016);function i(t){this.mode=r.NUMERIC,this.data=t.toString()}i.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(o){let s,d,u;for(s=0;s+3<=this.data.length;s+=3)d=this.data.substr(s,3),u=parseInt(d,10),o.put(u,10);const m=this.data.length-s;m>0&&(d=this.data.substr(s),u=parseInt(d,10),o.put(u,3*m+1))},O.exports=i},1106:(O,l,a)=>{const r=a(5339);l.mul=function(t,o){const s=new Uint8Array(t.length+o.length-1);for(let d=0;d<t.length;d++)for(let u=0;u<o.length;u++)s[d+u]^=r.mul(t[d],o[u]);return s},l.mod=function(t,o){let s=new Uint8Array(t);for(;s.length-o.length>=0;){const d=s[0];for(let m=0;m<o.length;m++)s[m]^=r.mul(o[m],d);let u=0;for(;u<s.length&&0===s[u];)u++;s=s.slice(u)}return s},l.generateECPolynomial=function(t){let o=new Uint8Array([1]);for(let s=0;s<t;s++)o=l.mul(o,new Uint8Array([1,r.exp(s)]));return o}},1465:(O,l,a)=>{const r=a(4792),i=a(2259),t=a(2118),o=a(4425),s=a(6221),d=a(3114),u=a(3667),m=a(4655),f=a(2636),e=a(2088),I=a(7078),_=a(4016),C=a(2033);function k(y,T,x){const w=y.size,N=I.getEncodedBits(T,x);let p,b;for(p=0;p<15;p++)b=1==(N>>p&1),y.set(p<6?p:p<8?p+1:w-15+p,8,b,!0),y.set(8,p<8?w-p-1:p<9?15-p-1+1:15-p-1,b,!0);y.set(w-8,8,1,!0)}function D(y,T,x,w){let N;if(Array.isArray(y))N=C.fromArray(y);else{if("string"!=typeof y)throw new Error("Invalid data");{let G=T;if(!G){const q=C.rawSplit(y);G=e.getBestVersionForData(q,x)}N=C.fromString(y,G||40)}}const p=e.getBestVersionForData(N,x);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(T){if(T<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else T=p;const b=function M(y,T,x){const w=new t;x.forEach(function(Z){w.put(Z.mode.bit,4),w.put(Z.getLength(),_.getCharCountIndicator(Z.mode,y)),Z.write(w)});const b=8*(r.getSymbolTotalCodewords(y)-m.getTotalCodewordsCount(y,T));for(w.getLengthInBits()+4<=b&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(0);const E=(b-w.getLengthInBits())/8;for(let Z=0;Z<E;Z++)w.put(Z%2?17:236,8);return function B(y,T,x){const w=r.getSymbolTotalCodewords(T),p=w-m.getTotalCodewordsCount(T,x),b=m.getBlocksCount(T,x),Z=b-w%b,G=Math.floor(w/b),q=Math.floor(p/b),X=q+1,ee=G-q,oe=new f(ee);let Y=0;const z=new Array(b),te=new Array(b);let Q=0;const ie=new Uint8Array(y.buffer);for(let H=0;H<b;H++){const W=H<Z?q:X;z[H]=ie.slice(Y,Y+W),te[H]=oe.encode(z[H]),Y+=W,Q=Math.max(Q,W)}const V=new Uint8Array(w);let j,K,ne=0;for(j=0;j<Q;j++)for(K=0;K<b;K++)j<z[K].length&&(V[ne++]=z[K][j]);for(j=0;j<ee;j++)for(K=0;K<b;K++)V[ne++]=te[K][j];return V}(w,y,T)}(T,x,N),E=r.getSymbolSize(T),Z=new o(E);return function P(y,T){const x=y.size,w=d.getPositions(T);for(let N=0;N<w.length;N++){const p=w[N][0],b=w[N][1];for(let E=-1;E<=7;E++)if(!(p+E<=-1||x<=p+E))for(let Z=-1;Z<=7;Z++)b+Z<=-1||x<=b+Z||y.set(p+E,b+Z,E>=0&&E<=6&&(0===Z||6===Z)||Z>=0&&Z<=6&&(0===E||6===E)||E>=2&&E<=4&&Z>=2&&Z<=4,!0)}}(Z,T),function U(y){const T=y.size;for(let x=8;x<T-8;x++){const w=x%2==0;y.set(x,6,w,!0),y.set(6,x,w,!0)}}(Z),function L(y,T){const x=s.getPositions(T);for(let w=0;w<x.length;w++){const N=x[w][0],p=x[w][1];for(let b=-2;b<=2;b++)for(let E=-2;E<=2;E++)y.set(N+b,p+E,-2===b||2===b||-2===E||2===E||0===b&&0===E,!0)}}(Z,T),k(Z,x,0),T>=7&&function S(y,T){const x=y.size,w=e.getEncodedBits(T);let N,p,b;for(let E=0;E<18;E++)N=Math.floor(E/3),p=E%3+x-8-3,b=1==(w>>E&1),y.set(N,p,b,!0),y.set(p,N,b,!0)}(Z,T),function A(y,T){const x=y.size;let w=-1,N=x-1,p=7,b=0;for(let E=x-1;E>0;E-=2)for(6===E&&E--;;){for(let Z=0;Z<2;Z++)if(!y.isReserved(N,E-Z)){let G=!1;b<T.length&&(G=1==(T[b]>>>p&1)),y.set(N,E-Z,G),p--,-1===p&&(b++,p=7)}if(N+=w,N<0||x<=N){N-=w,w=-w;break}}}(Z,b),isNaN(w)&&(w=u.getBestMask(Z,k.bind(null,Z,x))),u.applyMask(w,Z),k(Z,x,w),{modules:Z,version:T,errorCorrectionLevel:x,maskPattern:w,segments:N}}l.create=function(T,x){if(typeof T>"u"||""===T)throw new Error("No input text");let N,p,w=i.M;return typeof x<"u"&&(w=i.from(x.errorCorrectionLevel,i.M),N=e.from(x.version),p=u.from(x.maskPattern),x.toSJISFunc&&r.setToSJISFunction(x.toSJISFunc)),D(T,N,w,p)}},2636:(O,l,a)=>{const r=a(1106);function i(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(o){this.degree=o,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(o.length+this.degree);s.set(o);const d=r.mod(s,this.genPoly),u=this.degree-d.length;if(u>0){const m=new Uint8Array(this.degree);return m.set(d,u),m}return d},O.exports=i},2699:(O,l)=>{const a="[0-9]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+")(?:.|[\r\n]))+";l.KANJI=new RegExp(i,"g"),l.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),l.BYTE=new RegExp(t,"g"),l.NUMERIC=new RegExp(a,"g"),l.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+i+"$"),s=new RegExp("^"+a+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");l.testKanji=function(m){return o.test(m)},l.testNumeric=function(m){return s.test(m)},l.testAlphanumeric=function(m){return d.test(m)}},2033:(O,l,a)=>{const r=a(4016),i=a(7783),t=a(2424),o=a(5663),s=a(449),d=a(2699),u=a(4792),m=a(4901);function f(S){return unescape(encodeURIComponent(S)).length}function e(S,k,A){const M=[];let B;for(;null!==(B=S.exec(A));)M.push({data:B[0],index:B.index,mode:k,length:B[0].length});return M}function I(S){const k=e(d.NUMERIC,r.NUMERIC,S),A=e(d.ALPHANUMERIC,r.ALPHANUMERIC,S);let M,B;return u.isKanjiModeEnabled()?(M=e(d.BYTE,r.BYTE,S),B=e(d.KANJI,r.KANJI,S)):(M=e(d.BYTE_KANJI,r.BYTE,S),B=[]),k.concat(A,M,B).sort(function(y,T){return y.index-T.index}).map(function(y){return{data:y.data,mode:y.mode,length:y.length}})}function _(S,k){switch(k){case r.NUMERIC:return i.getBitsLength(S);case r.ALPHANUMERIC:return t.getBitsLength(S);case r.KANJI:return s.getBitsLength(S);case r.BYTE:return o.getBitsLength(S)}}function L(S,k){let A;const M=r.getBestModeForData(S);if(A=r.from(k,M),A!==r.BYTE&&A.bit<M.bit)throw new Error('"'+S+'" cannot be encoded with mode '+r.toString(A)+".\n Suggested mode is: "+r.toString(M));switch(A===r.KANJI&&!u.isKanjiModeEnabled()&&(A=r.BYTE),A){case r.NUMERIC:return new i(S);case r.ALPHANUMERIC:return new t(S);case r.KANJI:return new s(S);case r.BYTE:return new o(S)}}l.fromArray=function(k){return k.reduce(function(A,M){return"string"==typeof M?A.push(L(M,null)):M.data&&A.push(L(M.data,M.mode)),A},[])},l.fromString=function(k,A){const B=function P(S){const k=[];for(let A=0;A<S.length;A++){const M=S[A];switch(M.mode){case r.NUMERIC:k.push([M,{data:M.data,mode:r.ALPHANUMERIC,length:M.length},{data:M.data,mode:r.BYTE,length:M.length}]);break;case r.ALPHANUMERIC:k.push([M,{data:M.data,mode:r.BYTE,length:M.length}]);break;case r.KANJI:k.push([M,{data:M.data,mode:r.BYTE,length:f(M.data)}]);break;case r.BYTE:k.push([{data:M.data,mode:r.BYTE,length:f(M.data)}])}}return k}(I(k,u.isKanjiModeEnabled())),D=function U(S,k){const A={},M={start:{}};let B=["start"];for(let D=0;D<S.length;D++){const y=S[D],T=[];for(let x=0;x<y.length;x++){const w=y[x],N=""+D+x;T.push(N),A[N]={node:w,lastCount:0},M[N]={};for(let p=0;p<B.length;p++){const b=B[p];A[b]&&A[b].node.mode===w.mode?(M[b][N]=_(A[b].lastCount+w.length,w.mode)-_(A[b].lastCount,w.mode),A[b].lastCount+=w.length):(A[b]&&(A[b].lastCount=w.length),M[b][N]=_(w.length,w.mode)+4+r.getCharCountIndicator(w.mode,k))}}B=T}for(let D=0;D<B.length;D++)M[B[D]].end=0;return{map:M,table:A}}(B,A),y=m.find_path(D.map,"start","end"),T=[];for(let x=1;x<y.length-1;x++)T.push(D.table[y[x]].node);return l.fromArray(function C(S){return S.reduce(function(k,A){const M=k.length-1>=0?k[k.length-1]:null;return M&&M.mode===A.mode?(k[k.length-1].data+=A.data,k):(k.push(A),k)},[])}(T))},l.rawSplit=function(k){return l.fromArray(I(k,u.isKanjiModeEnabled()))}},4792:(O,l)=>{let a;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];l.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},l.getSymbolTotalCodewords=function(t){return r[t]},l.getBCHDigit=function(i){let t=0;for(;0!==i;)t++,i>>>=1;return t},l.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');a=t},l.isKanjiModeEnabled=function(){return typeof a<"u"},l.toSJIS=function(t){return a(t)}},4406:(O,l)=>{l.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},2088:(O,l,a)=>{const r=a(4792),i=a(4655),t=a(2259),o=a(4016),s=a(4406),u=r.getBCHDigit(7973);function f(_,C){return o.getCharCountIndicator(_,C)+4}function e(_,C){let P=0;return _.forEach(function(U){const L=f(U.mode,C);P+=L+U.getBitsLength()}),P}l.from=function(C,P){return s.isValid(C)?parseInt(C,10):P},l.getCapacity=function(C,P,U){if(!s.isValid(C))throw new Error("Invalid QR Code version");typeof U>"u"&&(U=o.BYTE);const k=8*(r.getSymbolTotalCodewords(C)-i.getTotalCodewordsCount(C,P));if(U===o.MIXED)return k;const A=k-f(U,C);switch(U){case o.NUMERIC:return Math.floor(A/10*3);case o.ALPHANUMERIC:return Math.floor(A/11*2);case o.KANJI:return Math.floor(A/13);default:return Math.floor(A/8)}},l.getBestVersionForData=function(C,P){let U;const L=t.from(P,t.M);if(Array.isArray(C)){if(C.length>1)return function I(_,C){for(let P=1;P<=40;P++)if(e(_,P)<=l.getCapacity(P,C,o.MIXED))return P}(C,L);if(0===C.length)return 1;U=C[0]}else U=C;return function m(_,C,P){for(let U=1;U<=40;U++)if(C<=l.getCapacity(U,P,_))return U}(U.mode,U.getLength(),L)},l.getEncodedBits=function(C){if(!s.isValid(C)||C<7)throw new Error("Invalid QR Code version");let P=C<<12;for(;r.getBCHDigit(P)-u>=0;)P^=7973<<r.getBCHDigit(P)-u;return C<<12|P}},3210:(O,l,a)=>{const r=a(6355);l.render=function(s,d,u){let m=u,f=d;typeof m>"u"&&(!d||!d.getContext)&&(m=d,d=void 0),d||(f=function t(){try{return document.createElement("canvas")}catch(o){throw new Error("You need to specify a canvas element")}}()),m=r.getOptions(m);const e=r.getImageWidth(s.modules.size,m),I=f.getContext("2d"),_=I.createImageData(e,e);return r.qrToImageData(_.data,s,m),function i(o,s,d){o.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=d,s.width=d,s.style.height=d+"px",s.style.width=d+"px"}(I,f,e),I.putImageData(_,0,0),f},l.renderToDataURL=function(s,d,u){let m=u;return typeof m>"u"&&(!d||!d.getContext)&&(m=d,d=void 0),m||(m={}),l.render(s,d,m).toDataURL(m.type||"image/png",(m.rendererOpts||{}).quality)}},2334:(O,l,a)=>{const r=a(6355);function i(s,d){const u=s.a/255,m=d+'="'+s.hex+'"';return u<1?m+" "+d+'-opacity="'+u.toFixed(2).slice(1)+'"':m}function t(s,d,u){let m=s+d;return typeof u<"u"&&(m+=" "+u),m}l.render=function(d,u,m){const f=r.getOptions(u),e=d.modules.size,I=d.modules.data,_=e+2*f.margin,C=f.color.light.a?"<path "+i(f.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",P="<path "+i(f.color.dark,"stroke")+' d="'+function o(s,d,u){let m="",f=0,e=!1,I=0;for(let _=0;_<s.length;_++){const C=Math.floor(_%d),P=Math.floor(_/d);!C&&!e&&(e=!0),s[_]?(I++,_>0&&C>0&&s[_-1]||(m+=e?t("M",C+u,.5+P+u):t("m",f,0),f=0,e=!1),C+1<d&&s[_+1]||(m+=t("h",I),I=0)):f++}return m}(I,e,f.margin)+'"/>',S='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+'viewBox="0 0 '+_+" "+_+'" shape-rendering="crispEdges">'+C+P+"</svg>\n";return"function"==typeof m&&m(null,S),S}},6355:(O,l)=>{function a(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");let i=r.slice().replace("#","").split("");if(i.length<3||5===i.length||i.length>8)throw new Error("Invalid hex color: "+r);(3===i.length||4===i.length)&&(i=Array.prototype.concat.apply([],i.map(function(o){return[o,o]}))),6===i.length&&i.push("F","F");const t=parseInt(i.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+i.slice(0,6).join("")}}l.getOptions=function(i){i||(i={}),i.color||(i.color={});const o=i.width&&i.width>=21?i.width:void 0;return{width:o,scale:o?4:i.scale||4,margin:typeof i.margin>"u"||null===i.margin||i.margin<0?4:i.margin,color:{dark:a(i.color.dark||"#000000ff"),light:a(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},l.getScale=function(i,t){return t.width&&t.width>=i+2*t.margin?t.width/(i+2*t.margin):t.scale},l.getImageWidth=function(i,t){const o=l.getScale(i,t);return Math.floor((i+2*t.margin)*o)},l.qrToImageData=function(i,t,o){const s=t.modules.size,d=t.modules.data,u=l.getScale(s,o),m=Math.floor((s+2*o.margin)*u),f=o.margin*u,e=[o.color.light,o.color.dark];for(let I=0;I<m;I++)for(let _=0;_<m;_++){let C=4*(I*m+_),P=o.color.light;I>=f&&_>=f&&I<m-f&&_<m-f&&(P=e[d[Math.floor((I-f)/u)*s+Math.floor((_-f)/u)]?1:0]),i[C++]=P.r,i[C++]=P.g,i[C++]=P.b,i[C]=P.a}}}}]);